exports.id=346,exports.ids=[346],exports.modules={42996:(e,t,i)=>{"use strict";let n,r,a,s,o,l;i.d(t,{PHQ:()=>gW,lkp:()=>yd,GUv:()=>g2,Uq0:()=>O,Avh:()=>g$,ZXw:()=>yB,gy1:()=>yH,N_D:()=>yj,c3T:()=>yv,hbc:()=>yD,GRk:()=>cL,FoN:()=>yR,W7t:()=>um,dvl:()=>uj,b12:()=>uT});var c,u,d,p,h,f,m,g,y,v,b,w,x,_,S,k,R,E,T,C,P,A,O,I,N,j,L={};i.r(L),i.d(L,{fixNegotiationNeeded:()=>er,shimAddTrackRemoveTrack:()=>ei,shimAddTrackRemoveTrackWithNative:()=>et,shimGetDisplayMedia:()=>J,shimGetSendersWithDtmf:()=>Z,shimGetStats:()=>Q,shimGetUserMedia:()=>G,shimMediaStream:()=>Y,shimOnTrack:()=>X,shimPeerConnection:()=>en,shimSenderReceiverGetStats:()=>ee});var D={};i.r(D),i.d(D,{shimAddTransceiver:()=>eh,shimCreateAnswer:()=>eg,shimCreateOffer:()=>em,shimGetDisplayMedia:()=>es,shimGetParameters:()=>ef,shimGetUserMedia:()=>ea,shimOnTrack:()=>eo,shimPeerConnection:()=>el,shimRTCDataChannel:()=>ep,shimReceiverGetStats:()=>eu,shimRemoveStream:()=>ed,shimSenderGetStats:()=>ec});var M={};i.r(M),i.d(M,{shimAudioContext:()=>eR,shimCallbacksAPI:()=>eb,shimConstraints:()=>ex,shimCreateOfferLegacy:()=>ek,shimGetUserMedia:()=>ew,shimLocalStreamsAPI:()=>ey,shimRTCIceServerUrls:()=>e_,shimRemoteStreamsAPI:()=>ev,shimTrackEventTransceiver:()=>eS});var U={};i.r(U),i.d(U,{removeExtmapAllowMixed:()=>eN,shimAddIceCandidateNullOrEmpty:()=>ej,shimConnectionState:()=>eI,shimMaxMessageSize:()=>eA,shimParameterlessSetLocalDescription:()=>eL,shimRTCIceCandidate:()=>eC,shimRTCIceCandidateRelayProtocol:()=>eP,shimSendThrowTypeError:()=>eO});var q={};i.r(q),i.d(q,{hasBrowserEnv:()=>it,hasStandardBrowserEnv:()=>ii,hasStandardBrowserWebWorkerEnv:()=>ir});let $=!0,F=!0;function K(e,t,i){let n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function B(e,t,i){if(!e.RTCPeerConnection)return;let n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);let a=e=>{let t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,a),r.apply(this,[e,a])};let a=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(i))return a.apply(this,arguments);let n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function V(){"object"!=typeof window||$||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function z(e,t){F&&console.warn(e+" is deprecated, please use "+t+" instead.")}function W(e){return"[object Object]"===Object.prototype.toString.call(e)}function H(e,t,i){let n=i?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;let a=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(t=>{e.forEach(i=>{i.type===n&&i.trackId===t.id&&function e(t,i,n){!i||n.has(i.id)||(n.set(i.id,i),Object.keys(i).forEach(r=>{r.endsWith("Id")?e(t,t.get(i[r]),n):r.endsWith("Ids")&&i[r].forEach(i=>{e(t,t.get(i),n)})}))}(e,i,r)})}),r}function G(e,t){let i=e&&e.navigator;if(!i.mediaDevices)return;let n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(i=>{if("require"===i||"advanced"===i||"mediaSource"===i)return;let n="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);let r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[r("min",i)]=n.ideal,t.optional.push(e),(e={})[r("max",i)]=n.ideal):e[r("",i)]=n.ideal,t.optional.push(e)}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",i)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});let s=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!s)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:("user"===a.exact||"user"===a.ideal)&&(t=["front"]),t)return i.mediaDevices.enumerateDevices().then(i=>{let s=(i=i.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!s&&i.length&&t.includes("back")&&(s=i[i.length-1]),s&&(e.video.deviceId=a.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=n(e.video),V("chrome: "+JSON.stringify(e)),r(e)})}e.video=n(e.video)}return V("chrome: "+JSON.stringify(e)),r(e)},a=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(i.getUserMedia=(function(e,t,n){r(e,e=>{i.webkitGetUserMedia(e,t,e=>{n&&n(a(e))})})}).bind(i),i.mediaDevices.getUserMedia){let e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(a(e))))}}}function J(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then(t=>{let n=i.video&&i.video.width,r=i.video&&i.video.height,a=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)})}}}function Y(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function X(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)B(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.track.id):{track:i.track};let r=new Event("track");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.id):{track:i};let r=new Event("track");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function Z(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};let n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Q(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let r=function(e){let t={};return e.result().forEach(e=>{let i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t[i.id]=i}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){i(a(r(e)))},e]):new Promise((e,i)=>{t.apply(this,[function(t){e(a(r(t)))},i])}).then(i,n)}}function ee(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>H(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),B(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>H(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,i;let n=arguments[0];return(this.getSenders().forEach(t=>{t.track===n&&(e?i=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===n&&(t?i=!0:t=e),e.track===n)),i||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function et(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();i.apply(this,arguments);let n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};let r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),r.apply(this,arguments)}}function ei(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return et(e);let i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};let r=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(RegExp(r.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let r=this._streams[i.id];if(r)r.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?i.apply(this,[t=>{let i=a(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then(e=>a(this,e))}})[t]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let i;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],i=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(RegExp(n.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:i}))),s.apply(this,arguments)};let o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=o.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(i=>{this._streams[i].getTracks().find(t=>e.track===t)&&(t=this._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function en(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]})}function er(e,t){B(e,"negotiationneeded",e=>{let i=e.target;if(!(t.version<72)&&(!i.getConfiguration||"plan-b"!==i.getConfiguration().sdpSemantics)||"stable"===i.signalingState)return e})}function ea(e,t){let i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){z("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){let e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return"object"==typeof i&&"object"==typeof i.audio&&(e((i=JSON.parse(JSON.stringify(i))).audio,"autoGainControl","mozAutoGainControl"),e(i.audio,"noiseSuppression","mozNoiseSuppression")),t(i)},n&&n.prototype.getSettings){let t=n.prototype.getSettings;n.prototype.getSettings=function(){let i=t.apply(this,arguments);return e(i,"mozAutoGainControl","autoGainControl"),e(i,"mozNoiseSuppression","noiseSuppression"),i}}if(n&&n.prototype.applyConstraints){let t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return"audio"===this.kind&&"object"==typeof i&&(e(i=JSON.parse(JSON.stringify(i)),"autoGainControl","mozAutoGainControl"),e(i,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[i])}}}}function es(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}function eo(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function el(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]});let i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,r,a]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(r,a)}}function ec(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function eu(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),B(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ed(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){z("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function ep(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function eh(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let i=(e=[...e]).length>0;i&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let n=t.apply(this,arguments);if(i){let{sender:t}=n,i=t.getParameters();"encodings"in i&&(1!==i.encodings.length||0!==Object.keys(i.encodings[0]).length)||(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function ef(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function em(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eg(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ey(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(i=>t.call(this,i,e)),e.getVideoTracks().forEach(i=>t.call(this,i,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let i=e.getTracks();this.getSenders().forEach(e=>{i.includes(e.track)&&this.removeTrack(e)})})}}function ev(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let i=new Event("addstream");i.stream=t,e.dispatchEvent(i)})}),t.apply(e,arguments)}}}function eb(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){let i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r};let o=function(e,t,i){let n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=o,o=function(e,t,i){let n=a.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=o,o=function(e,t,i){let n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=o}function ew(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(ex(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}).bind(t))}function ex(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return W(t)?Object.keys(t).reduce(function(i,n){let r=W(t[n]),a=r?e(t[n]):t[n],s=r&&!Object.keys(a).length;return void 0===a||s?i:Object.assign(i,{[n]:a})},{}):t}(e.video)}):e}function e_(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){let t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];void 0===n.urls&&n.url?(z("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function eS(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ek(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let i=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eR(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var eE=i(1388),eT=i.n(eE);function eC(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let i=new t(e),n=eT().parseCandidate(e.candidate);for(let e in n)e in i||Object.defineProperty(i,e,{value:n[e]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,B(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function eP(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||B(e,"icecandidate",e=>{if(e.candidate){let t=eT().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function eA(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let i=function(e){if(!e||!e.sdp)return!1;let t=eT().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=eT().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},n=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},a=function(e,i){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);let r=eT().matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?n=parseInt(r[0].substring(19),10):"firefox"===t.browser&&-1!==i&&(n=2147483637),n},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){let e;let t=n(arguments[0]),i=r(t),s=a(arguments[0],t);e=0===i&&0===s?Number.POSITIVE_INFINITY:0===i||0===s?Math.max(i,s):Math.min(i,s);let o={};Object.defineProperty(o,"maxMessageSize",{get:()=>e}),this._sctp=o}return s.apply(this,arguments)}}function eO(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let i=e.send;e.send=function(){let n=arguments[0],r=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return i.apply(e,arguments)}}let i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=i.apply(this,arguments);return t(e,this),e},B(e,"datachannel",e=>(t(e.channel,e.target),e))}function eI(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let i=new Event("connectionstatechange",e);t.dispatchEvent(i)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function eN(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let i=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function ej(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function eL(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?i.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>i.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let i=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:i}=e;return i.mozGetUserMedia?(t.browser="firefox",t.version=K(i.userAgent,/Firefox\/(\d+)\./,1)):i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=K(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=K(i.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),n={};switch(i.browser){case"chrome":if(!L||!en||!t.shimChrome){V("Chrome shim is not included in this adapter release.");break}if(null===i.version){V("Chrome shim can not determine version, not shimming.");break}V("adapter.js shimming chrome."),n.browserShim=L,ej(e,i),eL(e,i),G(e,i),Y(e,i),en(e,i),X(e,i),ei(e,i),Z(e,i),Q(e,i),ee(e,i),er(e,i),eC(e,i),eP(e,i),eI(e,i),eA(e,i),eO(e,i),eN(e,i);break;case"firefox":if(!D||!el||!t.shimFirefox){V("Firefox shim is not included in this adapter release.");break}V("adapter.js shimming firefox."),n.browserShim=D,ej(e,i),eL(e,i),ea(e,i),el(e,i),eo(e,i),ed(e,i),ec(e,i),eu(e,i),ep(e,i),eh(e,i),ef(e,i),em(e,i),eg(e,i),eC(e,i),eI(e,i),eA(e,i),eO(e,i);break;case"safari":if(!M||!t.shimSafari){V("Safari shim is not included in this adapter release.");break}V("adapter.js shimming safari."),n.browserShim=M,ej(e,i),eL(e,i),e_(e,i),ek(e,i),eb(e,i),ey(e,i),ev(e,i),eS(e,i),ew(e,i),eR(e,i),eC(e,i),eP(e,i),eA(e,i),eO(e,i),eN(e,i);break;default:V("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});let eD=Symbol.for("protobuf-ts/message-type");function eM(e){let t=!1,i=[];for(let n=0;n<e.length;n++){let r=e.charAt(n);"_"==r?t=!0:/\d/.test(r)?(i.push(r),t=!0):t?(i.push(r.toUpperCase()),t=!1):0==n?i.push(r.toLowerCase()):i.push(r)}return i.join("")}function eU(e){var t,i,n,r;return e.localName=null!==(t=e.localName)&&void 0!==t?t:eM(e.name),e.jsonName=null!==(i=e.jsonName)&&void 0!==i?i:eM(e.name),e.repeat=null!==(n=e.repeat)&&void 0!==n?n:f.NO,e.opt=null!==(r=e.opt)&&void 0!==r?r:!e.repeat&&!e.oneof&&"message"==e.kind,e}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(p||(p={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(h||(h={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(f||(f={}));class eq{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;let e=[],t=[],i=[];for(let n of this.fields)if(n.oneof)i.includes(n.oneof)||(i.push(n.oneof),e.push(n.oneof),t.push(n.oneof));else switch(t.push(n.localName),n.kind){case"scalar":case"enum":(!n.opt||n.repeat)&&e.push(n.localName);break;case"message":n.repeat&&e.push(n.localName);break;case"map":e.push(n.localName)}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let n=Object.keys(e),r=this.data;if(n.length<r.req.length||r.req.some(e=>!n.includes(e))||!i&&n.some(e=>!r.known.includes(e)))return!1;if(t<1)return!0;for(let n of r.oneofs){let r=e[n];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(r))return!1;if(void 0===r.oneofKind)continue;let a=this.fields.find(e=>e.localName===r.oneofKind);if(!a||!this.field(r[r.oneofKind],a,i,t))return!1}for(let n of this.fields)if(void 0===n.oneof&&!this.field(e[n.localName],n,i,t))return!1;return!0}field(e,t,i,n){let r=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(r)return this.scalars(e,t.T,n,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(r)return this.scalars(e,p.INT32,n);return this.scalar(e,p.INT32);case"message":if(void 0===e)break;if(r)return this.messages(e,t.T(),i,n);return this.message(e,t.T(),i,n);case"map":if("object"!=typeof e||null===e)return!1;if(n<2)break;if(!this.mapKeys(e,t.K,n))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,n,t.V.L);case"enum":return this.scalars(Object.values(e),p.INT32,n);case"message":return this.messages(Object.values(e),t.V.T(),i,n)}}return!0}message(e,t,i,n){return i?t.isAssignable(e,n):t.is(e,n)}messages(e,t,i,n){if(!Array.isArray(e))return!1;if(n<2)return!0;if(i){for(let i=0;i<e.length&&i<n;i++)if(!t.isAssignable(e[i],n-1))return!1}else for(let i=0;i<e.length&&i<n;i++)if(!t.is(e[i],n-1))return!1;return!0}scalar(e,t,i){let n=typeof e;switch(t){case p.UINT64:case p.FIXED64:case p.INT64:case p.SFIXED64:case p.SINT64:switch(i){case h.BIGINT:return"bigint"==n;case h.NUMBER:return"number"==n&&!isNaN(e);default:return"string"==n}case p.BOOL:return"boolean"==n;case p.STRING:return"string"==n;case p.BYTES:return e instanceof Uint8Array;case p.DOUBLE:case p.FLOAT:return"number"==n&&!isNaN(e);default:return"number"==n&&Number.isInteger(e)}}scalars(e,t,i,n){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let r=0;r<e.length&&r<i;r++)if(!this.scalar(e[r],t,n))return!1}return!0}mapKeys(e,t,i){let n=Object.keys(e);switch(t){case p.INT32:case p.FIXED32:case p.SFIXED32:case p.SINT32:case p.UINT32:return this.scalars(n.slice(0,i).map(e=>parseInt(e)),t,i);case p.BOOL:return this.scalars(n.slice(0,i).map(e=>"true"==e||"false"!=e&&e),t,i);default:return this.scalars(n,t,i,h.STRING)}}}function e$(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function eF(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let eK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eB=[];for(let e=0;e<eK.length;e++)eB[eK[e].charCodeAt(0)]=e;function eV(){let e=0,t=0;for(let i=0;i<28;i+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}let i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,(128&i)==0)return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function ez(e,t,i){for(let n=0;n<28;n+=7){let r=e>>>n,a=!(r>>>7==0&&0==t),s=(a?128|r:r)&255;if(i.push(s),!a)return}let n=e>>>28&15|(7&t)<<4,r=t>>3!=0;if(i.push((r?128|n:n)&255),r){for(let e=3;e<31;e+=7){let n=t>>>e,r=n>>>7!=0,a=(r?128|n:n)&255;if(i.push(a),!r)return}i.push(t>>>31&1)}}function eW(e){let t="-"==e[0];t&&(e=e.slice(1));let i=0,n=0;function r(t,r){let a=Number(e.slice(t,r));n*=1e6,(i=1e6*i+a)>=4294967296&&(n+=i/4294967296|0,i%=4294967296)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),[t,i,n]}function eH(e,t){if(t>>>0<=2097151)return""+(4294967296*t+(e>>>0));let i=(e>>>24|t<<8)>>>0&16777215,n=t>>16&65535,r=(16777215&e)+6777216*i+6710656*n,a=i+8147497*n,s=2*n;function o(e,t){let i=e?String(e):"";return t?"0000000".slice(i.length)+i:i}return r>=1e7&&(a+=Math.floor(r/1e7),r%=1e7),a>=1e7&&(s+=Math.floor(a/1e7),a%=1e7),o(s,0)+o(a,s)+o(r,1)}function eG(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let i=0;i<9;i++)t.push(127&e|128),e>>=7;t.push(1)}}function eJ(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function eY(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}eB["-".charCodeAt(0)]=eK.indexOf("+"),eB["_".charCodeAt(0)]=eK.indexOf("/"),function(){let e=new DataView(new ArrayBuffer(8));n=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();let eX=/^-?[0-9]+$/;class eZ{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class eQ extends eZ{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.UMIN)throw Error("signed value for ulong");if(e>n.UMAX)throw Error("ulong too large");return n.V.setBigUint64(0,e,!0),new eQ(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!eX.test(e))throw Error("string is no integer");let[t,i,r]=eW(e);if(t)throw Error("signed value for ulong");return new eQ(i,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new eQ(e,e/4294967296)}throw Error("unknown value "+typeof e)}toString(){return n?this.toBigInt().toString():eH(this.lo,this.hi)}toBigInt(){return eY(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigUint64(0,!0)}}eQ.ZERO=new eQ(0,0);class e0 extends eZ{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.MIN)throw Error("signed long too small");if(e>n.MAX)throw Error("signed long too large");return n.V.setBigInt64(0,e,!0),new e0(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!eX.test(e))throw Error("string is no integer");let[t,i,r]=eW(e);if(t){if(r>2147483648||2147483648==r&&0!=i)throw Error("signed long too small")}else if(r>=2147483648)throw Error("signed long too large");let a=new e0(i,r);return t?a.negate():a;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new e0(e,e/4294967296):new e0(-e,-e/4294967296).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(2147483648&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new e0(t,e)}toString(){if(n)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+eH(e.lo,e.hi)}return eH(this.lo,this.hi)}toBigInt(){return eY(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigInt64(0,!0)}}function e1(e,t){if(!e)throw Error(t)}function e2(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function e3(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function e4(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function e6(e,t){switch(t){case h.BIGINT:return e.toBigInt();case h.NUMBER:return e.toNumber();default:return e.toString()}}e0.ZERO=new e0(0,0);class e5{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!==(e=this.info.fields)&&void 0!==e?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,i){if(!e){let e=e$(i);throw("number"==e||"boolean"==e)&&(e=i.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();let n=[];for(let[r,a]of Object.entries(e)){let e;let s=this.fMap[r];if(!s){if(!i.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${r}`);continue}let o=s.localName;if(s.oneof){if(null===a&&("enum"!==s.kind||"google.protobuf.NullValue"!==s.T()[0]))continue;if(n.includes(s.oneof))throw Error(`Multiple members of the oneof group "${s.oneof}" of ${this.info.typeName} are present in JSON.`);n.push(s.oneof),e=t[s.oneof]={oneofKind:o}}else e=t;if("map"==s.kind){if(null===a)continue;this.assert(eF(a),s.name,a);let t=e[o];for(let[e,n]of Object.entries(a)){let r;switch(this.assert(null!==n,s.name+" map value",null),s.V.kind){case"message":r=s.V.T().internalJsonRead(n,i);break;case"enum":if(!1===(r=this.enum(s.V.T(),n,s.name,i.ignoreUnknownFields)))continue;break;case"scalar":r=this.scalar(n,s.V.T,s.V.L,s.name)}this.assert(void 0!==r,s.name+" map value",n);let a=e;s.K==p.BOOL&&(a="true"==a||"false"!=a&&a),t[a=this.scalar(a,s.K,h.STRING,s.name).toString()]=r}}else if(s.repeat){if(null===a)continue;this.assert(Array.isArray(a),s.name,a);let t=e[o];for(let e of a){let n;switch(this.assert(null!==e,s.name,null),s.kind){case"message":n=s.T().internalJsonRead(e,i);break;case"enum":if(!1===(n=this.enum(s.T(),e,s.name,i.ignoreUnknownFields)))continue;break;case"scalar":n=this.scalar(e,s.T,s.L,s.name)}this.assert(void 0!==n,s.name,a),t.push(n)}}else switch(s.kind){case"message":if(null===a&&"google.protobuf.Value"!=s.T().typeName){this.assert(void 0===s.oneof,s.name+" (oneof member)",null);continue}e[o]=s.T().internalJsonRead(a,i,e[o]);break;case"enum":let l=this.enum(s.T(),a,s.name,i.ignoreUnknownFields);if(!1===l)continue;e[o]=l;break;case"scalar":e[o]=this.scalar(a,s.T,s.L,s.name)}}}enum(e,t,i,n){if("google.protobuf.NullValue"==e[0]&&e1(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return e1(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let r=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(r=t.substring(e[2].length));let a=e[1][r];if(void 0===a&&n)return!1;return e1("number"==typeof a,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),a}e1(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,n){let r;try{switch(t){case p.DOUBLE:case p.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){r="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){r="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let n=Number(e);if(Number.isNaN(n)){r="not a number";break}if(!Number.isFinite(n)){r="too large or small";break}return t==p.FLOAT&&e4(n),n;case p.INT32:case p.FIXED32:case p.SFIXED32:case p.SINT32:case p.UINT32:let a;if(null===e)return 0;if("number"==typeof e?a=e:""===e?r="empty string":"string"==typeof e&&(e.trim().length!==e.length?r="extra whitespace":a=Number(e)),void 0===a)break;return t==p.UINT32?e3(a):e2(a),a;case p.INT64:case p.SFIXED64:case p.SINT64:if(null===e)return e6(e0.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return e6(e0.from(e),i);case p.FIXED64:case p.UINT64:if(null===e)return e6(eQ.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return e6(eQ.from(e),i);case p.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case p.STRING:if(null===e)return"";if("string"!=typeof e){r="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case p.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let i=new Uint8Array(t),n=0,r=0,a,s=0;for(let t=0;t<e.length;t++){if(void 0===(a=eB[e.charCodeAt(t)]))switch(e[t]){case"=":r=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:i[n++]=s<<2|(48&a)>>4,s=a,r=2;break;case 2:i[n++]=(15&s)<<4|(60&a)>>2,s=a,r=3;break;case 3:i[n++]=(3&s)<<6|a,r=0}}if(1==r)throw Error("invalid base64 string.");return i.subarray(0,n)}(e)}}catch(e){r=e.message}this.assert(!1,n+(r?" - "+r:""),e)}}class e8{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){let i={};for(let n of this.fields){if(!n.oneof){let r=this.field(n,e[n.localName],t);void 0!==r&&(i[t.useProtoFieldName?n.name:n.jsonName]=r);continue}let r=e[n.oneof];if(r.oneofKind!==n.localName)continue;let a="scalar"==n.kind||"enum"==n.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,s=this.field(n,r[n.localName],a);e1(void 0!==s),i[t.useProtoFieldName?n.name:n.jsonName]=s}return i}field(e,t,i){let n;if("map"==e.kind){e1("object"==typeof t&&null!==t);let r={};switch(e.V.kind){case"scalar":for(let[i,n]of Object.entries(t)){let t=this.scalar(e.V.T,n,e.name,!1,!0);e1(void 0!==t),r[i.toString()]=t}break;case"message":let a=e.V.T();for(let[n,s]of Object.entries(t)){let t=this.message(a,s,e.name,i);e1(void 0!==t),r[n.toString()]=t}break;case"enum":let s=e.V.T();for(let[n,a]of Object.entries(t)){e1(void 0===a||"number"==typeof a);let t=this.enum(s,a,e.name,!1,!0,i.enumAsInteger);e1(void 0!==t),r[n.toString()]=t}}(i.emitDefaultValues||Object.keys(r).length>0)&&(n=r)}else if(e.repeat){e1(Array.isArray(t));let r=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++){let n=this.scalar(e.T,t[i],e.name,e.opt,!0);e1(void 0!==n),r.push(n)}break;case"enum":let a=e.T();for(let n=0;n<t.length;n++){e1(void 0===t[n]||"number"==typeof t[n]);let s=this.enum(a,t[n],e.name,e.opt,!0,i.enumAsInteger);e1(void 0!==s),r.push(s)}break;case"message":let s=e.T();for(let n=0;n<t.length;n++){let a=this.message(s,t[n],e.name,i);e1(void 0!==a),r.push(a)}}(i.emitDefaultValues||r.length>0||i.emitDefaultValues)&&(n=r)}else switch(e.kind){case"scalar":n=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":n=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":n=this.message(e.T(),t,e.name,i)}return n}enum(e,t,i,n,r,a){if("google.protobuf.NullValue"==e[0])return r||n?null:void 0;if(void 0===t){e1(n);return}if(0!==t||r||n)return(e1("number"==typeof t),e1(Number.isInteger(t)),a||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,n){return void 0===t?n.emitDefaultValues?null:void 0:e.internalJsonWrite(t,n)}scalar(e,t,i,n,r){if(void 0===t){e1(n);return}let a=r||n;switch(e){case p.INT32:case p.SFIXED32:case p.SINT32:if(0===t)return a?0:void 0;return e2(t),t;case p.FIXED32:case p.UINT32:if(0===t)return a?0:void 0;return e3(t),t;case p.FLOAT:e4(t);case p.DOUBLE:if(0===t)return a?0:void 0;if(e1("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case p.STRING:if(""===t)return a?"":void 0;return e1("string"==typeof t),t;case p.BOOL:if(!1===t)return!a&&void 0;return e1("boolean"==typeof t),t;case p.UINT64:case p.FIXED64:e1("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let s=eQ.from(t);if(s.isZero()&&!a)return;return s.toString();case p.INT64:case p.SFIXED64:case p.SINT64:e1("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=e0.from(t);if(o.isZero()&&!a)return;return o.toString();case p.BYTES:if(e1(t instanceof Uint8Array),!t.byteLength)return a?"":void 0;return function(e){let t="",i=0,n,r=0;for(let a=0;a<e.length;a++)switch(n=e[a],i){case 0:t+=eK[n>>2],r=(3&n)<<4,i=1;break;case 1:t+=eK[r|n>>4],r=(15&n)<<2,i=2;break;case 2:t+=eK[r|n>>6]+eK[63&n],i=0}return i&&(t+=eK[r]+"=",1==i&&(t+="=")),t}(t)}}}function e7(e,t=h.STRING){switch(e){case p.BOOL:return!1;case p.UINT64:case p.FIXED64:return e6(eQ.ZERO,t);case p.INT64:case p.SFIXED64:case p.SINT64:return e6(e0.ZERO,t);case p.DOUBLE:case p.FLOAT:return 0;case p.BYTES:return new Uint8Array(0);case p.STRING:return"";default:return 0}}(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(i,n,r,a,s)=>{(t(n)?n[e.symbol]:n[e.symbol]=[]).push({no:r,wireType:a,data:s})},e.onWrite=(t,i,n)=>{for(let{no:t,wireType:r,data:a}of e.list(i))n.tag(t,r).raw(a)},e.list=(i,n)=>{if(t(i)){let t=i[e.symbol];return n?t.filter(e=>e.no==n):t}return[]},e.last=(t,i)=>e.list(t,i).slice(-1)[0];let t=t=>t&&Array.isArray(t[e.symbol])})(m||(m={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(g||(g={}));class e9{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,i,n){this.prepare();let r=void 0===n?e.len:e.pos+n;for(;e.pos<r;){let[n,r]=e.tag(),a=this.fieldNoToField.get(n);if(!a){let a=i.readUnknownField;if("throw"==a)throw Error(`Unknown field ${n} (wire type ${r}) for ${this.info.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?m.onRead:a)(this.info.typeName,t,n,r,s);continue}let s=t,o=a.repeat,l=a.localName;switch(a.oneof&&(s=s[a.oneof]).oneofKind!==l&&(s=t[a.oneof]={oneofKind:l}),a.kind){case"scalar":case"enum":let c="enum"==a.kind?p.INT32:a.T,u="scalar"==a.kind?a.L:void 0;if(o){let t=s[l];if(r==g.LengthDelimited&&c!=p.STRING&&c!=p.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)t.push(this.scalar(e,c,u))}else t.push(this.scalar(e,c,u))}else s[l]=this.scalar(e,c,u);break;case"message":if(o){let t=s[l],n=a.T().internalBinaryRead(e,e.uint32(),i);t.push(n)}else s[l]=a.T().internalBinaryRead(e,e.uint32(),i,s[l]);break;case"map":let[d,h]=this.mapEntry(a,e,i);s[l][d]=h}}}mapEntry(e,t,i){let n,r,a=t.uint32(),s=t.pos+a;for(;t.pos<s;){let[a,s]=t.tag();switch(a){case 1:n=e.K==p.BOOL?t.bool().toString():this.scalar(t,e.K,h.STRING);break;case 2:switch(e.V.kind){case"scalar":r=this.scalar(t,e.V.T,e.V.L);break;case"enum":r=t.int32();break;case"message":r=e.V.T().internalBinaryRead(t,t.uint32(),i)}break;default:throw Error(`Unknown field ${a} (wire type ${s}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===n){let t=e7(e.K);n=e.K==p.BOOL?t.toString():t}if(void 0===r)switch(e.V.kind){case"scalar":r=e7(e.V.T,e.V.L);break;case"enum":r=0;break;case"message":r=e.V.T().create()}return[n,r]}scalar(e,t,i){switch(t){case p.INT32:return e.int32();case p.STRING:return e.string();case p.BOOL:return e.bool();case p.DOUBLE:return e.double();case p.FLOAT:return e.float();case p.INT64:return e6(e.int64(),i);case p.UINT64:return e6(e.uint64(),i);case p.FIXED64:return e6(e.fixed64(),i);case p.FIXED32:return e.fixed32();case p.BYTES:return e.bytes();case p.UINT32:return e.uint32();case p.SFIXED32:return e.sfixed32();case p.SFIXED64:return e6(e.sfixed64(),i);case p.SINT32:return e.sint32();case p.SINT64:return e6(e.sint64(),i)}}}class te{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,i){for(let n of(this.prepare(),this.fields)){let r,a,s=n.repeat,o=n.localName;if(n.oneof){let t=e[n.oneof];if(t.oneofKind!==o)continue;r=t[o],a=!0}else r=e[o],a=!1;switch(n.kind){case"scalar":case"enum":let l="enum"==n.kind?p.INT32:n.T;if(s){if(e1(Array.isArray(r)),s==f.PACKED)this.packed(t,l,n.no,r);else for(let e of r)this.scalar(t,l,n.no,e,!0)}else void 0===r?e1(n.opt):this.scalar(t,l,n.no,r,a||n.opt);break;case"message":if(s)for(let e of(e1(Array.isArray(r)),r))this.message(t,i,n.T(),n.no,e);else this.message(t,i,n.T(),n.no,r);break;case"map":for(let[e,a]of(e1("object"==typeof r&&null!==r),Object.entries(r)))this.mapEntry(t,i,n,e,a)}}let n=i.writeUnknownFields;!1!==n&&(!0===n?m.onWrite:n)(this.info.typeName,e,t)}mapEntry(e,t,i,n,r){e.tag(i.no,g.LengthDelimited),e.fork();let a=n;switch(i.K){case p.INT32:case p.FIXED32:case p.UINT32:case p.SFIXED32:case p.SINT32:a=Number.parseInt(n);break;case p.BOOL:e1("true"==n||"false"==n),a="true"==n}switch(this.scalar(e,i.K,1,a,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,r,!0);break;case"enum":this.scalar(e,p.INT32,2,r,!0);break;case"message":this.message(e,t,i.V.T(),2,r)}e.join()}message(e,t,i,n,r){void 0!==r&&(i.internalBinaryWrite(r,e.tag(n,g.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,n,r){let[a,s,o]=this.scalarInfo(t,n);(!o||r)&&(e.tag(i,a),e[s](n))}packed(e,t,i,n){if(!n.length)return;e1(t!==p.BYTES&&t!==p.STRING),e.tag(i,g.LengthDelimited),e.fork();let[,r]=this.scalarInfo(t);for(let t=0;t<n.length;t++)e[r](n[t]);e.join()}scalarInfo(e,t){let i,n=g.Varint,r=void 0===t,a=0===t;switch(e){case p.INT32:i="int32";break;case p.STRING:a=r||!t.length,n=g.LengthDelimited,i="string";break;case p.BOOL:a=!1===t,i="bool";break;case p.UINT32:i="uint32";break;case p.DOUBLE:n=g.Bit64,i="double";break;case p.FLOAT:n=g.Bit32,i="float";break;case p.INT64:a=r||e0.from(t).isZero(),i="int64";break;case p.UINT64:a=r||eQ.from(t).isZero(),i="uint64";break;case p.FIXED64:a=r||eQ.from(t).isZero(),n=g.Bit64,i="fixed64";break;case p.BYTES:a=r||!t.byteLength,n=g.LengthDelimited,i="bytes";break;case p.FIXED32:n=g.Bit32,i="fixed32";break;case p.SFIXED32:n=g.Bit32,i="sfixed32";break;case p.SFIXED64:a=r||e0.from(t).isZero(),n=g.Bit64,i="sfixed64";break;case p.SINT32:i="sint32";break;case p.SINT64:a=r||e0.from(t).isZero(),i="sint64"}return[n,i,r||a]}}function tt(e,t,i){let n,r;for(let a of e.fields){let e=a.localName;if(a.oneof){let s=i[a.oneof];if((null==s?void 0:s.oneofKind)==void 0)continue;if(n=s[e],(r=t[a.oneof]).oneofKind=s.oneofKind,void 0==n){delete r[e];continue}}else if(n=i[e],r=t,void 0==n)continue;switch(a.repeat&&(r[e].length=n.length),a.kind){case"scalar":case"enum":if(a.repeat)for(let t=0;t<n.length;t++)r[e][t]=n[t];else r[e]=n;break;case"message":let s=a.T();if(a.repeat)for(let t=0;t<n.length;t++)r[e][t]=s.create(n[t]);else void 0===r[e]?r[e]=s.create(n):s.mergePartial(r[e],n);break;case"map":switch(a.V.kind){case"scalar":case"enum":Object.assign(r[e],n);break;case"message":let o=a.V.T();for(let t of Object.keys(n))r[e][t]=o.create(n[t])}}}}let ti={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},tn={ignoreUnknownFields:!1},tr=Object.values;function ta(e,t,i){if(t===i)return!0;if(e!==p.BYTES||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=i[e])return!1;return!0}function ts(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!ta(e,t[n],i[n]))return!1;return!0}function to(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!e.equals(t[n],i[n]))return!1;return!0}let tl={writeUnknownFields:!0,writerFactory:()=>new tc};class tc{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),i=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],i),i+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(e3(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return e2(e),eG(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){e4(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){e3(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){e2(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return e2(e),eG(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=e0.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=eQ.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=e0.from(e);return ez(t.lo,t.hi,this.buf),this}sint64(e){let t=e0.from(e),i=t.hi>>31;return ez(t.lo<<1^i,(t.hi<<1|t.lo>>>31)^i,this.buf),this}uint64(e){let t=eQ.from(e);return ez(t.lo,t.hi,this.buf),this}}let tu={readUnknownField:!0,readerFactory:e=>new td(e)};class td{constructor(e,t){this.varint64=eV,this.uint32=eJ,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=7&e;if(t<=0||i<0||i>5)throw Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case g.Varint:for(;128&this.buf[this.pos++];);break;case g.Bit64:this.pos+=4;case g.Bit32:this.pos+=4;break;case g.LengthDelimited:let i=this.uint32();this.pos+=i;break;case g.StartGroup:let n;for(;(n=this.tag()[1])!==g.EndGroup;)this.skip(n);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new e0(...this.varint64())}uint64(){return new eQ(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(1&e);return new e0(e=(e>>>1|(1&t)<<31)^i,t=t>>>1^i)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new eQ(this.sfixed32(),this.sfixed32())}sfixed64(){return new e0(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}class tp{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(eU),this.options=null!=i?i:{},this.messagePrototype=Object.defineProperty({},eD,{value:this}),this.refTypeCheck=new eq(this),this.refJsonReader=new e5(this),this.refJsonWriter=new e8(this),this.refBinReader=new e9(this),this.refBinWriter=new te(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},eD,{value:e});for(let i of e.fields){let e=i.localName;if(!i.opt){if(i.oneof)t[i.oneof]={oneofKind:void 0};else if(i.repeat)t[e]=[];else switch(i.kind){case"scalar":t[e]=e7(i.T,i.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}}return t}(this);return void 0!==e&&tt(this,t,e),t}clone(e){let t=this.create();return tt(this,t,e),t}equals(e,t){return function(e,t,i){if(t===i)return!0;if(!t||!i)return!1;for(let n of e.fields){let e=n.localName,r=n.oneof?t[n.oneof][e]:t[e],a=n.oneof?i[n.oneof][e]:i[e];switch(n.kind){case"enum":case"scalar":let s="enum"==n.kind?p.INT32:n.T;if(!(n.repeat?ts(s,r,a):ta(s,r,a)))return!1;break;case"map":if(!("message"==n.V.kind?to(n.V.T(),tr(r),tr(a)):ts("enum"==n.V.kind?p.INT32:n.V.T,tr(r),tr(a))))return!1;break;case"message":let o=n.T();if(!(n.repeat?to(o,r,a):o.equals(r,a)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){tt(this,e,t)}fromBinary(e,t){let i=t?Object.assign(Object.assign({},tu),t):tu;return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},tn),t):tn)}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,t?Object.assign(Object.assign({},ti),t):ti)}toJsonString(e,t){var i;return JSON.stringify(this.toJson(e,t),null,null!==(i=null==t?void 0:t.prettySpaces)&&void 0!==i?i:0)}toBinary(e,t){let i=t?Object.assign(Object.assign({},tl),t):tl;return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let n=null!=i?i:this.create();return this.refJsonReader.read(e,n,t),n}throw Error(`Unable to parse message ${this.typeName} from JSON ${e$(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,n){let r=null!=n?n:this.create();return this.refBinReader.read(e,r,i,t),r}}class th{constructor(e,t,i){this.typeName=e,this.methods=t.map(e=>(function(e,t){var i,n,r;return e.service=t,e.localName=null!==(i=e.localName)&&void 0!==i?i:eM(e.name),e.serverStreaming=!!e.serverStreaming,e.clientStreaming=!!e.clientStreaming,e.options=null!==(n=e.options)&&void 0!==n?n:{},e.idempotency=null!==(r=e.idempotency)&&void 0!==r?r:void 0,e})(e,this)),this.options=null!=i?i:{}}}function tf(e,t,i,n,r){var a,s,o,l;if("unary"==e){let e=(e,i,n)=>t.unary(e,i,n);for(let t of(null!==(a=n.interceptors)&&void 0!==a?a:[]).filter(e=>e.interceptUnary).reverse()){let i=e;e=(e,n,r)=>t.interceptUnary(i,e,n,r)}return e(i,r,n)}if("serverStreaming"==e){let e=(e,i,n)=>t.serverStreaming(e,i,n);for(let t of(null!==(s=n.interceptors)&&void 0!==s?s:[]).filter(e=>e.interceptServerStreaming).reverse()){let i=e;e=(e,n,r)=>t.interceptServerStreaming(i,e,n,r)}return e(i,r,n)}if("clientStreaming"==e){let e=(e,i)=>t.clientStreaming(e,i);for(let t of(null!==(o=n.interceptors)&&void 0!==o?o:[]).filter(e=>e.interceptClientStreaming).reverse()){let i=e;e=(e,n)=>t.interceptClientStreaming(i,e,n)}return e(i,n)}if("duplex"==e){let e=(e,i)=>t.duplex(e,i);for(let t of(null!==(l=n.interceptors)&&void 0!==l?l:[]).filter(e=>e.interceptDuplex).reverse()){let i=e;e=(e,n)=>t.interceptDuplex(i,e,n)}return e(i,n)}!function(e,t){throw Error(null!=t?t:"Unexpected object: "+e)}(e)}function tm(e,t){return function(){return e.apply(t,arguments)}}let{toString:tg}=Object.prototype,{getPrototypeOf:ty}=Object,tv=(c=Object.create(null),e=>{let t=tg.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())}),tb=e=>(e=e.toLowerCase(),t=>tv(t)===e),tw=e=>t=>typeof t===e,{isArray:tx}=Array,t_=tw("undefined"),tS=tb("ArrayBuffer"),tk=tw("string"),tR=tw("function"),tE=tw("number"),tT=e=>null!==e&&"object"==typeof e,tC=e=>{if("object"!==tv(e))return!1;let t=ty(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tP=tb("Date"),tA=tb("File"),tO=tb("Blob"),tI=tb("FileList"),tN=tb("URLSearchParams");function tj(e,t,{allOwnKeys:i=!1}={}){let n,r;if(null!=e){if("object"!=typeof e&&(e=[e]),tx(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{let r;let a=i?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;for(n=0;n<s;n++)r=a[n],t.call(null,e[r],r,e)}}}function tL(e,t){let i;t=t.toLowerCase();let n=Object.keys(e),r=n.length;for(;r-- >0;)if(t===(i=n[r]).toLowerCase())return i;return null}let tD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,tM=e=>!t_(e)&&e!==tD,tU=(u="undefined"!=typeof Uint8Array&&ty(Uint8Array),e=>u&&e instanceof u),tq=tb("HTMLFormElement"),t$=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),tF=tb("RegExp"),tK=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),n={};tj(i,(i,r)=>{let a;!1!==(a=t(i,r,e))&&(n[r]=a||i)}),Object.defineProperties(e,n)},tB="abcdefghijklmnopqrstuvwxyz",tV="0123456789",tz={DIGIT:tV,ALPHA:tB,ALPHA_DIGIT:tB+tB.toUpperCase()+tV},tW=tb("AsyncFunction"),tH={isArray:tx,isArrayBuffer:tS,isBuffer:function(e){return null!==e&&!t_(e)&&null!==e.constructor&&!t_(e.constructor)&&tR(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||tR(e.append)&&("formdata"===(t=tv(e))||"object"===t&&tR(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tS(e.buffer)},isString:tk,isNumber:tE,isBoolean:e=>!0===e||!1===e,isObject:tT,isPlainObject:tC,isUndefined:t_,isDate:tP,isFile:tA,isBlob:tO,isRegExp:tF,isFunction:tR,isStream:e=>tT(e)&&tR(e.pipe),isURLSearchParams:tN,isTypedArray:tU,isFileList:tI,forEach:tj,merge:function e(){let{caseless:t}=tM(this)&&this||{},i={},n=(n,r)=>{let a=t&&tL(i,r)||r;tC(i[a])&&tC(n)?i[a]=e(i[a],n):tC(n)?i[a]=e({},n):tx(n)?i[a]=n.slice():i[a]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&tj(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(tj(t,(t,n)=>{i&&tR(t)?e[n]=tm(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,a,s;let o={};if(t=t||{},null==e)return t;do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)s=r[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=!1!==i&&ty(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:tv,kindOfTest:tb,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let n=e.indexOf(t,i);return -1!==n&&n===i},toArray:e=>{if(!e)return null;if(tx(e))return e;let t=e.length;if(!tE(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let n=(e&&e[Symbol.iterator]).call(e);for(;(i=n.next())&&!i.done;){let n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let i;let n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:tq,hasOwnProperty:t$,hasOwnProp:t$,reduceDescriptors:tK,freezeMethods:e=>{tK(e,(t,i)=>{if(tR(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(tR(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(tx(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:tL,global:tD,isContextDefined:tM,ALPHABET:tz,generateString:(e=16,t=tz.ALPHA_DIGIT)=>{let i="",{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&tR(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,n)=>{if(tT(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let r=tx(e)?[]:{};return tj(e,(e,t)=>{let a=i(e,n+1);t_(a)||(r[t]=a)}),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:tW,isThenable:e=>e&&(tT(e)||tR(e))&&tR(e.then)&&tR(e.catch)};function tG(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}tH.inherits(tG,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tH.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let tJ=tG.prototype,tY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tY[e]={value:e}}),Object.defineProperties(tG,tY),Object.defineProperty(tJ,"isAxiosError",{value:!0}),tG.from=(e,t,i,n,r,a)=>{let s=Object.create(tJ);return tH.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),tG.call(s,e.message,t,i,n,r),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var tX=i(93675);function tZ(e){return tH.isPlainObject(e)||tH.isArray(e)}function tQ(e){return tH.endsWith(e,"[]")?e.slice(0,-2):e}function t0(e,t,i){return e?e.concat(t).map(function(e,t){return e=tQ(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let t1=tH.toFlatObject(tH,{},null,function(e){return/^is[A-Z]/.test(e)}),t2=function(e,t,i){if(!tH.isObject(e))throw TypeError("target must be an object");t=t||new(tX||FormData);let n=(i=tH.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!tH.isUndefined(t[e])})).metaTokens,r=i.visitor||c,a=i.dots,s=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&tH.isSpecCompliantForm(t);if(!tH.isFunction(r))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(tH.isDate(e))return e.toISOString();if(!o&&tH.isBlob(e))throw new tG("Blob is not supported. Use a Buffer instead.");return tH.isArrayBuffer(e)||tH.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,i,r){let o=e;if(e&&!r&&"object"==typeof e){if(tH.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else{var c;if(tH.isArray(e)&&(c=e,tH.isArray(c)&&!c.some(tZ))||(tH.isFileList(e)||tH.endsWith(i,"[]"))&&(o=tH.toArray(e)))return i=tQ(i),o.forEach(function(e,n){tH.isUndefined(e)||null===e||t.append(!0===s?t0([i],n,a):null===s?i:i+"[]",l(e))}),!1}}return!!tZ(e)||(t.append(t0(r,i,a),l(e)),!1)}let u=[],d=Object.assign(t1,{defaultVisitor:c,convertValue:l,isVisitable:tZ});if(!tH.isObject(e))throw TypeError("data must be an object");return function e(i,n){if(!tH.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+n.join("."));u.push(i),tH.forEach(i,function(i,a){!0===(!(tH.isUndefined(i)||null===i)&&r.call(t,i,tH.isString(a)?a.trim():a,n,d))&&e(i,n?n.concat(a):[a])}),u.pop()}}(e),t};function t3(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function t4(e,t){this._pairs=[],e&&t2(e,this,t)}let t6=t4.prototype;function t5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t8(e,t,i){let n;if(!t)return e;let r=i&&i.encode||t5,a=i&&i.serialize;if(n=a?a(t,i):tH.isURLSearchParams(t)?t.toString():new t4(t,i).toString(r)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}t6.append=function(e,t){this._pairs.push([e,t])},t6.toString=function(e){let t=e?function(t){return e.call(this,t,t3)}:t3;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class t7{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){tH.forEach(this.handlers,function(t){null!==t&&e(t)})}}let t9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ie={isNode:!0,classes:{URLSearchParams:i(57310).URLSearchParams,FormData:tX,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]},it="undefined"!=typeof window&&"undefined"!=typeof document,ii=(d="undefined"!=typeof navigator&&navigator.product,it&&0>["ReactNative","NativeScript","NS"].indexOf(d)),ir="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ia={...q,...ie},is=function(e){if(tH.isFormData(e)&&tH.isFunction(e.entries)){let t={};return tH.forEachEntry(e,(e,i)=>{!function e(t,i,n,r){let a=t[r++];if("__proto__"===a)return!0;let s=Number.isFinite(+a),o=r>=t.length;return(a=!a&&tH.isArray(n)?n.length:a,o)?tH.hasOwnProp(n,a)?n[a]=[n[a],i]:n[a]=i:(n[a]&&tH.isObject(n[a])||(n[a]=[]),e(t,i,n[a],r)&&tH.isArray(n[a])&&(n[a]=function(e){let t,i;let n={},r=Object.keys(e),a=r.length;for(t=0;t<a;t++)n[i=r[t]]=e[i];return n}(n[a]))),!s}(tH.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null},io={transitional:t9,adapter:["xhr","http"],transformRequest:[function(e,t){let i;let n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=tH.isObject(e);if(a&&tH.isHTMLForm(e)&&(e=new FormData(e)),tH.isFormData(e))return r?JSON.stringify(is(e)):e;if(tH.isArrayBuffer(e)||tH.isBuffer(e)||tH.isStream(e)||tH.isFile(e)||tH.isBlob(e))return e;if(tH.isArrayBufferView(e))return e.buffer;if(tH.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1){var s,o;return(s=e,o=this.formSerializer,t2(s,new ia.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return ia.isNode&&tH.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},o))).toString()}if((i=tH.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return t2(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,i){if(tH.isString(e))try{return(0,JSON.parse)(e),tH.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||io.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&tH.isString(e)&&(i&&!this.responseType||n)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&n){if("SyntaxError"===e.name)throw tG.from(e,tG.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tH.forEach(["delete","get","head","post","put","patch"],e=>{io.headers[e]={}});let il=tH.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ic=e=>{let t,i,n;let r={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!t||r[t]&&il[t]||("set-cookie"===t?r[t]?r[t].push(i):r[t]=[i]:r[t]=r[t]?r[t]+", "+i:i)}),r},iu=Symbol("internals");function id(e){return e&&String(e).trim().toLowerCase()}function ip(e){return!1===e||null==e?e:tH.isArray(e)?e.map(ip):String(e)}let ih=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function im(e,t,i,n,r){if(tH.isFunction(n))return n.call(this,t,i);if(r&&(t=i),tH.isString(t)){if(tH.isString(n))return -1!==t.indexOf(n);if(tH.isRegExp(n))return n.test(t)}}class ig{constructor(e){e&&this.set(e)}set(e,t,i){let n=this;function r(e,t,i){let r=id(t);if(!r)throw Error("header name must be a non-empty string");let a=tH.findKey(n,r);a&&void 0!==n[a]&&!0!==i&&(void 0!==i||!1===n[a])||(n[a||t]=ip(e))}let a=(e,t)=>tH.forEach(e,(e,i)=>r(e,i,t));return tH.isPlainObject(e)||e instanceof this.constructor?a(e,t):tH.isString(e)&&(e=e.trim())&&!ih(e)?a(ic(e),t):null!=e&&r(t,e,i),this}get(e,t){if(e=id(e)){let i=tH.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(e);if(tH.isFunction(t))return t.call(this,e,i);if(tH.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=id(e)){let i=tH.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||im(this,this[i],i,t)))}return!1}delete(e,t){let i=this,n=!1;function r(e){if(e=id(e)){let r=tH.findKey(i,e);r&&(!t||im(i,i[r],r,t))&&(delete i[r],n=!0)}}return tH.isArray(e)?e.forEach(r):r(e),n}clear(e){let t=Object.keys(this),i=t.length,n=!1;for(;i--;){let r=t[i];(!e||im(this,this[r],r,e,!0))&&(delete this[r],n=!0)}return n}normalize(e){let t=this,i={};return tH.forEach(this,(n,r)=>{let a=tH.findKey(i,r);if(a){t[a]=ip(n),delete t[r];return}let s=e?r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(r).trim();s!==r&&delete t[r],t[s]=ip(n),i[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return tH.forEach(this,(i,n)=>{null!=i&&!1!==i&&(t[n]=e&&tH.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[iu]=this[iu]={accessors:{}}).accessors,i=this.prototype;function n(e){let n=id(e);t[n]||(function(e,t){let i=tH.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})})}(i,e),t[n]=!0)}return tH.isArray(e)?e.forEach(n):n(e),this}}function iy(e,t){let i=this||io,n=t||i,r=ig.from(n.headers),a=n.data;return tH.forEach(e,function(e){a=e.call(i,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function iv(e){return!!(e&&e.__CANCEL__)}function ib(e,t,i){tG.call(this,null==e?"canceled":e,tG.ERR_CANCELED,t,i),this.name="CanceledError"}function iw(e,t,i){let n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new tG("Request failed with status code "+i.status,[tG.ERR_BAD_REQUEST,tG.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function ix(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}ig.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tH.reduceDescriptors(ig.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),tH.freezeMethods(ig),tH.inherits(ib,tG,{__CANCEL__:!0});var i_=i(86886),iS=i(13685),ik=i(95687),iR=i.n(ik),iE=i(73837),iT=i(42136),iC=i(59796);let iP="1.6.7";function iA(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}let iO=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var iI=i(12781);let iN=function(e,t){let i=0,n=1e3/t,r=null;return function(t,a){let s=Date.now();if(t||s-i>n)return r&&(clearTimeout(r),r=null),i=s,e.apply(null,a);r||(r=setTimeout(()=>(r=null,i=Date.now(),e.apply(null,a)),n-(s-i)))}},ij=function(e,t){let i;let n=Array(e=e||10),r=Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){let l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),l-i<t)return;let p=c&&l-c;return p?Math.round(1e3*d/p):void 0}},iL=Symbol("internals");class iD extends iI.Transform{constructor(e){super({readableHighWaterMark:(e=tH.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!tH.isUndefined(t[e]))).chunkSize});let t=this,i=this[iL]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},n=ij(i.ticksRate*e.samplesCount,i.timeWindow);this.on("newListener",e=>{"progress"!==e||i.isCaptured||(i.isCaptured=!0)});let r=0;i.updateProgress=iN(function(){let e=i.length,a=i.bytesSeen,s=a-r;if(!s||t.destroyed)return;let o=n(s);r=a,process.nextTick(()=>{t.emit("progress",{loaded:a,total:e,progress:e?a/e:void 0,bytes:s,rate:o||void 0,estimated:o&&e&&a<=e?(e-a)/o:void 0})})},i.ticksRate);let a=()=>{i.updateProgress(!0)};this.once("end",a),this.once("error",a)}_read(e){let t=this[iL];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,i){let n=this,r=this[iL],a=r.maxRate,s=this.readableHighWaterMark,o=r.timeWindow,l=a/(1e3/o),c=!1!==r.minChunkSize?Math.max(r.minChunkSize,.01*l):0,u=(e,t)=>{let i;let u=Buffer.byteLength(e),d=null,p=s,h=0;if(a){let e=Date.now();(!r.ts||(h=e-r.ts)>=o)&&(r.ts=e,i=l-r.bytes,r.bytes=i<0?-i:0,h=0),i=l-r.bytes}if(a){if(i<=0)return setTimeout(()=>{t(null,e)},o-h);i<p&&(p=i)}p&&u>p&&u-p>c&&(d=e.subarray(p),e=e.subarray(0,p)),function(e,t){let i=Buffer.byteLength(e);r.bytesSeen+=i,r.bytes+=i,r.isCaptured&&r.updateProgress(),n.push(e)?process.nextTick(t):r.onReadCallback=()=>{r.onReadCallback=null,process.nextTick(t)}}(e,d?()=>{process.nextTick(t,null,d)}:t)};u(e,function e(t,n){if(t)return i(t);n?u(n,e):i(null)})}setLength(e){return this[iL].length=+e,this}}var iM=i(82361);let{asyncIterator:iU}=Symbol,iq=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[iU]?yield*e[iU]():yield e},i$=tH.ALPHABET.ALPHA_DIGIT+"-_",iF=new iE.TextEncoder,iK=iF.encode("\r\n");class iB{constructor(e,t){let{escapeName:i}=this.constructor,n=tH.isString(t),r=`Content-Disposition: form-data; name="${i(e)}"${!n&&t.name?`; filename="${i(t.name)}"`:""}\r
`;n?t=iF.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):r+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=iF.encode(r+"\r\n"),this.contentLength=n?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;tH.isTypedArray(e)?yield e:yield*iq(e),yield iK}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let iV=(e,t,i)=>{let{tag:n="form-data-boundary",size:r=25,boundary:a=n+"-"+tH.generateString(r,i$)}=i||{};if(!tH.isFormData(e))throw TypeError("FormData instance required");if(a.length<1||a.length>70)throw Error("boundary must be 10-70 characters long");let s=iF.encode("--"+a+"\r\n"),o=iF.encode("--"+a+"--\r\n\r\n"),l=o.byteLength,c=Array.from(e.entries()).map(([e,t])=>{let i=new iB(e,t);return l+=i.size,i});l+=s.byteLength*c.length;let u={"Content-Type":`multipart/form-data; boundary=${a}`};return Number.isFinite(l=tH.toFiniteNumber(l))&&(u["Content-Length"]=l),t&&t(u),iI.Readable.from(async function*(){for(let e of c)yield s,yield*e.encode();yield o}())};class iz extends iI.Transform{__transform(e,t,i){this.push(e),i()}_transform(e,t,i){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,i)}}let iW=(e,t)=>tH.isAsyncFn(e)?function(...i){let n=i.pop();e.apply(this,i).then(e=>{try{t?n(null,...t(e)):n(null,e)}catch(e){n(e)}},n)}:e,iH={flush:iC.constants.Z_SYNC_FLUSH,finishFlush:iC.constants.Z_SYNC_FLUSH},iG={flush:iC.constants.BROTLI_OPERATION_FLUSH,finishFlush:iC.constants.BROTLI_OPERATION_FLUSH},iJ=tH.isFunction(iC.createBrotliDecompress),{http:iY,https:iX}=iT,iZ=/https:?/,iQ=ia.protocols.map(e=>e+":");function i0(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let i1="undefined"!=typeof process&&"process"===tH.kindOf(process),i2=e=>new Promise((t,i)=>{let n,r;let a=(e,t)=>{!r&&(r=!0,n&&n(e,t))},s=e=>{a(e,!0),i(e)};e(e=>{a(e),t(e)},s,e=>n=e).catch(s)}),i3=({address:e,family:t})=>{if(!tH.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},i4=(e,t)=>i3(tH.isObject(e)?e:{address:e,family:t}),i6=i1&&function(e){return i2(async function(t,i,n){let r,a,s,o,l,c,u,{data:d,lookup:p,family:h}=e,{responseType:f,responseEncoding:m}=e,g=e.method.toUpperCase(),y=!1;if(p){let e=iW(p,e=>tH.isArray(e)?e:[e]);p=(t,i,n)=>{e(t,i,(e,t,r)=>{if(e)return n(e);let a=tH.isArray(t)?t.map(e=>i4(e)):[i4(t,r)];i.all?n(e,a):n(e,a[0].address,a[0].family)})}}let v=new iM,b=()=>{e.cancelToken&&e.cancelToken.unsubscribe(w),e.signal&&e.signal.removeEventListener("abort",w),v.removeAllListeners()};function w(t){v.emit("abort",!t||t.type?new ib(null,e,l):t)}n((e,t)=>{o=!0,t&&(y=!0,b())}),v.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(w),e.signal&&(e.signal.aborted?w():e.signal.addEventListener("abort",w)));let x=ix(e.baseURL,e.url),_=new URL(x,"http://localhost"),S=_.protocol||iQ[0];if("data:"===S){let n;if("GET"!==g)return iw(t,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{n=function(e,t,i){let n=i&&i.Blob||ia.classes.Blob,r=iA(e);if(void 0===t&&n&&(t=!0),"data"===r){e=r.length?e.slice(r.length+1):e;let i=iO.exec(e);if(!i)throw new tG("Invalid URL",tG.ERR_INVALID_URL);let a=i[1],s=i[2],o=i[3],l=Buffer.from(decodeURIComponent(o),s?"base64":"utf8");if(t){if(!n)throw new tG("Blob is not supported",tG.ERR_NOT_SUPPORT);return new n([l],{type:a})}return l}throw new tG("Unsupported protocol "+r,tG.ERR_NOT_SUPPORT)}(e.url,"blob"===f,{Blob:e.env&&e.env.Blob})}catch(t){throw tG.from(t,tG.ERR_BAD_REQUEST,e)}return"text"===f?(n=n.toString(m),m&&"utf8"!==m||(n=tH.stripBOM(n))):"stream"===f&&(n=iI.Readable.from(n)),iw(t,i,{data:n,status:200,statusText:"OK",headers:new ig,config:e})}if(-1===iQ.indexOf(S))return i(new tG("Unsupported protocol "+S,tG.ERR_BAD_REQUEST,e));let k=ig.from(e.headers).normalize();k.set("User-Agent","axios/"+iP,!1);let R=e.onDownloadProgress,E=e.onUploadProgress,T=e.maxRate;if(tH.isSpecCompliantForm(d)){let e=k.getContentType(/boundary=([-_\w\d]{10,70})/i);d=iV(d,e=>{k.set(e)},{tag:`axios-${iP}-boundary`,boundary:e&&e[1]||void 0})}else if(tH.isFormData(d)&&tH.isFunction(d.getHeaders)){if(k.set(d.getHeaders()),!k.hasContentLength())try{let e=await iE.promisify(d.getLength).call(d);Number.isFinite(e)&&e>=0&&k.setContentLength(e)}catch(e){}}else if(tH.isBlob(d))d.size&&k.setContentType(d.type||"application/octet-stream"),k.setContentLength(d.size||0),d=iI.Readable.from(iq(d));else if(d&&!tH.isStream(d)){if(Buffer.isBuffer(d));else if(tH.isArrayBuffer(d))d=Buffer.from(new Uint8Array(d));else{if(!tH.isString(d))return i(new tG("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",tG.ERR_BAD_REQUEST,e));d=Buffer.from(d,"utf-8")}if(k.setContentLength(d.length,!1),e.maxBodyLength>-1&&d.length>e.maxBodyLength)return i(new tG("Request body larger than maxBodyLength limit",tG.ERR_BAD_REQUEST,e))}let C=tH.toFiniteNumber(k.getContentLength());tH.isArray(T)?(r=T[0],a=T[1]):r=a=T,d&&(E||r)&&(tH.isStream(d)||(d=iI.Readable.from(d,{objectMode:!1})),d=iI.pipeline([d,new iD({length:C,maxRate:tH.toFiniteNumber(r)})],tH.noop),E&&d.on("progress",e=>{E(Object.assign(e,{upload:!0}))})),e.auth&&(s=(e.auth.username||"")+":"+(e.auth.password||"")),!s&&_.username&&(s=_.username+":"+_.password),s&&k.delete("authorization");try{c=t8(_.pathname+_.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(n){let t=Error(n.message);return t.config=e,t.url=e.url,t.exists=!0,i(t)}k.set("Accept-Encoding","gzip, compress, deflate"+(iJ?", br":""),!1);let P={path:c,method:g,headers:k.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:s,protocol:S,family:h,beforeRedirect:i0,beforeRedirects:{}};tH.isUndefined(p)||(P.lookup=p),e.socketPath?P.socketPath=e.socketPath:(P.hostname=_.hostname,P.port=_.port,function e(t,i,n){let r=i;if(!r&&!1!==r){let e=(0,i_.j)(n);e&&(r=new URL(e))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));let e=Buffer.from(r.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=r.hostname||r.host;t.hostname=e,t.host=e,t.port=r.port,t.path=n,r.protocol&&(t.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,i,t.href)}}(P,e.proxy,S+"//"+_.hostname+(_.port?":"+_.port:"")+P.path));let A=iZ.test(P.protocol);if(P.agent=A?e.httpsAgent:e.httpAgent,e.transport?u=e.transport:0===e.maxRedirects?u=A?ik:iS:(e.maxRedirects&&(P.maxRedirects=e.maxRedirects),e.beforeRedirect&&(P.beforeRedirects.config=e.beforeRedirect),u=A?iX:iY),e.maxBodyLength>-1?P.maxBodyLength=e.maxBodyLength:P.maxBodyLength=1/0,e.insecureHTTPParser&&(P.insecureHTTPParser=e.insecureHTTPParser),l=u.request(P,function(n){if(l.destroyed)return;let r=[n],s=+n.headers["content-length"];if(R){let e=new iD({length:tH.toFiniteNumber(s),maxRate:tH.toFiniteNumber(a)});R&&e.on("progress",e=>{R(Object.assign(e,{download:!0}))}),r.push(e)}let o=n,c=n.req||l;if(!1!==e.decompress&&n.headers["content-encoding"])switch(("HEAD"===g||204===n.statusCode)&&delete n.headers["content-encoding"],(n.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":r.push(iC.createUnzip(iH)),delete n.headers["content-encoding"];break;case"deflate":r.push(new iz),r.push(iC.createUnzip(iH)),delete n.headers["content-encoding"];break;case"br":iJ&&(r.push(iC.createBrotliDecompress(iG)),delete n.headers["content-encoding"])}o=r.length>1?iI.pipeline(r,tH.noop):r[0];let u=iI.finished(o,()=>{u(),b()}),d={status:n.statusCode,statusText:n.statusMessage,headers:new ig(n.headers),config:e,request:c};if("stream"===f)d.data=o,iw(t,i,d);else{let n=[],r=0;o.on("data",function(t){n.push(t),r+=t.length,e.maxContentLength>-1&&r>e.maxContentLength&&(y=!0,o.destroy(),i(new tG("maxContentLength size of "+e.maxContentLength+" exceeded",tG.ERR_BAD_RESPONSE,e,c)))}),o.on("aborted",function(){if(y)return;let t=new tG("maxContentLength size of "+e.maxContentLength+" exceeded",tG.ERR_BAD_RESPONSE,e,c);o.destroy(t),i(t)}),o.on("error",function(t){l.destroyed||i(tG.from(t,null,e,c))}),o.on("end",function(){try{let e=1===n.length?n[0]:Buffer.concat(n);"arraybuffer"===f||(e=e.toString(m),m&&"utf8"!==m||(e=tH.stripBOM(e))),d.data=e}catch(t){return i(tG.from(t,null,e,d.request,d))}iw(t,i,d)})}v.once("abort",e=>{o.destroyed||(o.emit("error",e),o.destroy())})}),v.once("abort",e=>{i(e),l.destroy(e)}),l.on("error",function(t){i(tG.from(t,null,e,l))}),l.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){i(new tG("error trying to parse `config.timeout` to int",tG.ERR_BAD_OPTION_VALUE,e,l));return}l.setTimeout(t,function(){if(o)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||t9;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new tG(t,n.clarifyTimeoutError?tG.ETIMEDOUT:tG.ECONNABORTED,e,l)),w()})}if(tH.isStream(d)){let t=!1,i=!1;d.on("end",()=>{t=!0}),d.once("error",e=>{i=!0,l.destroy(e)}),d.on("close",()=>{t||i||w(new ib("Request stream has been aborted",e,l))}),d.pipe(l)}else l.end(d)})},i5=ia.hasStandardBrowserEnv?{write(e,t,i,n,r,a){let s=[e+"="+encodeURIComponent(t)];tH.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),tH.isString(n)&&s.push("path="+n),tH.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},i8=ia.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){let n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){let i=tH.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0};function i7(e,t){let i=0,n=ij(50,250);return r=>{let a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-i,l=n(o);i=a;let c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}let i9={http:i6,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let n,r,a=e.data,s=ig.from(e.headers).normalize(),{responseType:o,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if(tH.isFormData(a)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if(!1!==(r=s.getContentType())){let[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}}let u=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(t+":"+i))}let d=ix(e.baseURL,e.url);function p(){if(!u)return;let n=ig.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());iw(function(e){t(e),c()},function(e){i(e),c()},{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),t8(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(i(new tG("Request aborted",tG.ECONNABORTED,e,u)),u=null)},u.onerror=function(){i(new tG("Network Error",tG.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||t9;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new tG(t,n.clarifyTimeoutError?tG.ETIMEDOUT:tG.ECONNABORTED,e,u)),u=null},ia.hasStandardBrowserEnv&&(l&&tH.isFunction(l)&&(l=l(e)),l||!1!==l&&i8(d))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&i5.read(e.xsrfCookieName);t&&s.set(e.xsrfHeaderName,t)}void 0===a&&s.setContentType(null),"setRequestHeader"in u&&tH.forEach(s.toJSON(),function(e,t){u.setRequestHeader(t,e)}),tH.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",i7(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",i7(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=t=>{u&&(i(!t||t.type?new ib(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));let h=iA(d);if(h&&-1===ia.protocols.indexOf(h)){i(new tG("Unsupported protocol "+h+":",tG.ERR_BAD_REQUEST,e));return}u.send(a||null)})}};tH.forEach(i9,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let ne=e=>`- ${e}`,nt=e=>tH.isFunction(e)||null===e||!1===e,ni={getAdapter:e=>{let t,i;let{length:n}=e=tH.isArray(e)?e:[e],r={};for(let a=0;a<n;a++){let n;if(i=t=e[a],!nt(t)&&void 0===(i=i9[(n=String(t)).toLowerCase()]))throw new tG(`Unknown adapter '${n}'`);if(i)break;r[n||"#"+a]=i}if(!i){let e=Object.entries(r).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new tG("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(ne).join("\n"):" "+ne(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:i9};function nn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ib(null,e)}function nr(e){return nn(e),e.headers=ig.from(e.headers),e.data=iy.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ni.getAdapter(e.adapter||io.adapter)(e).then(function(t){return nn(e),t.data=iy.call(e,e.transformResponse,t),t.headers=ig.from(t.headers),t},function(t){return!iv(t)&&(nn(e),t&&t.response&&(t.response.data=iy.call(e,e.transformResponse,t.response),t.response.headers=ig.from(t.response.headers))),Promise.reject(t)})}let na=e=>e instanceof ig?e.toJSON():e;function ns(e,t){t=t||{};let i={};function n(e,t,i){return tH.isPlainObject(e)&&tH.isPlainObject(t)?tH.merge.call({caseless:i},e,t):tH.isPlainObject(t)?tH.merge({},t):tH.isArray(t)?t.slice():t}function r(e,t,i){return tH.isUndefined(t)?tH.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function a(e,t){if(!tH.isUndefined(t))return n(void 0,t)}function s(e,t){return tH.isUndefined(t)?tH.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(i,r,a){return a in t?n(i,r):a in e?n(void 0,i):void 0}let l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>r(na(e),na(t),!0)};return tH.forEach(Object.keys(Object.assign({},e,t)),function(n){let a=l[n]||r,s=a(e[n],t[n],n);tH.isUndefined(s)&&a!==o||(i[n]=s)}),i}let no={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{no[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let nl={};no.transitional=function(e,t,i){function n(e,t){return"[Axios v"+iP+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,r,a)=>{if(!1===e)throw new tG(n(r," has been removed"+(t?" in "+t:"")),tG.ERR_DEPRECATED);return t&&!nl[r]&&(nl[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,r,a)}};let nc={assertOptions:function(e,t,i){if("object"!=typeof e)throw new tG("options must be an object",tG.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),r=n.length;for(;r-- >0;){let a=n[r],s=t[a];if(s){let t=e[a],i=void 0===t||s(t,a,e);if(!0!==i)throw new tG("option "+a+" must be "+i,tG.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new tG("Unknown option "+a,tG.ERR_BAD_OPTION)}},validators:no},nu=nc.validators;class nd{constructor(e){this.defaults=e,this.interceptors={request:new t7,response:new t7}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let i=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}throw e}}_request(e,t){let i,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:r,paramsSerializer:a,headers:s}=t=ns(this.defaults,t);void 0!==r&&nc.assertOptions(r,{silentJSONParsing:nu.transitional(nu.boolean),forcedJSONParsing:nu.transitional(nu.boolean),clarifyTimeoutError:nu.transitional(nu.boolean)},!1),null!=a&&(tH.isFunction(a)?t.paramsSerializer={serialize:a}:nc.assertOptions(a,{encode:nu.function,serialize:nu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&tH.merge(s.common,s[t.method]);s&&tH.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=ig.concat(o,s);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let d=0;if(!c){let e=[nr.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),n=e.length,i=Promise.resolve(t);d<n;)i=i.then(e[d++],e[d++]);return i}n=l.length;let p=t;for(d=0;d<n;){let e=l[d++],t=l[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{i=nr.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,n=u.length;d<n;)i=i.then(u[d++],u[d++]);return i}getUri(e){return t8(ix((e=ns(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}tH.forEach(["delete","get","head","options"],function(e){nd.prototype[e]=function(t,i){return this.request(ns(i||{},{method:e,url:t,data:(i||{}).data}))}}),tH.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,r){return this.request(ns(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}nd.prototype[e]=t(),nd.prototype[e+"Form"]=t(!0)});class np{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,n,r){i.reason||(i.reason=new ib(e,n,r),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new np(function(t){e=t}),cancel:e}}}let nh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nh).forEach(([e,t])=>{nh[t]=e});let nf=function e(t){let i=new nd(t),n=tm(nd.prototype.request,i);return tH.extend(n,nd.prototype,i,{allOwnKeys:!0}),tH.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(ns(t,i))},n}(io);nf.Axios=nd,nf.CanceledError=ib,nf.CancelToken=np,nf.isCancel=iv,nf.VERSION=iP,nf.toFormData=t2,nf.AxiosError=tG,nf.Cancel=nf.CanceledError,nf.all=function(e){return Promise.all(e)},nf.spread=function(e){return function(t){return e.apply(null,t)}},nf.isAxiosError=function(e){return tH.isObject(e)&&!0===e.isAxiosError},nf.mergeConfig=ns,nf.AxiosHeaders=ig,nf.formToJSON=e=>is(tH.isHTMLForm(e)?new FormData(e):e),nf.getAdapter=ni.getAdapter,nf.HttpStatusCode=nh,nf.default=nf;let{Axios:nm,AxiosError:ng,CanceledError:ny,isCancel:nv,CancelToken:nb,VERSION:nw,all:nx,Cancel:n_,isAxiosError:nS,spread:nk,toFormData:nR,AxiosHeaders:nE,HttpStatusCode:nT,formToJSON:nC,getAdapter:nP,mergeConfig:nA}=nf;class nO extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=i?i:{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length)for(let[i,n]of(e.push(""),e.push("Meta:"),t))e.push(`  ${i}: ${n}`);return e.join("\n")}}function nI(e,t){if(e)for(let[i,n]of Object.entries(e))n instanceof Date?t[i]=new Date(n.getTime()):Array.isArray(n)?t[i]=n.concat():t[i]=n}(function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"})(y||(y={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(v||(v={}));class nN{constructor(e=!0){this._state=v.PENDING,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e&&this._promise.catch(e=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==v.PENDING)throw Error(`cannot resolve ${v[this.state].toLowerCase()}`);this._resolve(e),this._state=v.RESOLVED}reject(e){if(this.state!==v.PENDING)throw Error(`cannot reject ${v[this.state].toLowerCase()}`);this._reject(e),this._state=v.REJECTED}resolvePending(e){this._state===v.PENDING&&this.resolve(e)}rejectPending(e){this._state===v.PENDING&&this.reject(e)}}class nj{constructor(e,t,i,n,r,a,s){this.method=e,this.requestHeaders=t,this.request=i,this.headers=n,this.response=r,this.status=a,this.trailers=s}then(e,t){return this.promiseFinished().then(t=>e?Promise.resolve(e(t)):t,e=>t?Promise.resolve(t(e)):Promise.reject(e))}promiseFinished(){var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){let[e,t,i,n]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:n}},new(i||(i=Promise))(function(r,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}}class nL{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let i={};for(let a of(nI(e,i),nI(t,i),Object.keys(t))){let s=t[a];switch(a){case"jsonOptions":i.jsonOptions=function(e,t){var i,n;let r=Object.assign(Object.assign({},e),t);return r.typeRegistry=[...null!==(i=null==e?void 0:e.typeRegistry)&&void 0!==i?i:[],...null!==(n=null==t?void 0:t.typeRegistry)&&void 0!==n?n:[]],r}(e.jsonOptions,i.jsonOptions);break;case"binaryOptions":var n,r;i.binaryOptions=(n=e.binaryOptions,r=i.binaryOptions,Object.assign(Object.assign({},n),r));break;case"meta":i.meta={},nI(e.meta,i.meta),nI(t.meta,i.meta);break;case"interceptors":i.interceptors=e.interceptors?e.interceptors.concat(s):s.concat()}}return i}(this.defaultOptions,e)}unary(e,t,i){var n,r,a;let s=this.makeUrl(e,i),o=null!==(n=i.fetchInit)&&void 0!==n?n:{},l=i.sendJson?e.I.toJsonString(t,i.jsonOptions):e.I.toBinary(t,i.binaryOptions),c=new nN,u=new nN,d=new nN,p=new nN;return globalThis.fetch(s,Object.assign(Object.assign({},o),{method:"POST",headers:function(e,t,i){if(i)for(let[t,n]of Object.entries(i))if("string"==typeof n)e.append(t,n);else for(let i of n)e.append(t,i);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}(new globalThis.Headers,!!i.sendJson,i.meta),body:l,signal:null!==(r=i.abort)&&void 0!==r?r:null})).then(t=>{var n;let r,a;c.resolve((n=t.headers,a={},n.forEach((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(a.hasOwnProperty(t)?a[t].push(e):a[t]=e)}),a));try{r=t.type}catch(e){}switch(r){case"error":case"opaque":case"opaqueredirect":throw new nO(`fetch response type ${t.type}`,y[y.unknown])}return t.ok?i.sendJson?t.json().then(t=>e.O.fromJson(t,i.jsonOptions),()=>{throw new nO("unable to read response body as json",y[y.dataloss])}):t.arrayBuffer().then(t=>e.O.fromBinary(new Uint8Array(t),i.binaryOptions),()=>{throw new nO("unable to read response body",y[y.dataloss])}):t.json().then(e=>{throw function(e){if(!eF(e)||"string"!=typeof e.code||"string"!=typeof e.msg)return new nO("cannot read twirp error response",y[y.internal]);let t={};if(eF(e.meta))for(let[i,n]of Object.entries(e.meta))"string"==typeof n&&(t[i]=n);return new nO(e.msg,e.code,t)}(e)},()=>{throw new nO("received HTTP "+t.status+", unable to read response body as json",y[y.internal])})},e=>{if(e instanceof Error&&"AbortError"===e.name)throw new nO(e.message,y[y.cancelled]);throw new nO(e instanceof Error?e.message:e)}).then(e=>{u.resolve(e),d.resolve({code:"OK",detail:""}),p.resolve({})}).catch(t=>{let i=t instanceof nO?t:new nO(t instanceof Error?t.message:t,y[y.internal]);i.methodName=e.name,i.serviceName=e.service.typeName,c.rejectPending(i),u.rejectPending(i),d.rejectPending(i),p.rejectPending(i)}),new nj(e,null!==(a=i.meta)&&void 0!==a?a:{},t,c.promise,u.promise,d.promise,p.promise)}makeUrl(e,t){let i=t.baseUrl;i.endsWith("/")&&(i=i.substring(0,i.length-1));let n=e.name;return!0!==t.useProtoMethodName&&(n=(n=eM(n)).substring(0,1).toUpperCase()+n.substring(1)),`${i}/${e.service.typeName}/${n}`}clientStreaming(e){let t=new nO("Client streaming is not supported by Twirp",y[y.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new nO("Duplex streaming is not supported by Twirp",y[y.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){let t=new nO("Server streaming is not supported by Twirp",y[y.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}var nD=i(62824);function nM(e){return"function"==typeof e}function nU(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nq=nU(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function n$(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var nF=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,i,n,r,a=this._parentage;if(a){if(this._parentage=null,Array.isArray(a))try{for(var s=(0,nD.XA)(a),o=s.next();!o.done;o=s.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this)}var l=this.initialTeardown;if(nM(l))try{l()}catch(e){r=e instanceof nq?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=(0,nD.XA)(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{nV(p)}catch(e){r=null!=r?r:[],e instanceof nq?r=(0,nD.ev)((0,nD.ev)([],(0,nD.CR)(r)),(0,nD.CR)(e.errors)):r.push(e)}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}if(r)throw new nq(r)}},t.prototype.add=function(e){var i;if(e&&e!==this){if(this.closed)nV(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&n$(t,e)},t.prototype.remove=function(e){var i=this._finalizers;i&&n$(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),nK=nF.EMPTY;function nB(e){return e instanceof nF||e&&"closed"in e&&nM(e.remove)&&nM(e.add)&&nM(e.unsubscribe)}function nV(e){nM(e)?e():e.unsubscribe()}var nz={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nW={setTimeout:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=nW.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,(0,nD.ev)([e,t],(0,nD.CR)(i))):setTimeout.apply(void 0,(0,nD.ev)([e,t],(0,nD.CR)(i)))},clearTimeout:function(e){var t=nW.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nH(e){nW.setTimeout(function(){var t=nz.onUnhandledError;if(t)t(e);else throw e})}function nG(){}var nJ=nY("C",void 0,void 0);function nY(e,t,i){return{kind:e,value:t,error:i}}var nX=null;function nZ(e){if(nz.useDeprecatedSynchronousErrorHandling){var t=!nX;if(t&&(nX={errorThrown:!1,error:null}),e(),t){var i=nX,n=i.errorThrown,r=i.error;if(nX=null,n)throw r}}else e()}var nQ=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,nB(t)&&t.add(i)):i.destination=n5,i}return(0,nD.ZT)(t,e),t.create=function(e,t,i){return new n3(e,t,i)},t.prototype.next=function(e){this.isStopped?n6(nY("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?n6(nY("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?n6(nJ,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nF),n0=Function.prototype.bind;function n1(e,t){return n0.call(e,t)}var n2=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){n4(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){n4(e)}else n4(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){n4(e)}},e}(),n3=function(e){function t(t,i,n){var r,a,s=e.call(this)||this;return nM(t)||!t?r={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:s&&nz.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},r={next:t.next&&n1(t.next,a),error:t.error&&n1(t.error,a),complete:t.complete&&n1(t.complete,a)}):r=t,s.destination=new n2(r),s}return(0,nD.ZT)(t,e),t}(nQ);function n4(e){nz.useDeprecatedSynchronousErrorHandling?nz.useDeprecatedSynchronousErrorHandling&&nX&&(nX.errorThrown=!0,nX.error=e):nH(e)}function n6(e,t){var i=nz.onStoppedNotification;i&&nW.setTimeout(function(){return i(e,t)})}var n5={closed:!0,next:nG,error:function(e){throw e},complete:nG},n8="function"==typeof Symbol&&Symbol.observable||"@@observable";function n7(e){return e}var n9=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,r=this,a=(n=e)&&n instanceof nQ||n&&nM(n.next)&&nM(n.error)&&nM(n.complete)&&nB(n)?e:new n3(e,t,i);return nZ(function(){var e=r.operator,t=r.source;a.add(e?e.call(a,t):t?r._subscribe(a):r._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=re(t))(function(t,n){var r=new n3({next:function(t){try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});i.subscribe(r)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[n8]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?n7:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=re(e))(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function re(e){var t;return null!==(t=null!=e?e:nz.Promise)&&void 0!==t?t:Promise}var rt=nU(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ri=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,nD.ZT)(t,e),t.prototype.lift=function(e){var t=new rn(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rt},t.prototype.next=function(e){var t=this;nZ(function(){var i,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=(0,nD.XA)(t.currentObservers),a=r.next();!a.done;a=r.next())a.value.next(e)}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;nZ(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;nZ(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this.hasError,n=this.isStopped,r=this.observers;return i||n?nK:(this.currentObservers=null,r.push(e),new nF(function(){t.currentObservers=null,n$(r,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,i=this.thrownError,n=this.isStopped;t?e.error(i):n&&e.complete()},t.prototype.asObservable=function(){var e=new n9;return e.source=this,e},t.create=function(e,t){return new rn(e,t)},t}(n9),rn=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return(0,nD.ZT)(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:nK},t}(ri),rr={now:function(){return(rr.delegate||Date).now()},delegate:void 0},ra=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=rr);var r=e.call(this)||this;return r._bufferSize=t,r._windowTime=i,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=i===1/0,r._bufferSize=Math.max(1,t),r._windowTime=Math.max(1,i),r}return(0,nD.ZT)(t,e),t.prototype.next=function(t){var i=this.isStopped,n=this._buffer,r=this._infiniteTimeWindow,a=this._timestampProvider,s=this._windowTime;!i&&(n.push(t),r||n.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!e.closed;r+=i?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,i=this._buffer,n=this._infiniteTimeWindow,r=(n?1:2)*e;if(e<1/0&&r<i.length&&i.splice(0,i.length-r),!n){for(var a=t.now(),s=0,o=1;o<i.length&&i[o]<=a;o+=2)s=o;s&&i.splice(0,s+1)}},t}(ri),rs=Array.isArray,ro=Object.getPrototypeOf,rl=Object.prototype,rc=Object.keys,ru=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function rd(e){return nM(null==e?void 0:e.then)}function rp(e){return Symbol.asyncIterator&&nM(null==e?void 0:e[Symbol.asyncIterator])}function rh(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var rf="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rm(e){return nM(null==e?void 0:e[rf])}function rg(e){return(0,nD.FC)(this,arguments,function(){var t,i,n;return(0,nD.Jh)(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,(0,nD.qq)(t.read())];case 3:if(n=(i=r.sent()).value,!i.done)return[3,5];return[4,(0,nD.qq)(void 0)];case 4:return[2,r.sent()];case 5:return[4,(0,nD.qq)(n)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function ry(e){return nM(null==e?void 0:e.getReader)}function rv(e){if(e instanceof n9)return e;if(null!=e){if(nM(e[n8]))return new n9(function(t){var i=e[n8]();if(nM(i.subscribe))return i.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(ru(e))return new n9(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()});if(rd(e))return new n9(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,nH)});if(rp(e))return rb(e);if(rm(e))return new n9(function(t){var i,n;try{for(var r=(0,nD.XA)(e),a=r.next();!a.done;a=r.next()){var s=a.value;if(t.next(s),t.closed)return}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}t.complete()});if(ry(e))return rb(rg(e))}throw rh(e)}function rb(e){return new n9(function(t){(function(e,t){var i,n,r,a;return(0,nD.mG)(this,void 0,void 0,function(){var s;return(0,nD.Jh)(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),i=(0,nD.KL)(e),o.label=1;case 1:return[4,i.next()];case 2:if((n=o.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return r={error:o.sent()},[3,11];case 6:if(o.trys.push([6,,9,10]),!(n&&!n.done&&(a=i.return)))return[3,8];return[4,a.call(i)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function rw(e,t,i,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var a=t.schedule(function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(a),!r)return a}function rx(e){return function(t){if(nM(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function r_(e,t,i,n,r){return new rS(e,t,i,n,r)}var rS=function(e){function t(t,i,n,r,a,s){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=s,o._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,nD.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),i||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(nQ);function rk(e,t){return void 0===t&&(t=0),rx(function(i,n){i.subscribe(r_(n,function(i){return rw(n,e,function(){return n.next(i)},t)},function(){return rw(n,e,function(){return n.complete()},t)},function(i){return rw(n,e,function(){return n.error(i)},t)}))})}function rR(e,t){return void 0===t&&(t=0),rx(function(i,n){n.add(e.schedule(function(){return i.subscribe(n)},t))})}function rE(e,t){if(!e)throw Error("Iterable cannot be null");return new n9(function(i){rw(i,t,function(){var n=e[Symbol.asyncIterator]();rw(i,t,function(){n.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function rT(e,t){return t?function(e,t){if(null!=e){if(nM(e[n8]))return rv(e).pipe(rR(t),rk(t));if(ru(e))return new n9(function(i){var n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})});if(rd(e))return rv(e).pipe(rR(t),rk(t));if(rp(e))return rE(e,t);if(rm(e))return new n9(function(i){var n;return rw(i,t,function(){n=e[rf](),rw(i,t,function(){var e,t,r;try{t=(e=n.next()).value,r=e.done}catch(e){i.error(e);return}r?i.complete():i.next(t)},0,!0)}),function(){return nM(null==n?void 0:n.return)&&n.return()}});if(ry(e))return rE(rg(e),t)}throw rh(e)}(e,t):rv(e)}function rC(e,t){return rx(function(i,n){var r=0;i.subscribe(r_(n,function(i){n.next(e.call(t,i,r++))}))})}var rP=Array.isArray;function rA(e){return e&&nM(e.schedule)}function rO(e){return e[e.length-1]}function rI(e){return rA(rO(e))?e.pop():void 0}function rN(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=rI(t),r=nM(rO(t))?t.pop():void 0,a=function(e){if(1===e.length){var t=e[0];if(rs(t))return{args:t,keys:null};if(t&&"object"==typeof t&&ro(t)===rl){var i=rc(t);return{args:i.map(function(e){return t[e]}),keys:i}}}return{args:e,keys:null}}(t),s=a.args,o=a.keys;if(0===s.length)return rT([],n);var l=new n9((void 0===(e=o?function(e){return o.reduce(function(t,i,n){return t[i]=e[n],t},{})}:n7)&&(e=n7),function(t){var i,r,a;i=n,r=function(){for(var i=s.length,r=Array(i),a=i,o=i,l=function(i){var l,c,u;l=n,c=function(){var l=rT(s[i],n),c=!1;l.subscribe(r_(t,function(n){r[i]=n,!c&&(c=!0,o--),o||t.next(e(r.slice()))},function(){--a||t.complete()}))},u=t,l?rw(u,l,c):c()},c=0;c<i;c++)l(c)},a=t,i?rw(a,i,r):r()}));return r?l.pipe(rC(function(e){return rP(e)?r.apply(void 0,(0,nD.ev)([],(0,nD.CR)(e))):r(e)})):l}var rj=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return(0,nD.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return i.closed||t.next(this._value),i},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,i=this._value;if(e)throw t;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ri);function rL(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var r=new n3({next:function(){r.unsubscribe(),e()}});return rv(t.apply(void 0,(0,nD.ev)([],(0,nD.CR)(i)))).subscribe(r)}}function rD(e,t,i){var n,r,a,s,o,l,c,u,d,p,h,f,m,g=!1;return e&&"object"==typeof e?(m=void 0===(p=e.bufferSize)?1/0:p,t=void 0===(h=e.windowTime)?1/0:h,g=void 0!==(f=e.refCount)&&f,i=e.scheduler):m=null!=e?e:1/0,a=void 0===(r=(n={connector:function(){return new ra(m,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g}).connector)?function(){return new ri}:r,o=void 0===(s=n.resetOnError)||s,c=void 0===(l=n.resetOnComplete)||l,d=void 0===(u=n.resetOnRefCountZero)||u,function(e){var t,i,n,r=0,s=!1,l=!1,u=function(){null==i||i.unsubscribe(),i=void 0},p=function(){u(),t=n=void 0,s=l=!1},h=function(){var e=t;p(),null==e||e.unsubscribe()};return rx(function(e,f){r++,l||s||u();var m=n=null!=n?n:a();f.add(function(){0!=--r||l||s||(i=rL(h,d))}),m.subscribe(f),!t&&r>0&&(t=new n3({next:function(e){return m.next(e)},error:function(e){l=!0,u(),i=rL(p,o,e),m.error(e)},complete:function(){s=!0,u(),i=rL(p,c),m.complete()}}),rv(e).subscribe(t))})(e)}}function rM(e,t){return void 0===t&&(t=n7),e=null!=e?e:rU,rx(function(i,n){var r,a=!0;i.subscribe(r_(n,function(i){var s=t(i);(a||!e(r,s))&&(a=!1,r=s,n.next(i))}))})}function rU(e,t){return e===t}function rq(e,t){return void 0===t&&(t=!1),rx(function(i,n){var r=0;i.subscribe(r_(n,function(i){var a=e(i,r++);(a||t)&&n.next(i),a||n.complete()}))})}function r$(e,t){return rM(function(i,n){return t?t(i[e],n[e]):i[e]===n[e]})}var rF=function(e){function t(t,i){return e.call(this)||this}return(0,nD.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(nF),rK={setInterval:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=rK.delegate;return(null==r?void 0:r.setInterval)?r.setInterval.apply(r,(0,nD.ev)([e,t],(0,nD.CR)(i))):setInterval.apply(void 0,(0,nD.ev)([e,t],(0,nD.CR)(i)))},clearInterval:function(e){var t=rK.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},rB=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return(0,nD.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i,n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),rK.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&rK.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,n$(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rF),rV=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=rr.now,e}(),rz=new(function(e){function t(t,i){void 0===i&&(i=rV.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return(0,nD.ZT)(t,e),t.prototype.flush=function(e){var t,i=this.actions;if(this._active){i.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}},t}(rV))(rB);function rW(e,t,i){return(void 0===i&&(i=1/0),nM(t))?rW(function(i,n){return rC(function(e,r){return t(i,e,n,r)})(rv(e(i,n)))},i):("number"==typeof t&&(i=t),rx(function(t,n){var r,a,s,o,l,c,u,d,p,h,f,m;return r=i,c=[],u=0,d=0,p=!1,h=function(){!p||c.length||u||n.complete()},f=function(e){return u<r?m(e):c.push(e)},m=function(t){s&&n.next(t),u++;var i=!1;rv(e(t,d++)).subscribe(r_(n,function(e){null==a||a(e),s?f(e):n.next(e)},function(){i=!0},void 0,function(){if(i)try{for(u--;c.length&&u<r;)!function(){var e=c.shift();o?rw(n,o,function(){return m(e)}):m(e)}();h()}catch(e){n.error(e)}}))},t.subscribe(r_(n,f,function(){p=!0,h()})),function(){null==l||l()}}))}var rH=new n9(function(e){return e.complete()});function rG(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=rI(t),r="number"==typeof rO(t)?t.pop():1/0;return t.length?1===t.length?rv(t[0]):(void 0===(e=r)&&(e=1/0),rW(n7,e))(rT(t,n)):rH}var rJ=i(37242),rY=i(12903),rX=i(95357),rZ=i.n(rX),rQ=i(89835),r0=i.n(rQ);i(6113);var r1=i(76655);let r2={BLOCK_USERS:"block-users",CREATE_REACTION:"create-reaction",JOIN_BACKSTAGE:"join-backstage",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",START_RECORD_CALL:"start-record-call",STOP_RECORD_CALL:"stop-record-call",UPDATE_CALL_PERMISSIONS:"update-call-permissions"};class r3 extends Error{}!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(b||(b={}));class r4 extends tp{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>r8}}])}internalJsonWrite(e,t){let i={};for(let[t,n]of Object.entries(e.fields))i[t]=r8.toJson(n);return i}internalJsonRead(e,t,i){if(!eF(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+e$(e)+".");for(let[t,n]of(i||(i=this.create()),globalThis.Object.entries(e)))i.fields[t]=r8.fromJson(n);return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fields={},void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)this.binaryReadMap1(r.fields,e,i);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}binaryReadMap1(e,t,i){let n=t.uint32(),r=t.pos+n,a,s;for(;t.pos<r;){let[e,n]=t.tag();switch(e){case 1:a=t.string();break;case 2:s=r8.internalBinaryRead(t,t.uint32(),i);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[a??""]=s??r8.create()}internalBinaryWrite(e,t,i){for(let n of globalThis.Object.keys(e.fields))t.tag(1,g.LengthDelimited).fork().tag(1,g.LengthDelimited).string(n),t.tag(2,g.LengthDelimited).fork(),r8.internalBinaryWrite(e.fields[n],t,i),t.join().join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let r6=new r4;class r5 extends tp{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",b]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>r6},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>r9}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let i=e.kind.numberValue;if("number"==typeof i&&!Number.isFinite(i))throw new globalThis.Error;return i;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find(e=>6===e.no);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find(e=>5===e.no);if(r?.kind!=="message")throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,i){switch(i||(i=this.create()),typeof e){case"number":i.kind={oneofKind:"numberValue",numberValue:e};break;case"string":i.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":i.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?i.kind={oneofKind:"nullValue",nullValue:b.NULL_VALUE}:globalThis.Array.isArray(e)?i.kind={oneofKind:"listValue",listValue:r9.fromJson(e)}:i.kind={oneofKind:"structValue",structValue:r6.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+e$(e))}return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind={oneofKind:void 0},void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:r.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:r.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:r.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:r.kind={oneofKind:"structValue",structValue:r6.internalBinaryRead(e,e.uint32(),i,r.kind.structValue)};break;case 6:r.kind={oneofKind:"listValue",listValue:r9.internalBinaryRead(e,e.uint32(),i,r.kind.listValue)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"nullValue"===e.kind.oneofKind&&t.tag(1,g.Varint).int32(e.kind.nullValue),"numberValue"===e.kind.oneofKind&&t.tag(2,g.Bit64).double(e.kind.numberValue),"stringValue"===e.kind.oneofKind&&t.tag(3,g.LengthDelimited).string(e.kind.stringValue),"boolValue"===e.kind.oneofKind&&t.tag(4,g.Varint).bool(e.kind.boolValue),"structValue"===e.kind.oneofKind&&r6.internalBinaryWrite(e.kind.structValue,t.tag(5,g.LengthDelimited).fork(),i).join(),"listValue"===e.kind.oneofKind&&r9.internalBinaryWrite(e.kind.listValue,t.tag(6,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let r8=new r5;class r7 extends tp{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>r8}])}internalJsonWrite(e,t){return e.values.map(e=>r8.toJson(e))}internalJsonRead(e,t,i){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+e$(e));i||(i=this.create());let n=e.map(e=>r8.fromJson(e));return i.values.push(...n),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.values=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.values.push(r8.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.values.length;n++)r8.internalBinaryWrite(e.values[n],t.tag(1,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let r9=new r7;class ae extends tp{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){let e=this.create(),t=Date.now();return e.seconds=e0.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*e0.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){let t=this.create(),i=e.getTime();return t.seconds=e0.from(Math.floor(i/1e3)).toString(),t.nanos=i%1e3*1e6,t}internalJsonWrite(e,t){let i=1e3*e0.from(e.seconds).toNumber();if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let n="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);n="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(i).toISOString().replace(".000Z",n)}internalJsonRead(e,t,i){if("string"!=typeof e)throw Error("Unable to parse Timestamp from JSON "+e$(e)+".");let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw Error("Unable to parse Timestamp from JSON. Invalid format.");let r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw Error("Unable to parse Timestamp from JSON. Invalid value.");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return i||(i=this.create()),i.seconds=e0.from(r/1e3).toString(),i.nanos=0,n[7]&&(i.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.seconds="0",t.nanos=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.seconds=e.int64().toString();break;case 2:r.nanos=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"0"!==e.seconds&&t.tag(1,g.Varint).int64(e.seconds),0!==e.nanos&&t.tag(2,g.Varint).int32(e.nanos);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let at=new ae;(function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(w||(w={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(x||(x={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(_||(_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(S||(S={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(k||(k={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY"}(R||(R={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(E||(E={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(T||(T={}));class ai extends tp{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>ac},{no:2,name:"started_at",kind:"message",T:()=>at},{no:3,name:"participant_count",kind:"message",T:()=>aa},{no:4,name:"pins",kind:"message",repeat:1,T:()=>ao}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.participants=[],t.pins=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.participants.push(ac.internalBinaryRead(e,e.uint32(),i));break;case 2:r.startedAt=at.internalBinaryRead(e,e.uint32(),i,r.startedAt);break;case 3:r.participantCount=aa.internalBinaryRead(e,e.uint32(),i,r.participantCount);break;case 4:r.pins.push(ao.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.participants.length;n++)ac.internalBinaryWrite(e.participants[n],t.tag(1,g.LengthDelimited).fork(),i).join();e.startedAt&&at.internalBinaryWrite(e.startedAt,t.tag(2,g.LengthDelimited).fork(),i).join(),e.participantCount&&aa.internalBinaryWrite(e.participantCount,t.tag(3,g.LengthDelimited).fork(),i).join();for(let n=0;n<e.pins.length;n++)ao.internalBinaryWrite(e.pins[n],t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let an=new ai;class ar extends tp{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.total=0,t.anonymous=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.total=e.uint32();break;case 2:r.anonymous=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.total&&t.tag(1,g.Varint).uint32(e.total),0!==e.anonymous&&t.tag(2,g.Varint).uint32(e.anonymous);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aa=new ar;class as extends tp{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let ao=new as;class al extends tp{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",S,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>at},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",x,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>r6},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.publishedTracks=[],t.trackLookupPrefix="",t.connectionQuality=0,t.isSpeaking=!1,t.isDominantSpeaker=!1,t.audioLevel=0,t.name="",t.image="",t.roles=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:if(n===g.LengthDelimited)for(let t=e.int32()+e.pos;e.pos<t;)r.publishedTracks.push(e.int32());else r.publishedTracks.push(e.int32());break;case 4:r.joinedAt=at.internalBinaryRead(e,e.uint32(),i,r.joinedAt);break;case 5:r.trackLookupPrefix=e.string();break;case 6:r.connectionQuality=e.int32();break;case 7:r.isSpeaking=e.bool();break;case 8:r.isDominantSpeaker=e.bool();break;case 9:r.audioLevel=e.float();break;case 10:r.name=e.string();break;case 11:r.image=e.string();break;case 12:r.custom=r6.internalBinaryRead(e,e.uint32(),i,r.custom);break;case 13:r.roles.push(e.string());break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){if(""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),e.publishedTracks.length){t.tag(3,g.LengthDelimited).fork();for(let i=0;i<e.publishedTracks.length;i++)t.int32(e.publishedTracks[i]);t.join()}e.joinedAt&&at.internalBinaryWrite(e.joinedAt,t.tag(4,g.LengthDelimited).fork(),i).join(),""!==e.trackLookupPrefix&&t.tag(5,g.LengthDelimited).string(e.trackLookupPrefix),0!==e.connectionQuality&&t.tag(6,g.Varint).int32(e.connectionQuality),!1!==e.isSpeaking&&t.tag(7,g.Varint).bool(e.isSpeaking),!1!==e.isDominantSpeaker&&t.tag(8,g.Varint).bool(e.isDominantSpeaker),0!==e.audioLevel&&t.tag(9,g.Bit32).float(e.audioLevel),""!==e.name&&t.tag(10,g.LengthDelimited).string(e.name),""!==e.image&&t.tag(11,g.LengthDelimited).string(e.image),e.custom&&r6.internalBinaryWrite(e.custom,t.tag(12,g.LengthDelimited).fork(),i).join();for(let i=0;i<e.roles.length;i++)t.tag(13,g.LengthDelimited).string(e.roles[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let ac=new al;class au extends tp{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",_,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.videoQuality=0,t.userId="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.videoQuality=e.int32();break;case 2:r.userId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.videoQuality&&t.tag(1,g.Varint).int32(e.videoQuality),""!==e.userId&&t.tag(2,g.LengthDelimited).string(e.userId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let ad=new au;class ap extends tp{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.width=0,t.height=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.width=e.uint32();break;case 2:r.height=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.width&&t.tag(1,g.Varint).uint32(e.width),0!==e.height&&t.tag(2,g.Varint).uint32(e.height);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let ah=new ap;class af extends tp{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>ah},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",_,"VIDEO_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.rid="",t.bitrate=0,t.fps=0,t.quality=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.rid=e.string();break;case 2:r.videoDimension=ah.internalBinaryRead(e,e.uint32(),i,r.videoDimension);break;case 4:r.bitrate=e.uint32();break;case 5:r.fps=e.uint32();break;case 6:r.quality=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.rid&&t.tag(1,g.LengthDelimited).string(e.rid),e.videoDimension&&ah.internalBinaryWrite(e.videoDimension,t.tag(2,g.LengthDelimited).fork(),i).join(),0!==e.bitrate&&t.tag(4,g.Varint).uint32(e.bitrate),0!==e.fps&&t.tag(5,g.Varint).uint32(e.fps),0!==e.quality&&t.tag(6,g.Varint).int32(e.quality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let am=new af;class ag extends tp{constructor(){super("stream.video.sfu.models.Codec",[{no:1,name:"payload_type",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"fmtp_line",kind:"scalar",T:9},{no:4,name:"clock_rate",kind:"scalar",T:13},{no:5,name:"encoding_parameters",kind:"scalar",T:9},{no:6,name:"feedbacks",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.payloadType=0,t.name="",t.fmtpLine="",t.clockRate=0,t.encodingParameters="",t.feedbacks=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.payloadType=e.uint32();break;case 2:r.name=e.string();break;case 3:r.fmtpLine=e.string();break;case 4:r.clockRate=e.uint32();break;case 5:r.encodingParameters=e.string();break;case 6:r.feedbacks.push(e.string());break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.payloadType&&t.tag(1,g.Varint).uint32(e.payloadType),""!==e.name&&t.tag(2,g.LengthDelimited).string(e.name),""!==e.fmtpLine&&t.tag(3,g.LengthDelimited).string(e.fmtpLine),0!==e.clockRate&&t.tag(4,g.Varint).uint32(e.clockRate),""!==e.encodingParameters&&t.tag(5,g.LengthDelimited).string(e.encodingParameters);for(let i=0;i<e.feedbacks.length;i++)t.tag(6,g.LengthDelimited).string(e.feedbacks[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let ay=new ag,av=new class extends tp{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",w,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",t.sessionId="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.peerType=e.int32();break;case 2:r.iceCandidate=e.string();break;case 3:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,g.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,g.LengthDelimited).string(e.iceCandidate),""!==e.sessionId&&t.tag(3,g.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}};class ab extends tp{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",S,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>am},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackId="",t.trackType=0,t.layers=[],t.mid="",t.dtx=!1,t.stereo=!1,t.red=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.trackId=e.string();break;case 2:r.trackType=e.int32();break;case 5:r.layers.push(am.internalBinaryRead(e,e.uint32(),i));break;case 6:r.mid=e.string();break;case 7:r.dtx=e.bool();break;case 8:r.stereo=e.bool();break;case 9:r.red=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.trackId&&t.tag(1,g.LengthDelimited).string(e.trackId),0!==e.trackType&&t.tag(2,g.Varint).int32(e.trackType);for(let n=0;n<e.layers.length;n++)am.internalBinaryWrite(e.layers[n],t.tag(5,g.LengthDelimited).fork(),i).join();""!==e.mid&&t.tag(6,g.LengthDelimited).string(e.mid),!1!==e.dtx&&t.tag(7,g.Varint).bool(e.dtx),!1!==e.stereo&&t.tag(8,g.Varint).bool(e.stereo),!1!==e.red&&t.tag(9,g.Varint).bool(e.red);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aw=new ab;class ax extends tp{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>r6},{no:6,name:"created_at",kind:"message",T:()=>at},{no:7,name:"updated_at",kind:"message",T:()=>at}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type="",t.id="",t.createdByUserId="",t.hostUserId="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.type=e.string();break;case 2:r.id=e.string();break;case 3:r.createdByUserId=e.string();break;case 4:r.hostUserId=e.string();break;case 5:r.custom=r6.internalBinaryRead(e,e.uint32(),i,r.custom);break;case 6:r.createdAt=at.internalBinaryRead(e,e.uint32(),i,r.createdAt);break;case 7:r.updatedAt=at.internalBinaryRead(e,e.uint32(),i,r.updatedAt);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.type&&t.tag(1,g.LengthDelimited).string(e.type),""!==e.id&&t.tag(2,g.LengthDelimited).string(e.id),""!==e.createdByUserId&&t.tag(3,g.LengthDelimited).string(e.createdByUserId),""!==e.hostUserId&&t.tag(4,g.LengthDelimited).string(e.hostUserId),e.custom&&r6.internalBinaryWrite(e.custom,t.tag(5,g.LengthDelimited).fork(),i).join(),e.createdAt&&at.internalBinaryWrite(e.createdAt,t.tag(6,g.LengthDelimited).fork(),i).join(),e.updatedAt&&at.internalBinaryWrite(e.updatedAt,t.tag(7,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a_=new ax,aS=new class extends tp{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",k,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.code=0,t.message="",t.shouldRetry=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.shouldRetry=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.code&&t.tag(1,g.Varint).int32(e.code),""!==e.message&&t.tag(2,g.LengthDelimited).string(e.message),!1!==e.shouldRetry&&t.tag(3,g.Varint).bool(e.shouldRetry);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}};class ak extends tp{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>aT},{no:2,name:"os",kind:"message",T:()=>aP},{no:3,name:"browser",kind:"message",T:()=>aO},{no:4,name:"device",kind:"message",T:()=>aN}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sdk=aT.internalBinaryRead(e,e.uint32(),i,r.sdk);break;case 2:r.os=aP.internalBinaryRead(e,e.uint32(),i,r.os);break;case 3:r.browser=aO.internalBinaryRead(e,e.uint32(),i,r.browser);break;case 4:r.device=aN.internalBinaryRead(e,e.uint32(),i,r.device);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.sdk&&aT.internalBinaryWrite(e.sdk,t.tag(1,g.LengthDelimited).fork(),i).join(),e.os&&aP.internalBinaryWrite(e.os,t.tag(2,g.LengthDelimited).fork(),i).join(),e.browser&&aO.internalBinaryWrite(e.browser,t.tag(3,g.LengthDelimited).fork(),i).join(),e.device&&aN.internalBinaryWrite(e.device,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aR=new ak;class aE extends tp{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",R,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type=0,t.major="",t.minor="",t.patch="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.type=e.int32();break;case 2:r.major=e.string();break;case 3:r.minor=e.string();break;case 4:r.patch=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.type&&t.tag(1,g.Varint).int32(e.type),""!==e.major&&t.tag(2,g.LengthDelimited).string(e.major),""!==e.minor&&t.tag(3,g.LengthDelimited).string(e.minor),""!==e.patch&&t.tag(4,g.LengthDelimited).string(e.patch);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aT=new aE;class aC extends tp{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",t.architecture="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.version=e.string();break;case 3:r.architecture=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,g.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,g.LengthDelimited).string(e.version),""!==e.architecture&&t.tag(3,g.LengthDelimited).string(e.architecture);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aP=new aC;class aA extends tp{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.version=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,g.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,g.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aO=new aA;class aI extends tp{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.version=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,g.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,g.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aN=new aI;class aj extends tp{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.canPublishAudio=!1,t.canPublishVideo=!1,t.canScreenshare=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.canPublishAudio=e.bool();break;case 2:r.canPublishVideo=e.bool();break;case 3:r.canScreenshare=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.canPublishAudio&&t.tag(1,g.Varint).bool(e.canPublishAudio),!1!==e.canPublishVideo&&t.tag(2,g.Varint).bool(e.canPublishVideo),!1!==e.canScreenshare&&t.tag(3,g.Varint).bool(e.canScreenshare);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aL=new aj;var aD=Object.freeze({__proto__:null,Browser:aO,Call:a_,CallGrants:aL,CallState:an,ClientDetails:aR,Codec:ay,get ConnectionQuality(){return x},Device:aN,Error:aS,get ErrorCode(){return k},get GoAwayReason(){return T},ICETrickle:av,OS:aP,Participant:ac,ParticipantCount:aa,get PeerType(){return w},Pin:ao,Sdk:aT,get SdkType(){return R},StreamQuality:ad,TrackInfo:aw,get TrackType(){return S},get TrackUnpublishReason(){return E},VideoDimension:ah,VideoLayer:am,get VideoQuality(){return _}});class aM extends tp{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",w,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.peerType=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sessionId=e.string();break;case 2:r.peerType=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,g.LengthDelimited).string(e.sessionId),0!==e.peerType&&t.tag(2,g.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aU=new aM;class aq extends tp{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&aS.internalBinaryWrite(e.error,t.tag(1,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a$=new aq;class aF extends tp{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>aW}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.muteStates=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sessionId=e.string();break;case 3:r.muteStates.push(aW.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,g.LengthDelimited).string(e.sessionId);for(let n=0;n<e.muteStates.length;n++)aW.internalBinaryWrite(e.muteStates[n],t.tag(3,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aK=new aF;class aB extends tp{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&aS.internalBinaryWrite(e.error,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aV=new aB;class az extends tp{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",S,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackType=0,t.muted=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.trackType=e.int32();break;case 2:r.muted=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.trackType&&t.tag(1,g.Varint).int32(e.trackType),!1!==e.muted&&t.tag(2,g.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aW=new az;class aH extends tp{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.muted=e.bool();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(1,g.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}new aH;class aG extends tp{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(2===t)r.muted=e.bool();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(2,g.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}new aG;class aJ extends tp{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>a0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.tracks=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 2:r.sessionId=e.string();break;case 3:r.tracks.push(a0.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)a0.internalBinaryWrite(e.tracks[n],t.tag(3,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aY=new aJ;class aX extends tp{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&aS.internalBinaryWrite(e.error,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let aZ=new aX;class aQ extends tp{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",S,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>ah}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.trackType=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.trackType=e.int32();break;case 4:r.dimension=ah.internalBinaryRead(e,e.uint32(),i,r.dimension);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),0!==e.trackType&&t.tag(3,g.Varint).int32(e.trackType),e.dimension&&ah.internalBinaryWrite(e.dimension,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a0=new aQ;class a1 extends tp{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",w,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.sdp="",t.sessionId="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.peerType=e.int32();break;case 2:r.sdp=e.string();break;case 3:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,g.Varint).int32(e.peerType),""!==e.sdp&&t.tag(2,g.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(3,g.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a2=new a1;class a3 extends tp{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&aS.internalBinaryWrite(e.error,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a4=new a3;class a6 extends tp{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&aS.internalBinaryWrite(e.error,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a5=new a6;class a8 extends tp{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>aw}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.tracks=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sdp=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.tracks.push(aw.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,g.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)aw.internalBinaryWrite(e.tracks[n],t.tag(3,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let a7=new a8;class a9 extends tp{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.iceRestart=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sdp=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.iceRestart=e.bool();break;case 4:r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,g.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),!1!==e.iceRestart&&t.tag(3,g.Varint).bool(e.iceRestart),e.error&&aS.internalBinaryWrite(e.error,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let se=new th("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:a7,O:new a9},{name:"SendAnswer",options:{},I:a2,O:a4},{name:"IceTrickle",options:{},I:av,O:a5},{name:"UpdateSubscriptions",options:{},I:aY,O:aZ},{name:"UpdateMuteStates",options:{},I:aK,O:aV},{name:"IceRestart",options:{},I:aU,O:a$}]);!function(e){e[e.HIGH_UNSPECIFIED=0]="HIGH_UNSPECIFIED",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.VERY_LOW=3]="VERY_LOW"}(C||(C={}));class st extends tp{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>sO},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>sN},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>sL},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>sB},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>av},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>s1},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>sT},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>sP},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>sq},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>sR},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>sm},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>sy},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>sb},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>ss},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>s3},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>s6},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>sc},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>sr}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.eventPayload={oneofKind:void 0},void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.eventPayload={oneofKind:"subscriberOffer",subscriberOffer:sO.internalBinaryRead(e,e.uint32(),i,r.eventPayload.subscriberOffer)};break;case 2:r.eventPayload={oneofKind:"publisherAnswer",publisherAnswer:sN.internalBinaryRead(e,e.uint32(),i,r.eventPayload.publisherAnswer)};break;case 3:r.eventPayload={oneofKind:"connectionQualityChanged",connectionQualityChanged:sL.internalBinaryRead(e,e.uint32(),i,r.eventPayload.connectionQualityChanged)};break;case 4:r.eventPayload={oneofKind:"audioLevelChanged",audioLevelChanged:sB.internalBinaryRead(e,e.uint32(),i,r.eventPayload.audioLevelChanged)};break;case 5:r.eventPayload={oneofKind:"iceTrickle",iceTrickle:av.internalBinaryRead(e,e.uint32(),i,r.eventPayload.iceTrickle)};break;case 6:r.eventPayload={oneofKind:"changePublishQuality",changePublishQuality:s1.internalBinaryRead(e,e.uint32(),i,r.eventPayload.changePublishQuality)};break;case 10:r.eventPayload={oneofKind:"participantJoined",participantJoined:sT.internalBinaryRead(e,e.uint32(),i,r.eventPayload.participantJoined)};break;case 11:r.eventPayload={oneofKind:"participantLeft",participantLeft:sP.internalBinaryRead(e,e.uint32(),i,r.eventPayload.participantLeft)};break;case 12:r.eventPayload={oneofKind:"dominantSpeakerChanged",dominantSpeakerChanged:sq.internalBinaryRead(e,e.uint32(),i,r.eventPayload.dominantSpeakerChanged)};break;case 13:r.eventPayload={oneofKind:"joinResponse",joinResponse:sR.internalBinaryRead(e,e.uint32(),i,r.eventPayload.joinResponse)};break;case 14:r.eventPayload={oneofKind:"healthCheckResponse",healthCheckResponse:sm.internalBinaryRead(e,e.uint32(),i,r.eventPayload.healthCheckResponse)};break;case 16:r.eventPayload={oneofKind:"trackPublished",trackPublished:sy.internalBinaryRead(e,e.uint32(),i,r.eventPayload.trackPublished)};break;case 17:r.eventPayload={oneofKind:"trackUnpublished",trackUnpublished:sb.internalBinaryRead(e,e.uint32(),i,r.eventPayload.trackUnpublished)};break;case 18:r.eventPayload={oneofKind:"error",error:ss.internalBinaryRead(e,e.uint32(),i,r.eventPayload.error)};break;case 19:r.eventPayload={oneofKind:"callGrantsUpdated",callGrantsUpdated:s3.internalBinaryRead(e,e.uint32(),i,r.eventPayload.callGrantsUpdated)};break;case 20:r.eventPayload={oneofKind:"goAway",goAway:s6.internalBinaryRead(e,e.uint32(),i,r.eventPayload.goAway)};break;case 21:r.eventPayload={oneofKind:"iceRestart",iceRestart:sc.internalBinaryRead(e,e.uint32(),i,r.eventPayload.iceRestart)};break;case 22:r.eventPayload={oneofKind:"pinsUpdated",pinsUpdated:sr.internalBinaryRead(e,e.uint32(),i,r.eventPayload.pinsUpdated)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"subscriberOffer"===e.eventPayload.oneofKind&&sO.internalBinaryWrite(e.eventPayload.subscriberOffer,t.tag(1,g.LengthDelimited).fork(),i).join(),"publisherAnswer"===e.eventPayload.oneofKind&&sN.internalBinaryWrite(e.eventPayload.publisherAnswer,t.tag(2,g.LengthDelimited).fork(),i).join(),"connectionQualityChanged"===e.eventPayload.oneofKind&&sL.internalBinaryWrite(e.eventPayload.connectionQualityChanged,t.tag(3,g.LengthDelimited).fork(),i).join(),"audioLevelChanged"===e.eventPayload.oneofKind&&sB.internalBinaryWrite(e.eventPayload.audioLevelChanged,t.tag(4,g.LengthDelimited).fork(),i).join(),"iceTrickle"===e.eventPayload.oneofKind&&av.internalBinaryWrite(e.eventPayload.iceTrickle,t.tag(5,g.LengthDelimited).fork(),i).join(),"changePublishQuality"===e.eventPayload.oneofKind&&s1.internalBinaryWrite(e.eventPayload.changePublishQuality,t.tag(6,g.LengthDelimited).fork(),i).join(),"participantJoined"===e.eventPayload.oneofKind&&sT.internalBinaryWrite(e.eventPayload.participantJoined,t.tag(10,g.LengthDelimited).fork(),i).join(),"participantLeft"===e.eventPayload.oneofKind&&sP.internalBinaryWrite(e.eventPayload.participantLeft,t.tag(11,g.LengthDelimited).fork(),i).join(),"dominantSpeakerChanged"===e.eventPayload.oneofKind&&sq.internalBinaryWrite(e.eventPayload.dominantSpeakerChanged,t.tag(12,g.LengthDelimited).fork(),i).join(),"joinResponse"===e.eventPayload.oneofKind&&sR.internalBinaryWrite(e.eventPayload.joinResponse,t.tag(13,g.LengthDelimited).fork(),i).join(),"healthCheckResponse"===e.eventPayload.oneofKind&&sm.internalBinaryWrite(e.eventPayload.healthCheckResponse,t.tag(14,g.LengthDelimited).fork(),i).join(),"trackPublished"===e.eventPayload.oneofKind&&sy.internalBinaryWrite(e.eventPayload.trackPublished,t.tag(16,g.LengthDelimited).fork(),i).join(),"trackUnpublished"===e.eventPayload.oneofKind&&sb.internalBinaryWrite(e.eventPayload.trackUnpublished,t.tag(17,g.LengthDelimited).fork(),i).join(),"error"===e.eventPayload.oneofKind&&ss.internalBinaryWrite(e.eventPayload.error,t.tag(18,g.LengthDelimited).fork(),i).join(),"callGrantsUpdated"===e.eventPayload.oneofKind&&s3.internalBinaryWrite(e.eventPayload.callGrantsUpdated,t.tag(19,g.LengthDelimited).fork(),i).join(),"goAway"===e.eventPayload.oneofKind&&s6.internalBinaryWrite(e.eventPayload.goAway,t.tag(20,g.LengthDelimited).fork(),i).join(),"iceRestart"===e.eventPayload.oneofKind&&sc.internalBinaryWrite(e.eventPayload.iceRestart,t.tag(21,g.LengthDelimited).fork(),i).join(),"pinsUpdated"===e.eventPayload.oneofKind&&sr.internalBinaryWrite(e.eventPayload.pinsUpdated,t.tag(22,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let si=new st;class sn extends tp{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>ao}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.pins=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.pins.push(ao.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.pins.length;n++)ao.internalBinaryWrite(e.pins[n],t.tag(1,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sr=new sn;class sa extends tp{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>aS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=aS.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&aS.internalBinaryWrite(e.error,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let ss=new sa;class so extends tp{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",w,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.peerType=e.int32();break;case 2:r.iceCandidate=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,g.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,g.LengthDelimited).string(e.iceCandidate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}new so;class sl extends tp{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",w,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.peerType=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,g.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sc=new sl;class su extends tp{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>sx},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>sh}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.requestPayload={oneofKind:void 0},void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.requestPayload={oneofKind:"joinRequest",joinRequest:sx.internalBinaryRead(e,e.uint32(),i,r.requestPayload.joinRequest)};break;case 2:r.requestPayload={oneofKind:"healthCheckRequest",healthCheckRequest:sh.internalBinaryRead(e,e.uint32(),i,r.requestPayload.healthCheckRequest)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"joinRequest"===e.requestPayload.oneofKind&&sx.internalBinaryWrite(e.requestPayload.joinRequest,t.tag(1,g.LengthDelimited).fork(),i).join(),"healthCheckRequest"===e.requestPayload.oneofKind&&sh.internalBinaryWrite(e.requestPayload.healthCheckRequest,t.tag(2,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sd=new su;class sp extends tp{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){return n??this.create()}internalBinaryWrite(e,t,i){let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sh=new sp;class sf extends tp{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>aa}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.participantCount=aa.internalBinaryRead(e,e.uint32(),i,r.participantCount);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.participantCount&&aa.internalBinaryWrite(e.participantCount,t.tag(1,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sm=new sf;class sg extends tp{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",S,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>ac}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.type=e.int32();break;case 4:r.participant=ac.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,g.Varint).int32(e.type),e.participant&&ac.internalBinaryWrite(e.participant,t.tag(4,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sy=new sg;class sv extends tp{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",S,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",E,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>ac}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,t.cause=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.type=e.int32();break;case 4:r.cause=e.int32();break;case 5:r.participant=ac.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,g.Varint).int32(e.type),0!==e.cause&&t.tag(4,g.Varint).int32(e.cause),e.participant&&ac.internalBinaryWrite(e.participant,t.tag(5,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sb=new sv;class sw extends tp{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>aR},{no:5,name:"migration",kind:"message",T:()=>sS},{no:6,name:"fast_reconnect",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.token="",t.sessionId="",t.subscriberSdp="",t.fastReconnect=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.token=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.subscriberSdp=e.string();break;case 4:r.clientDetails=aR.internalBinaryRead(e,e.uint32(),i,r.clientDetails);break;case 5:r.migration=sS.internalBinaryRead(e,e.uint32(),i,r.migration);break;case 6:r.fastReconnect=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.token&&t.tag(1,g.LengthDelimited).string(e.token),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),""!==e.subscriberSdp&&t.tag(3,g.LengthDelimited).string(e.subscriberSdp),e.clientDetails&&aR.internalBinaryWrite(e.clientDetails,t.tag(4,g.LengthDelimited).fork(),i).join(),e.migration&&sS.internalBinaryWrite(e.migration,t.tag(5,g.LengthDelimited).fork(),i).join(),!1!==e.fastReconnect&&t.tag(6,g.Varint).bool(e.fastReconnect);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sx=new sw;class s_ extends tp{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>aw},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>a0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fromSfuId="",t.announcedTracks=[],t.subscriptions=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.fromSfuId=e.string();break;case 2:r.announcedTracks.push(aw.internalBinaryRead(e,e.uint32(),i));break;case 3:r.subscriptions.push(a0.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.fromSfuId&&t.tag(1,g.LengthDelimited).string(e.fromSfuId);for(let n=0;n<e.announcedTracks.length;n++)aw.internalBinaryWrite(e.announcedTracks[n],t.tag(2,g.LengthDelimited).fork(),i).join();for(let n=0;n<e.subscriptions.length;n++)a0.internalBinaryWrite(e.subscriptions[n],t.tag(3,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sS=new s_;class sk extends tp{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>an},{no:2,name:"reconnected",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reconnected=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.callState=an.internalBinaryRead(e,e.uint32(),i,r.callState);break;case 2:r.reconnected=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.callState&&an.internalBinaryWrite(e.callState,t.tag(1,g.LengthDelimited).fork(),i).join(),!1!==e.reconnected&&t.tag(2,g.Varint).bool(e.reconnected);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sR=new sk;class sE extends tp{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>ac}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.callCid=e.string();break;case 2:r.participant=ac.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,g.LengthDelimited).string(e.callCid),e.participant&&ac.internalBinaryWrite(e.participant,t.tag(2,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sT=new sE;class sC extends tp{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>ac}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.callCid=e.string();break;case 2:r.participant=ac.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,g.LengthDelimited).string(e.callCid),e.participant&&ac.internalBinaryWrite(e.participant,t.tag(2,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sP=new sC;class sA extends tp{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.iceRestart=!1,t.sdp="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.iceRestart=e.bool();break;case 2:r.sdp=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.iceRestart&&t.tag(1,g.Varint).bool(e.iceRestart),""!==e.sdp&&t.tag(2,g.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sO=new sA;class sI extends tp{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.sdp=e.string();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,g.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sN=new sI;class sj extends tp{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>sM}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.connectionQualityUpdates=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.connectionQualityUpdates.push(sM.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.connectionQualityUpdates.length;n++)sM.internalBinaryWrite(e.connectionQualityUpdates[n],t.tag(1,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sL=new sj;class sD extends tp{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",x,"CONNECTION_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.connectionQuality=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.connectionQuality=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),0!==e.connectionQuality&&t.tag(3,g.Varint).int32(e.connectionQuality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sM=new sD;class sU extends tp{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sq=new sU;class s$ extends tp{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.level=0,t.isSpeaking=!1,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.level=e.float();break;case 4:r.isSpeaking=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,g.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,g.LengthDelimited).string(e.sessionId),0!==e.level&&t.tag(3,g.Bit32).float(e.level),!1!==e.isSpeaking&&t.tag(4,g.Varint).bool(e.isSpeaking);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sF=new s$;class sK extends tp{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>sF}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioLevels=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.audioLevels.push(sF.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioLevels.length;n++)sF.internalBinaryWrite(e.audioLevels[n],t.tag(1,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sB=new sK;class sV extends tp{constructor(){super("stream.video.sfu.event.AudioMediaRequest",[{no:1,name:"channel_count",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.channelCount=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.channelCount=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.channelCount&&t.tag(1,g.Varint).int32(e.channelCount);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sz=new sV;class sW extends tp{constructor(){super("stream.video.sfu.event.AudioSender",[{no:1,name:"media_request",kind:"message",T:()=>sz},{no:2,name:"codec",kind:"message",T:()=>ay}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.mediaRequest=sz.internalBinaryRead(e,e.uint32(),i,r.mediaRequest);break;case 2:r.codec=ay.internalBinaryRead(e,e.uint32(),i,r.codec);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.mediaRequest&&sz.internalBinaryWrite(e.mediaRequest,t.tag(1,g.LengthDelimited).fork(),i).join(),e.codec&&ay.internalBinaryWrite(e.codec,t.tag(2,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sH=new sW;class sG extends tp{constructor(){super("stream.video.sfu.event.VideoMediaRequest",[{no:1,name:"ideal_height",kind:"scalar",T:5},{no:2,name:"ideal_width",kind:"scalar",T:5},{no:3,name:"ideal_frame_rate",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.idealHeight=0,t.idealWidth=0,t.idealFrameRate=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.idealHeight=e.int32();break;case 2:r.idealWidth=e.int32();break;case 3:r.idealFrameRate=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.idealHeight&&t.tag(1,g.Varint).int32(e.idealHeight),0!==e.idealWidth&&t.tag(2,g.Varint).int32(e.idealWidth),0!==e.idealFrameRate&&t.tag(3,g.Varint).int32(e.idealFrameRate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sJ=new sG;class sY extends tp{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:5,name:"priority",kind:"enum",T:()=>["stream.video.sfu.event.VideoLayerSetting.Priority",C,"PRIORITY_"]},{no:6,name:"codec",kind:"message",T:()=>ay},{no:7,name:"max_framerate",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.active=!1,t.maxBitrate=0,t.scaleResolutionDownBy=0,t.priority=0,t.maxFramerate=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.active=e.bool();break;case 3:r.maxBitrate=e.int32();break;case 4:r.scaleResolutionDownBy=e.float();break;case 5:r.priority=e.int32();break;case 6:r.codec=ay.internalBinaryRead(e,e.uint32(),i,r.codec);break;case 7:r.maxFramerate=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,g.LengthDelimited).string(e.name),!1!==e.active&&t.tag(2,g.Varint).bool(e.active),0!==e.maxBitrate&&t.tag(3,g.Varint).int32(e.maxBitrate),0!==e.scaleResolutionDownBy&&t.tag(4,g.Bit32).float(e.scaleResolutionDownBy),0!==e.priority&&t.tag(5,g.Varint).int32(e.priority),e.codec&&ay.internalBinaryWrite(e.codec,t.tag(6,g.LengthDelimited).fork(),i).join(),0!==e.maxFramerate&&t.tag(7,g.Varint).uint32(e.maxFramerate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sX=new sY;class sZ extends tp{constructor(){super("stream.video.sfu.event.VideoSender",[{no:1,name:"media_request",kind:"message",T:()=>sJ},{no:2,name:"codec",kind:"message",T:()=>ay},{no:3,name:"layers",kind:"message",repeat:1,T:()=>sX}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.layers=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.mediaRequest=sJ.internalBinaryRead(e,e.uint32(),i,r.mediaRequest);break;case 2:r.codec=ay.internalBinaryRead(e,e.uint32(),i,r.codec);break;case 3:r.layers.push(sX.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.mediaRequest&&sJ.internalBinaryWrite(e.mediaRequest,t.tag(1,g.LengthDelimited).fork(),i).join(),e.codec&&ay.internalBinaryWrite(e.codec,t.tag(2,g.LengthDelimited).fork(),i).join();for(let n=0;n<e.layers.length;n++)sX.internalBinaryWrite(e.layers[n],t.tag(3,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let sQ=new sZ;class s0 extends tp{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>sH},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>sQ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioSenders=[],t.videoSenders=[],void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.audioSenders.push(sH.internalBinaryRead(e,e.uint32(),i));break;case 2:r.videoSenders.push(sQ.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioSenders.length;n++)sH.internalBinaryWrite(e.audioSenders[n],t.tag(1,g.LengthDelimited).fork(),i).join();for(let n=0;n<e.videoSenders.length;n++)sQ.internalBinaryWrite(e.videoSenders[n],t.tag(2,g.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let s1=new s0;class s2 extends tp{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>aL},{no:2,name:"message",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.message="",void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.currentGrants=aL.internalBinaryRead(e,e.uint32(),i,r.currentGrants);break;case 2:r.message=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.currentGrants&&aL.internalBinaryWrite(e.currentGrants,t.tag(1,g.LengthDelimited).fork(),i).join(),""!==e.message&&t.tag(2,g.LengthDelimited).string(e.message);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let s3=new s2;class s4 extends tp{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",T,"GO_AWAY_REASON_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reason=0,void 0!==e&&tt(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.reason=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?m.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.reason&&t.tag(1,g.Varint).int32(e.reason);let n=i.writeUnknownFields;return!1!==n&&(!0==n?m.onWrite:n)(this.typeName,e,t),t}}let s6=new s4;(function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"})(P||(P={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(A||(A={}));class s5{constructor(e){this._transport=e,this.typeName=se.typeName,this.methods=se.methods,this.options=se.options}setPublisher(e,t){let i=this.methods[0],n=this._transport.mergeOptions(t);return tf("unary",this._transport,i,n,e)}sendAnswer(e,t){let i=this.methods[1],n=this._transport.mergeOptions(t);return tf("unary",this._transport,i,n,e)}iceTrickle(e,t){let i=this.methods[2],n=this._transport.mergeOptions(t);return tf("unary",this._transport,i,n,e)}updateSubscriptions(e,t){let i=this.methods[3],n=this._transport.mergeOptions(t);return tf("unary",this._transport,i,n,e)}updateMuteStates(e,t){let i=this.methods[4],n=this._transport.mergeOptions(t);return tf("unary",this._transport,i,n,e)}iceRestart(e,t){let i=this.methods[5],n=this._transport.mergeOptions(t);return tf("unary",this._transport,i,n,e)}}let s8={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},s7=e=>({interceptUnary:(t,i,n,r)=>(r.meta={...r.meta,...e},t(i,n,r))}),s9=e=>new s5(new nL({...s8,...e})),oe=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",ot=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4}),oi="info",on=(e,t,...i)=>{let n;switch(e){case"error":n=console.error;break;case"warn":if(oe()){t=`WARN: ${t}`,n=console.info;break}n=console.warn;break;case"info":n=console.info;break;case"trace":n=console.trace;break;default:n=console.log}n(t,...i)},or=(e,t)=>{r=e,t&&oa(t)},oa=e=>{oi=e},os=e=>{let t=r||on,i=(e||[]).join(":");return(e,n,...r)=>{ot[e]>=ot[oi]&&t(e,`[${i}]: ${n}`,...r)}},oo=(e,t,i)=>{let n=os(["codecs"]);if(!("getCapabilities"in RTCRtpSender)){n?.("warn","RTCRtpSender.getCapabilities is not supported");return}let r=RTCRtpSender.getCapabilities(e);if(!r)return;let a=[],s=[],o=[];r.codecs.forEach(r=>{let l=r.mimeType.toLowerCase();if(n?.("debug",`Found supported codec: ${l}`),!i||l!==`${e}/${i.toLowerCase()}`){if(l!==`${e}/${t.toLowerCase()}`){o.push(r);return}if("h264"===l){r.sdpFmtpLine&&r.sdpFmtpLine.includes("profile-level-id=42e01f")?a.push(r):s.push(r);return}a.push(r)}});let l=[...a,...s,...o];return n?.("info","Preffered codecs: ",l),l},ol=async e=>{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});let i=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach(e=>{e.stop()}),t.close(),i},oc={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0},ou=e=>Object.prototype.hasOwnProperty.call(oc,e);class od{constructor(){this.logger=os(["Dispatcher"]),this.subscribers={},this.dispatch=e=>{let t=e.eventPayload.oneofKind;if(!t)return;let i=e.eventPayload[t];this.logger("debug",`Dispatching ${t}`,i);let n=this.subscribers[t];if(n)for(let e of n)try{e(i)}catch(e){this.logger("warn","Listener failed with error",e)}},this.on=(e,t)=>{var i;return((i=this.subscribers)[e]??(i[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter(e=>e!==t)},this.offAll=e=>{e?this.subscribers[e]=[]:this.subscribers={}}}}class op{constructor(){this.subscriberCandidates=new ra,this.publisherCandidates=new ra,this.logger=os(["sfu-client"]),this.push=e=>{e.peerType===w.SUBSCRIBER?this.subscriberCandidates.next(e):e.peerType===w.PUBLISHER_UNSPECIFIED?this.publisherCandidates.next(e):this.logger("warn","ICETrickle, Unknown peer type",e)}}}function oh(e){if(e.usernameFragment)return JSON.stringify(e.toJSON());{let t=e.candidate.split(" "),i=t.findIndex(e=>"ufrag"===e)+1,n=t[i];return JSON.stringify({...e,usernameFragment:n})}}let of=()=>a,om=()=>s,og=()=>o,oy=()=>{if(oe())return{sdk:of(),os:om(),device:og()};let{browser:e,os:t,device:i,cpu:n}=new rY.UAParser(navigator.userAgent).getResult();return{sdk:of(),browser:{name:e.name||navigator.userAgent,version:e.version||""},os:{name:t.name||"",version:t.version||"",architecture:n.architecture||""},device:{name:`${i.vendor||""} ${i.model||""} ${i.type||""}`,version:""}}},ov={bitrate:125e4,width:1280,height:720},ob=(e,t=ov)=>{let i=[],n=e.getSettings(),{width:r=0,height:a=0}=n,s=oe()&&om()?.name.toLowerCase()==="ios",o=ow(t,r,a),l=1;return["f","h","q"].forEach(e=>{i.unshift({active:!0,rid:e,width:Math.round(r/l),height:Math.round(a/l),maxBitrate:Math.round(o/l),scaleResolutionDownBy:l,maxFramerate:{f:30,h:s?30:25,q:s?30:20}[e]}),l*=2}),ox(n,i)},ow=(e,t,i)=>{let{width:n,height:r}=e;return t<n||i<r?Math.round(e.bitrate*(t*i/(n*r))):e.bitrate},ox=(e,t)=>{let i;let n=Math.max(e.width||0,e.height||0);i=n<=320?t.filter(e=>"f"===e.rid):n<=640?t.filter(e=>"h"!==e.rid):t;let r=["q","h","f"];return i.map((e,t)=>({...e,rid:r[t]}))},o_=(e,t)=>{let i=e.getSettings();return[{active:!0,rid:"q",width:i.width||0,height:i.height||0,scaleResolutionDownBy:1,maxBitrate:t?.maxBitrate??3e6,maxFramerate:t?.maxFramerate??30}]},oS=e=>{switch(e){case S.SCREEN_SHARE:return"screenShareStream";case S.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case S.VIDEO:return"videoStream";case S.AUDIO:return"audioStream";case S.UNSPECIFIED:throw Error("Track type is unspecified");default:throw Error(`Unknown track type: ${e}`)}},ok=e=>{switch(e){case"audio":return S.AUDIO;case"video":return S.VIDEO;case"screenshare":return S.SCREEN_SHARE;case"screenshare_audio":return S.SCREEN_SHARE_AUDIO;default:throw Error(`Unknown mute type: ${e}`)}},oR=e=>"function"==typeof e,oE=e=>{let t,i;if(rN([e]).subscribe({next:([e])=>{t=e},error:e=>{i=e}}).unsubscribe(),i)throw i;return t},oT=(e,t)=>{let i=oR(t)?t(oE(e)):t;return e.next(i),i},oC=(e,t)=>{let i=e.subscribe(t);return()=>{i.unsubscribe()}};var oP=Object.freeze({__proto__:null,createSubscription:oC,getCurrentValue:oE,setCurrentValue:oT});let oA=(...e)=>(t,i)=>{for(let n of e){let e=n(t,i);if(0!==e)return e}return 0},oO=e=>t=>(i,n)=>e(i,n)?t(i,n):0,oI=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,oN=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,oj=(e,t)=>oF(e)&&!oF(t)?-1:!oF(e)&&oF(t)?1:0,oL=(e,t)=>oK(e)&&!oK(t)?-1:!oK(e)&&oK(t)?1:0,oD=(e,t)=>oB(e)&&!oB(t)?-1:!oB(e)&&oB(t)?1:0,oM=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return -1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return -1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},oU=e=>(t,i)=>t.reaction?.type===e&&i.reaction?.type!==e?-1:t.reaction?.type!==e&&i.reaction?.type===e?1:0,oq=(e,t)=>e.name<t.name?-1:e.name>t.name?1:0,o$=(e,t)=>(e.roles||[]).some(e=>t.includes(e)),oF=e=>e.publishedTracks.includes(S.SCREEN_SHARE),oK=e=>e.publishedTracks.includes(S.VIDEO),oB=e=>e.publishedTracks.includes(S.AUDIO),oV=oO((e,t)=>e.viewportVisibilityState?.videoTrack===P.INVISIBLE||t.viewportVisibilityState?.videoTrack===P.INVISIBLE),oz=oO((e,t)=>e.viewportVisibilityState?.videoTrack===P.INVISIBLE||e.viewportVisibilityState?.videoTrack===P.UNKNOWN||t.viewportVisibilityState?.videoTrack===P.INVISIBLE||t.viewportVisibilityState?.videoTrack===P.UNKNOWN),oW=oA(oM,oj,oV(oA(oI,oN,oU("raised-hand"),oL,oD))),oH=oA(oM,oj,oI,oV(oA(oN,oU("raised-hand"),oL,oD))),oG=oA(oM,oz(oA(oI,oN,oU("raised-hand"),oL,oD))),oJ=oA(oV(oA(oI,oN,oU("raised-hand"),oL,oD)),((...e)=>(t,i)=>o$(t,e)&&!o$(i,e)?-1:!o$(t,e)&&o$(i,e)?1:0)("admin","host","speaker"));!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(O||(O={}));class oY{constructor(){this.backstageSubject=new rj(!0),this.blockedUserIdsSubject=new rj([]),this.createdAtSubject=new rj(new Date),this.endedAtSubject=new rj(void 0),this.startsAtSubject=new rj(void 0),this.updatedAtSubject=new rj(new Date),this.createdBySubject=new rj(void 0),this.customSubject=new rj({}),this.egressSubject=new rj(void 0),this.ingressSubject=new rj(void 0),this.recordingSubject=new rj(!1),this.sessionSubject=new rj(void 0),this.settingsSubject=new rj(void 0),this.transcribingSubject=new rj(!1),this.endedBySubject=new rj(void 0),this.thumbnailsSubject=new rj(void 0),this.membersSubject=new rj([]),this.ownCapabilitiesSubject=new rj([]),this.callingStateSubject=new rj(O.UNKNOWN),this.startedAtSubject=new rj(void 0),this.participantCountSubject=new rj(0),this.anonymousParticipantCountSubject=new rj(0),this.participantsSubject=new rj([]),this.callStatsReportSubject=new rj(void 0),this.sortParticipantsBy=oW,this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,e=>e)},this.getCurrentValue=oE,this.setCurrentValue=oT,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.findParticipantBySessionId=e=>this.participants.find(t=>t.sessionId===e),this.getParticipantLookupBySessionId=()=>this.participants.reduce((e,t)=>(e[t.sessionId]=t,e),{}),this.updateParticipant=(e,t)=>{let i=this.findParticipantBySessionId(e);if(!i){this.logger("warn",`Participant with sessionId ${e} not found`);return}let n="function"==typeof t?t(i):t,r={...i,...n};return this.setParticipants(t=>t.map(t=>t.sessionId===e?r:t))},this.updateOrAddParticipant=(e,t)=>this.findParticipantBySessionId(e)?this.setParticipants(i=>i.map(i=>i.sessionId===e?{...i,...t}:i)):this.setParticipants(e=>[...e,t]),this.updateParticipants=e=>{if(0!==Object.keys(e).length)return this.setParticipants(t=>t.map(t=>{let i=e[t.sessionId];return i?{...t,...i}:t}))},this.updateFromEvent=e=>{let t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{let t=e.reduce((e,t)=>(e[t.sessionId]=Date.now(),e),{});return this.setParticipants(e=>e.map(e=>{let i=t[e.sessionId];return i?{...e,pin:{isLocalPin:!1,pinnedAt:i}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))},this.updateFromCallResponse=e=>{this.setCurrentValue(this.backstageSubject,e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setCurrentValue(this.endedAtSubject,e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording),this.setCurrentValue(this.sessionSubject,e.session),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromMemberRemoved=e=>{this.setCurrentValue(this.membersSubject,t=>t.filter(t=>-1===e.members.indexOf(t.user_id)))},this.updateFromMemberAdded=e=>{this.setCurrentValue(this.membersSubject,t=>[...t,...e.members])},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,e=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,e=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastStarted=e=>{this.setCurrentValue(this.egressSubject,t=>({...t,broadcasting:!0,hls:{...t.hls,playlist_url:e.hls_playlist_url}}))},this.updateFromSessionParticipantLeft=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_left event but no session is available.",e),t;let{participants:i,participants_count_by_role:n}=t,{user:r,user_session_id:a}=e.participant;return{...t,participants:i.filter(e=>e.user_session_id!==a),participants_count_by_role:{...n,[r.role]:Math.max(0,(n[r.role]||0)-1)}}})},this.updateFromSessionParticipantJoined=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_joined event but no session is available.",e),t;let{participants:i,participants_count_by_role:n}=t,{user:r,user_session_id:a}=e.participant,s=!0,o=i.map(t=>t.user_session_id===a?(s=!1,e.participant):t);s&&o.push(e.participant);let l=s?1:0;return{...t,participants:o,participants_count_by_role:{...n,[r.role]:(n[r.role]||0)+l}}})},this.updateMembers=e=>{this.setCurrentValue(this.membersSubject,t=>t.map(t=>e.members.find(e=>e.user_id===t.user_id)||t))},this.updateParticipantReaction=e=>{let{user:t,custom:i,type:n,emoji_code:r}=e.reaction;this.setParticipants(e=>e.map(e=>e.userId!==t.id?e:{...e,reaction:{type:n,emoji_code:r,custom:i}}))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>t?t.filter(t=>t!==e.user.id):t)},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>[...t||[],e.user.id])},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.logger=os(["CallState"]),this.participants$=this.participantsSubject.asObservable().pipe(rC(e=>e.sort(this.sortParticipantsBy)),rD({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(rC(e=>e.find(e=>e.isLocalParticipant)),rD({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(rC(e=>e.filter(e=>!e.isLocalParticipant)),rD({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(rC(e=>e.filter(e=>!!e.pin)),rD({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(rC(e=>e.find(e=>e.isDominantSpeaker)),rD({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(rC(e=>e.some(e=>e.publishedTracks.includes(S.SCREEN_SHARE))),rM(),rD({bufferSize:1,refCount:!0})),this.startedAt$=this.startedAtSubject.asObservable(),this.participantCount$=this.participantCountSubject.asObservable(),this.anonymousParticipantCount$=this.anonymousParticipantCountSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.ownCapabilities$=this.ownCapabilitiesSubject.asObservable(),this.callingState$=this.callingStateSubject.asObservable(),this.backstage$=this.backstageSubject.asObservable(),this.blockedUserIds$=this.blockedUserIdsSubject.asObservable(),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.recording$=this.recordingSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.transcribing$=this.transcribingSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.eventHandlers={"call.permission_request":void 0,"call.recording_failed":void 0,"call.recording_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.created":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":this.updateFromHLSBroadcastStarted,"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}}class oX{constructor(){this.connectedUserSubject=new rj(void 0),this.callsSubject=new rj([]),this.getCurrentValue=oE,this.setCurrentValue=oT,this.setConnectedUser=e=>this.setCurrentValue(this.connectedUserSubject,e),this.setCalls=e=>this.setCurrentValue(this.callsSubject,e),this.registerCall=e=>{this.calls.find(t=>t.cid===e.cid)||this.setCalls(t=>[...t,e])},this.unregisterCall=e=>this.setCalls(t=>t.filter(t=>t!==e)),this.findCall=(e,t)=>this.calls.find(i=>i.type===e&&i.id===t),this.connectedUserSubject.subscribe(async e=>{if(!e){let e=os(["client-state"]);for(let t of this.calls)t.state.callingState!==O.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave().catch(i=>{e("error",`Error leaving call: ${t.cid}`,i)}))}})}get connectedUser(){return this.getCurrentValue(this.connectedUserSubject)}get calls(){return this.getCurrentValue(this.callsSubject)}}class oZ{constructor(e){this.getCurrentValue=oE,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return oE(this.connectedUser$)}get calls(){return oE(this.calls$)}}let oQ=e=>{let t=/^a=rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/.exec(e);if(t)return{original:t[0],payload:t[1],codec:t[2]}},o0=e=>{let t=/^a=fmtp:(\d*) (.*)/.exec(e);if(t)return{original:t[0],payload:t[1],config:t[2]}},o1=(e,t)=>{let i=RegExp(`(m=${t} \\d+ [\\w/]+) ([\\d\\s]+)`).exec(e);if(i)return{original:i[0],mediaWithPorts:i[1],codecOrder:i[2]}},o2=(e,t)=>{let i;let n=[],r=[],a=!1;if(e.split(/(\r\n|\r|\n)/).forEach(e=>{if(!/^([a-z])=(.*)/.test(e))return;let s=e[0];if("m"===s){let n=o1(e,t);a=!!n,n&&(i=n)}else if(a&&"a"===s){let t=oQ(e),i=o0(e);t?n.push(t):i&&r.push(i)}}),i)return{media:i,rtpMap:n,fmtp:r}},o3=e=>{let t=o2(e,"audio"),i=t?.rtpMap.find(e=>"opus"===e.codec.toLowerCase()),n=i?.payload;if(n)return t?.fmtp.find(e=>e.payload===n)},o4=(e,t)=>{let i=o3(e);if(i){let n=/usedtx=(\d)/.exec(i.config),r=`usedtx=${t?"1":"0"}`;if(n){let t=i.original.replace(/usedtx=(\d)/,r);return e.replace(i.original,t)}{let t=`${i.original};${r}`;return e.replace(i.original,t)}}return e},o6=(e,t,i=51e4)=>{i=Math.max(Math.min(i,51e4),96e3);let n=rJ.Qc(e),r=n.media.find(e=>"audio"===e.type&&String(e.mid)===t);if(!r)return e;let a=r.rtp.find(e=>"opus"===e.codec);if(!a)return e;let s=r.fmtp.find(e=>e.payload===a.payload);return s?(s.config.match(/stereo=(\d)/)?s.config=s.config.replace(/stereo=(\d)/,"stereo=1"):s.config=`${s.config};stereo=1`,s.config.match(/maxaveragebitrate=(\d*)/)?s.config=s.config.replace(/maxaveragebitrate=(\d*)/,`maxaveragebitrate=${i}`):s.config=`${s.config};maxaveragebitrate=${i}`,rJ.cW(n)):e},o5=os(["Publisher"]);class o8{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({connectionConfig:e,sfuClient:t,dispatcher:i,state:n,isDtxEnabled:r,isRedEnabled:a,iceRestartDelay:s=2500}){this.transceiverRegistry={[S.AUDIO]:void 0,[S.VIDEO]:void 0,[S.SCREEN_SHARE]:void 0,[S.SCREEN_SHARE_AUDIO]:void 0,[S.UNSPECIFIED]:void 0},this.publishOptionsPerTrackType=new Map,this.transceiverInitOrder=[],this.trackKindMapping={[S.AUDIO]:"audio",[S.VIDEO]:"video",[S.SCREEN_SHARE]:"video",[S.SCREEN_SHARE_AUDIO]:"audio",[S.UNSPECIFIED]:void 0},this.trackLayersCache={[S.AUDIO]:void 0,[S.VIDEO]:void 0,[S.SCREEN_SHARE]:void 0,[S.SCREEN_SHARE_AUDIO]:void 0,[S.UNSPECIFIED]:void 0},this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("signalingstatechange",this.onSignalingStateChange),t},this.close=({stopTracks:e=!0}={})=>{e&&(this.stopPublishing(),Object.keys(this.transceiverRegistry).forEach(e=>{this.transceiverRegistry[e]=void 0}),Object.keys(this.trackLayersCache).forEach(e=>{this.trackLayersCache[e]=void 0})),clearTimeout(this.iceRestartTimeout),this.unsubscribeOnIceRestart(),this.pc.removeEventListener("negotiationneeded",this.onNegotiationNeeded),this.pc.close()},this.publishStream=async(e,t,i,n={})=>{if("ended"===t.readyState)throw Error("Can't publish a track that has ended already.");let r=this.pc.getTransceivers().find(e=>e===this.transceiverRegistry[i]&&e.sender.track&&e.sender.track?.kind===this.trackKindMapping[i]),a=async()=>{o5("info",`Track ${S[i]} has ended, notifying the SFU`),await this.notifyTrackMuteStateChanged(e,i,!0),t.removeEventListener("ended",a)};if(r){let e=r.sender.track;e&&e!==t&&(e.stop(),e.removeEventListener("ended",a),t.addEventListener("ended",a)),t.enabled||(t.enabled=!0),await r.sender.replaceTrack(t)}else{let{settings:s}=this.state,o=s?.video.target_resolution,l=i===S.VIDEO?ob(t,o):i===S.SCREEN_SHARE?o_(t,n.screenShareSettings):void 0,c=n.preferredCodec;if(!c&&i===S.VIDEO&&oe()){let e=om()?.name.toLowerCase();"ipados"===e?c="H264":"android"===e&&(c="VP8")}let u=this.getCodecPreferences(i,c);t.addEventListener("ended",a),t.enabled||(t.enabled=!0),r=this.pc.addTransceiver(t,{direction:"sendonly",streams:i===S.VIDEO||i===S.SCREEN_SHARE?[e]:void 0,sendEncodings:l}),o5("debug",`Added ${S[i]} transceiver`),this.transceiverInitOrder.push(i),this.transceiverRegistry[i]=r,this.publishOptionsPerTrackType.set(i,n),"setCodecPreferences"in r&&u&&(o5("info",`Setting ${S[i]} codec preferences`,u),r.setCodecPreferences(u))}await this.notifyTrackMuteStateChanged(e,i,!1)},this.unpublishStream=async(e,t)=>{let i=this.pc.getTransceivers().find(t=>t===this.transceiverRegistry[e]&&t.sender.track);i&&i.sender.track&&(t?"live"===i.sender.track.readyState:i.sender.track.enabled)&&(t?i.sender.track.stop():i.sender.track.enabled=!1,this.state.localParticipant?.publishedTracks.includes(e)&&await this.notifyTrackMuteStateChanged(void 0,e,!0))},this.isPublishing=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState&&e.track.enabled}return!1},this.isLive=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState}return!1},this.notifyTrackMuteStateChanged=async(e,t,i)=>{await this.sfuClient.updateMuteState(t,i);let n=oS(t);i?this.state.updateParticipant(this.sfuClient.sessionId,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==t),[n]:void 0})):this.state.updateParticipant(this.sfuClient.sessionId,i=>({publishedTracks:i.publishedTracks.includes(t)?i.publishedTracks:[...i.publishedTracks,t],[n]:e}))},this.stopPublishing=()=>{o5("debug","Stopping publishing all tracks"),this.pc.getSenders().forEach(e=>{e.track?.stop(),"closed"!==this.pc.signalingState&&this.pc.removeTrack(e)})},this.updateVideoPublishQuality=async e=>{o5("info","Update publish quality, requested layers by SFU:",e);let t=this.transceiverRegistry[S.VIDEO]?.sender;if(!t){o5("warn","Update publish quality, no video sender found.");return}let i=t.getParameters();if(0===i.encodings.length){o5("warn","Update publish quality, No suitable video encoding quality found");return}let n=!1,r=e.filter(e=>e.active).map(e=>e.name);i.encodings.forEach(t=>{let i=r.includes(t.rid);if(i!==t.active&&(t.active=i,n=!0),i){let i=e.find(e=>e.name===t.rid);void 0!==i&&(i.scaleResolutionDownBy>=1&&i.scaleResolutionDownBy!==t.scaleResolutionDownBy&&(o5("debug","[dynascale]: setting scaleResolutionDownBy from server","layer",i.name,"scale-resolution-down-by",i.scaleResolutionDownBy),t.scaleResolutionDownBy=i.scaleResolutionDownBy,n=!0),i.maxBitrate>0&&i.maxBitrate!==t.maxBitrate&&(o5("debug","[dynascale] setting max-bitrate from the server","layer",i.name,"max-bitrate",i.maxBitrate),t.maxBitrate=i.maxBitrate,n=!0),i.maxFramerate>0&&i.maxFramerate!==t.maxFramerate&&(o5("debug","[dynascale]: setting maxFramerate from server","layer",i.name,"max-framerate",i.maxFramerate),t.maxFramerate=i.maxFramerate,n=!0))}});let a=i.encodings.filter(e=>e.active);n?(await t.setParameters(i),o5("info","Update publish quality, enabled rids: ",a)):o5("info","Update publish quality, no change: ",a)},this.getStats=e=>this.pc.getStats(e),this.getCodecPreferences=(e,t)=>{if(e===S.VIDEO)return oo("video",t||"vp8");if(e===S.AUDIO){let e=this.isRedEnabled?"red":"opus";return oo("audio",t??e,this.isRedEnabled?void 0:"red")}},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){o5("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oh(t),peerType:w.PUBLISHER_UNSPECIFIED})},this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=async(e,t)=>{this.sfuClient=e,this.pc.setConfiguration(t),this._connectionConfiguration=t,"connected"===this.pc.iceConnectionState&&await this.negotiate({iceRestart:!0})},this.restartIce=async()=>{o5("debug","Restarting ICE connection");let e=this.pc.signalingState;if(this.isIceRestarting||"have-local-offer"===e){o5("debug","ICE restart is already in progress");return}await this.negotiate({iceRestart:!0})},this.onNegotiationNeeded=async()=>{await this.negotiate()},this.negotiate=async e=>{this.isIceRestarting=e?.iceRestart??!1;let t=await this.pc.createOffer(e),i=this.mungeCodecs(t.sdp);if(i&&this.isPublishing(S.SCREEN_SHARE_AUDIO)){let e=this.transceiverRegistry[S.SCREEN_SHARE_AUDIO];if(e&&e.sender.track){let t=e.mid??this.extractMid(i,e.sender.track,S.SCREEN_SHARE_AUDIO);i=o6(i,t)}}t.sdp=i;let n=this.getCurrentTrackInfos(t.sdp);if(0===n.length)throw Error("Can't initiate negotiation without announcing any tracks");await this.pc.setLocalDescription(t);let{response:r}=await this.sfuClient.setPublisher({sdp:t.sdp||"",tracks:n});try{await this.pc.setRemoteDescription({type:"answer",sdp:r.sdp})}catch(e){o5("error","setRemoteDescription error",{sdp:r.sdp,error:e})}this.isIceRestarting=!1,this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){o5("warn","ICE candidate error",[t,e])}})},this.mungeCodecs=e=>(e&&(e=o4(e,this.isDtxEnabled)),e),this.extractMid=(e,t,i)=>{if(!e)return o5("warn","No SDP found. Returning empty mid"),"";o5("debug","No 'mid' found for track. Trying to find it from the Offer SDP");let n=rJ.Qc(e).media.find(e=>e.type===t.kind&&(e.msid?.includes(t.id)??!0));if(void 0===n?.mid){o5("debug",`No mid found in SDP for track type ${t.kind} and id ${t.id}. Attempting to find a heuristic mid`);let e=this.transceiverInitOrder.indexOf(i);return -1!==e?String(e):(o5("debug","No heuristic mid found. Returning empty mid"),"")}return String(n.mid)},this.getCurrentTrackInfos=e=>{e=e||this.pc.localDescription?.sdp;let{settings:t}=this.state,i=t?.video.target_resolution;return this.pc.getTransceivers().filter(e=>"sendonly"===e.direction&&e.sender.track).map(t=>{let n;let r=Number(Object.keys(this.transceiverRegistry).find(e=>this.transceiverRegistry[e]===t)),a=t.sender.track;if("live"===a.readyState){let e=this.publishOptionsPerTrackType.get(r);n=r===S.VIDEO?ob(a,i):r===S.SCREEN_SHARE?o_(a,e?.screenShareSettings):[],this.trackLayersCache[r]=n}else n=this.trackLayersCache[r]||[],o5("debug",`Track ${S[r]} is ended. Announcing last known optimal layers`,n);let s=n.map(e=>({rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:this.ridToVideoQuality(e.rid||""),videoDimension:{width:e.width,height:e.height}})),o=[S.AUDIO,S.SCREEN_SHARE_AUDIO].includes(r),l=a.getSettings(),c=o&&2===l.channelCount;return{trackId:a.id,layers:s,trackType:r,mid:t.mid??this.extractMid(e,a,r),stereo:c,dtx:o&&this.isDtxEnabled,red:o&&this.isRedEnabled}})},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`;o5("connected"===this.pc.iceConnectionState?"debug":"error","ICE Candidate error",t)},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;o5("debug","ICE Connection state changed to",e);let t=this.state.callingState!==O.OFFLINE;"failed"===e?(o5("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{o5("error","ICE restart error",e)})):"disconnected"===e&&t&&(o5("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{o5("error","ICE restart error",e)}):o5("debug","Scheduled ICE restart: connection recovered, canceled.")},this.iceRestartDelay))},this.onIceGatheringStateChange=()=>{o5("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingStateChange=()=>{o5("debug","Signaling state changed",this.pc.signalingState)},this.ridToVideoQuality=e=>"q"===e?_.LOW_UNSPECIFIED:"h"===e?_.MID:_.HIGH,this.pc=this.createPeerConnection(e),this.sfuClient=t,this.state=n,this.isDtxEnabled=r,this.isRedEnabled=a,this.iceRestartDelay=s,this.unsubscribeOnIceRestart=i.on("iceRestart",async e=>{e.peerType===w.PUBLISHER_UNSPECIFIED&&await this.restartIce()})}}let o7=os(["Subscriber"]);class o9{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({sfuClient:e,dispatcher:t,state:i,connectionConfig:n,iceRestartDelay:r=2500}){this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("track",this.handleOnTrack),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t},this.close=()=>{clearTimeout(this.iceRestartTimeout),this.unregisterOnSubscriberOffer(),this.unregisterOnIceRestart(),this.pc.close()},this.getStats=e=>this.pc.getStats(e),this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=(e,t)=>{let i;this.setSfuClient(e);let n=this.pc,r=new Set;n.getReceivers().forEach(e=>{"video"===e.track.kind&&r.add(e.track.id)});let a=this.createPeerConnection(t),s=()=>{n.close(),clearTimeout(i)},o=e=>{o7("debug",`[Migration]: Migrated track: ${e.track.id}, ${e.track.kind}`),r.delete(e.track.id),0===r.size&&(o7("debug","[Migration]: Migration complete"),a.removeEventListener("track",o),s())},l=()=>{"connected"===a.connectionState&&(i=setTimeout(()=>{a.removeEventListener("track",o),s()},2e3),a.removeEventListener("connectionstatechange",l))};a.addEventListener("track",o),a.addEventListener("connectionstatechange",l),this.pc=a},this.restartIce=async()=>{if(o7("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState){o7("debug","ICE restart is already in progress");return}let e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:w.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{let[t]=e.streams,[i,n]=t.id.split(":"),r=this.state.participants.find(e=>e.trackLookupPrefix===i);if(o7("debug",`[onTrack]: Got remote ${n} track for userId: ${r?.userId}`,e.track.id,e.track),!r){o7("error",`[onTrack]: Received track for unknown participant: ${i}`,e);return}e.track.addEventListener("mute",()=>{o7("info",`[onTrack]: Track muted: ${r.userId} ${n}:${i}`)}),e.track.addEventListener("unmute",()=>{o7("info",`[onTrack]: Track unmuted: ${r.userId} ${n}:${i}`)}),e.track.addEventListener("ended",()=>{o7("info",`[onTrack]: Track ended: ${r.userId} ${n}:${i}`)});let a={TRACK_TYPE_AUDIO:"audioStream",TRACK_TYPE_VIDEO:"videoStream",TRACK_TYPE_SCREEN_SHARE:"screenShareStream",TRACK_TYPE_SCREEN_SHARE_AUDIO:"screenShareAudioStream"}[n];if(!a){o7("error",`Unknown track type: ${n}`);return}let s=r[a];s&&(o7("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${r.userId}`),s.getTracks().forEach(e=>{e.stop(),s.removeTrack(e)})),this.state.updateParticipant(r.sessionId,{[a]:t})},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){o7("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oh(t),peerType:w.SUBSCRIBER})},this.negotiate=async e=>{o7("info","Received subscriberOffer",e),await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){o7("warn","ICE candidate error",[t,e])}});let t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:w.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;if(o7("debug","ICE connection state changed",e),this.isIceRestarting)return;let t=this.state.callingState!==O.OFFLINE;"failed"===e?(o7("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{o7("error","ICE restart failed",e)})):"disconnected"===e&&t&&(o7("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{o7("error","ICE restart failed",e)}):o7("debug","Scheduled ICE restart: connection recovered, canceled.")},5e3))},this.onIceGatheringStateChange=()=>{o7("debug","ICE gathering state changed",this.pc.iceGatheringState)},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`;o7("connected"===this.pc.iceConnectionState?"debug":"error","ICE Candidate error",t)},this.sfuClient=e,this.state=i,this.iceRestartDelay=r,this.pc=this.createPeerConnection(n),this.unregisterOnSubscriberOffer=t.on("subscriberOffer",async e=>{await this.negotiate(e)}),this.unregisterOnIceRestart=t.on("iceRestart",async e=>{e.peerType===w.SUBSCRIBER&&await this.restartIce()})}}let le=e=>{let t=os(["sfu-client"]),{endpoint:i,onMessage:n}=e,r=new(rZ())(i);return r.binaryType="arraybuffer",r.addEventListener("error",e=>{t("error","Signaling WS channel error",e)}),r.addEventListener("close",e=>{t("info","Signaling WS channel is closed",e)}),r.addEventListener("open",e=>{t("info","Signaling WS channel is open",e)}),r.addEventListener("message",e=>{try{let t=e.data instanceof ArrayBuffer?si.fromBinary(new Uint8Array(e.data)):si.fromJsonString(e.data.toString());n(t)}catch(i){t("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:i})}}),r},lt=e=>new Promise(t=>setTimeout(t,e));function li(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}let ln={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3,WS_CLOSED_ABRUPTLY:1006,WS_POLICY_VIOLATION:1008};function lr(e){let t=Math.min(Math.max(250,(e-1)*2e3),5e3);return Math.floor(Math.random()*(Math.min(500+2e3*e,5e3)-t)+t)}function la(e){let t="";for(let i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}function ls(){let e=function(e){let t=new Uint8Array(16);return lo(t),t}(0);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,la(e.subarray(0,4))+"-"+la(e.subarray(4,6))+"-"+la(e.subarray(6,8))+"-"+la(e.subarray(8,10))+"-"+la(e.subarray(10,16))}let lo="undefined"!=typeof crypto&&void 0!==crypto?.getRandomValues?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){let t=Math.pow(2,8*e.byteLength/e.length);for(let i=0;i<e.length;i++)e[i]=Math.random()*t};class ll{constructor({dispatcher:e,sfuServer:t,token:i,sessionId:n}){this.iceTrickleBuffer=new op,this.isMigratingAway=!1,this.isFastReconnecting=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.close=(e=ll.NORMAL_CLOSURE,t="js-client: requested signal connection close")=>{this.logger("debug","Closing SFU WS connection",e,t),this.signalWs.readyState!==this.signalWs.CLOSED&&this.signalWs.close(e,t),this.unsubscribeIceTrickle(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout)},this.updateSubscriptions=async e=>lc(()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e}),this.logger),this.setPublisher=async e=>lc(()=>this.rpc.setPublisher({...e,sessionId:this.sessionId}),this.logger),this.sendAnswer=async e=>lc(()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId}),this.logger),this.iceTrickle=async e=>lc(()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId}),this.logger),this.iceRestart=async e=>lc(()=>this.rpc.iceRestart({...e,sessionId:this.sessionId}),this.logger),this.updateMuteState=async(e,t)=>this.updateMuteStates({muteStates:[{trackType:e,muted:t}]}),this.updateMuteStates=async e=>lc(()=>this.rpc.updateMuteStates({...e,sessionId:this.sessionId}),this.logger),this.join=async e=>{let t=sx.create({...e,sessionId:this.sessionId,token:this.token});return this.send(sd.create({requestPayload:{oneofKind:"joinRequest",joinRequest:t}}))},this.send=async e=>this.signalReady.then(t=>{t.readyState===t.OPEN&&(this.logger("debug",`Sending message to: ${this.edgeName}`,sd.toJson(e)),t.send(sd.toBinary(e)))}),this.keepAlive=()=>{clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(()=>{this.logger("trace","Sending healthCheckRequest to SFU");let e=sd.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}});this.send(e).catch(e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)})},this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout(()=>{this.lastMessageTimestamp&&new Date().getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(ll.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)},this.unhealthyTimeoutInMs)},this.sessionId=n||ls(),this.sfuServer=t,this.edgeName=t.edge_name,this.token=i,this.logger=os(["sfu-client"]),this.rpc=s9({baseUrl:t.url,interceptors:[s7({Authorization:`Bearer ${i}`}),{interceptUnary:(e,t,i,n)=>(this.logger("trace",`Calling SFU RPC method ${t.name}`,{input:i,options:n}),e(t,i,n))}]}),this.unsubscribeIceTrickle=e.on("iceTrickle",e=>{this.iceTrickleBuffer.push(e)}),this.signalWs=le({endpoint:t.ws_endpoint,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck(),e.dispatch(t)}}),this.signalReady=new Promise(e=>{let t=()=>{this.signalWs.removeEventListener("open",t),this.keepAlive(),e(this.signalWs)};this.signalWs.addEventListener("open",t)})}}ll.NORMAL_CLOSURE=1e3,ll.ERROR_CONNECTION_UNHEALTHY=4001,ll.ERROR_CONNECTION_BROKEN=4002;let lc=async(e,t)=>{let i,n=0;do n>0&&await lt(lr(n)),i=await e(),t("trace",`SFU RPC response received for ${i.method.name}`,i),i.response.error&&t("error",`SFU RPC Error (${i.method.name}):`,i.response.error),n++;while(i.response.error?.shouldRetry&&n<5);if(i.response.error)throw i.response.error;return i},lu=e=>async function(t){if(t.user.id===e.currentUserId)return;let{state:i}=e;t.call.created_by.id===e.currentUserId&&i.callingState===O.RINGING&&await e.join()},ld=e=>async function(t){if(t.user.id===e.currentUserId)return;let{call:i}=t,{session:n}=i;if(!n){e.logger("warn","No call session provided. Ignoring call.rejected event.",t);return}let r=n.rejected_by,{members:a,callingState:s}=e.state;if(s!==O.RINGING){e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t);return}e.isCreatedByMe?a.filter(t=>t.user_id!==e.currentUserId).every(e=>r[e.user_id])&&(e.logger("info","everyone rejected, leaving the call"),await e.leave()):r[i.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave())},lp=e=>async function(){let{callingState:t}=e.state;(t===O.RINGING||t===O.JOINED||t===O.JOINING)&&await e.leave()},lh=e=>function(t){let{currentGrants:i}=t;if(i){let{canPublishAudio:t,canPublishVideo:n,canScreenshare:r}=i,a={[r2.SEND_AUDIO]:t,[r2.SEND_VIDEO]:n,[r2.SCREENSHARE]:r},s=e.ownCapabilities.filter(e=>!1!==a[e]);Object.entries(a).forEach(([e,t])=>{t&&!s.includes(e)&&s.push(e)}),e.setOwnCapabilities(s)}},lf=os(["events"]),lm=(e,t)=>e.on("changePublishQuality",e=>{let{videoSenders:i}=e;i.forEach(e=>{let{layers:i}=e;t.updatePublishQuality(i.filter(e=>e.active))})}),lg=(e,t)=>e.on("connectionQualityChanged",e=>{let{connectionQualityUpdates:i}=e;i&&t.updateParticipants(i.reduce((e,t)=>{let{sessionId:i,connectionQuality:n}=t;return e[i]={connectionQuality:n},e},{}))}),ly=(e,t)=>e.on("healthCheckResponse",e=>{let{participantCount:i}=e;i&&(t.setParticipantCount(i.total),t.setAnonymousParticipantCount(i.anonymous))}),lv=(e,t)=>e.on("error",e=>{e.error&&e.error.code!==k.LIVE_ENDED||t.permissionsContext.hasPermission(r2.JOIN_BACKSTAGE)||t.leave().catch(e=>{lf("error","Failed to leave call after live ended",e)})}),lb=e=>e.on("error",e=>{if(!e.error)return;let{error:t}=e;lf("error","SFU reported error",{code:k[t.code],message:t.message,shouldRetry:t.shouldRetry})}),lw=e=>function(t){let{pins:i}=t;e.setServerSidePins(i)},lx=e=>e.on("trackUnpublished",async t=>{let{cause:i,type:n,sessionId:r}=t,{localParticipant:a}=e.state;if(i===E.MODERATION&&r===a?.sessionId){let t=e.logger;t("info",`Local participant's ${S[n]} track is muted remotely`);try{n===S.VIDEO?await e.camera.disable():n===S.AUDIO?await e.microphone.disable():t("warn","Unsupported track type to soft mute",S[n]),e.publisher?.isPublishing(n)&&await e.stopPublish(n)}catch(e){t("error","Failed to stop publishing",e)}}}),l_=e=>function(t){let{participant:i}=t;i&&e.updateOrAddParticipant(i.sessionId,Object.assign(i,{viewportVisibilityState:{videoTrack:P.UNKNOWN,screenShareTrack:P.UNKNOWN}}))},lS=e=>function(t){let{participant:i}=t;i&&e.setParticipants(e=>e.filter(e=>e.sessionId!==i.sessionId))},lk=e=>function(t){let{type:i,sessionId:n,participant:r}=t;r?e.updateOrAddParticipant(n,r):e.updateParticipant(n,e=>({publishedTracks:[...e.publishedTracks,i].filter(lE)}))},lR=e=>function(t){let{type:i,sessionId:n,participant:r}=t;r?e.updateOrAddParticipant(n,r):e.updateParticipant(n,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==i)}))},lE=(e,t,i)=>i.indexOf(e)===t,lT=(e,t)=>e.on("dominantSpeakerChanged",e=>{let{sessionId:i}=e;i!==t.dominantSpeaker?.sessionId&&t.setParticipants(e=>e.map(e=>e.sessionId===i?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))}),lC=(e,t)=>e.on("audioLevelChanged",e=>{let{audioLevels:i}=e;t.updateParticipants(i.reduce((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e),{}))}),lP=(e,t,i)=>{let n=[e.on("call.ended",lp(e)),lv(i,e),lb(i),lm(i,e),lg(i,t),ly(i,t),e.on("participantJoined",l_(t)),e.on("participantLeft",lS(t)),e.on("trackPublished",lk(t)),e.on("trackUnpublished",lR(t)),lC(i,t),lT(i,t),e.on("callGrantsUpdated",lh(t)),e.on("pinsUpdated",lw(t)),lx(e)];return e.ringing&&n.push(lA(e)),()=>{n.forEach(e=>e())}},lA=e=>{let t={"call.accepted":lu(e),"call.rejected":ld(e)},i=Object.keys(t).map(i=>e.on(i,t[i]));return()=>{i.forEach(e=>e())}},lO=async(e,t,i,n)=>{let{call:r,credentials:a,members:s,own_capabilities:o}=await lI(e,t,i,n);return{connectionConfig:lN(a.ice_servers),sfuServer:a.server,token:a.token,metadata:r,members:s,ownCapabilities:o}},lI=async(e,t,i,n)=>{let r=await e.getLocationHint(),a={...n,location:r};return e.post(`/call/${t}/${i}/join`,a)},lN=e=>{if(e&&0!==e.length)return{iceServers:e.map(e=>({urls:e.urls,username:e.username,credential:e.password}))}},lj=({subscriber:e,publisher:t,state:i,pollingIntervalInMs:n=2e3})=>{let r;let a=os(["stats"]),s=async(i,n)=>"subscriber"===i&&e?e.getStats(n):"publisher"===i&&t?t.getStats(n):void a("warn",`Can't retrieve RTC stats for ${i}`),o=async(i,n)=>{let r="subscriber"===i?e:t,a=[];for(let e of n.getTracks()){let t=lL(await r.getStats(e),{trackKind:e.kind,kind:i});a.push(t)}return a},l=new Set,c=async()=>{let n={},r=new Set(l);if(r.size>0)for(let e of i.participants){if(!r.has(e.sessionId))continue;let t=e.isLocalParticipant?"publisher":"subscriber";try{let i=new MediaStream([...e.videoStream?.getVideoTracks()||[],...e.audioStream?.getAudioTracks()||[]]);n[e.sessionId]=await o(t,i),i.getTracks().forEach(e=>{i.removeTrack(e)})}catch(i){a("error",`Failed to collect stats for ${t} if ${e.userId}`,i)}}let[c,u]=await Promise.all([e.getStats().then(e=>lL(e,{kind:"subscriber",trackKind:"video"})).then(lD),t.getStats().then(e=>lL(e,{kind:"publisher",trackKind:"video"})).then(lD)]),[d,p]=await Promise.all([s("subscriber"),s("publisher")]);i.setCallStatsReport({datacenter:t.sfuClient.edgeName,publisherStats:u,subscriberStats:c,subscriberRawStats:d,publisherRawStats:p,participants:n,timestamp:Date.now()})};if(n>0){let e=async()=>{await c().catch(e=>{a("debug","Failed to collect stats",e)}),r=setTimeout(e,n)};e()}return{getRawStatsForTrack:s,getStatsForStream:o,startReportingStatsFor:e=>{l.add(e),c()},stopReportingStatsFor:e=>{l.delete(e),c()},stop:()=>{r&&clearTimeout(r)}}},lL=(e,t)=>{let{trackKind:i,kind:n}=t,r="subscriber"===n?"inbound-rtp":"outbound-rtp",a=lM(e);return{rawStats:e,streams:a.filter(e=>e.type===r&&e.kind===i).map(e=>{let t;let i=a.find(t=>"codec"===t.type&&t.id===e.codecId),n=a.find(t=>"transport"===t.type&&t.id===e.transportId);if(n&&"connected"===n.dtlsState){let e=a.find(e=>"candidate-pair"===e.type&&e.id===n.selectedCandidatePairId);t=e?.currentRoundTripTime}return{bytesSent:e.bytesSent,bytesReceived:e.bytesReceived,codec:i?.mimeType,currentRoundTripTime:t,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,jitter:e.jitter,kind:e.kind,qualityLimitationReason:e.qualityLimitationReason,rid:e.rid,ssrc:e.ssrc}}),timestamp:Date.now()}},lD=e=>{let t={rawReport:e,totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,timestamp:Date.now()},i=-1,n=(e,t)=>e*t,r=new Set,a=e.streams,s=a.reduce((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;let a=n(t.frameWidth||0,t.frameHeight||0);return a>i&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,i=a),r.add(t.qualityLimitationReason||""),e},t);a.length>0&&(s.averageJitterInMs=Math.round(s.averageJitterInMs/a.length*1e3),s.averageRoundTripTimeInMs=Math.round(s.averageRoundTripTimeInMs/a.length*1e3));let o=[r.has("cpu")&&"cpu",r.has("bandwidth")&&"bandwidth",r.has("other")&&"other"].filter(Boolean).join(", ");return o&&(s.qualityLimitationReasons=o),s},lM=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class lU{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this.elementHandlerMap.get(e.target);t?.(e)})},{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach(([t,i])=>{e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,i))}),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{let i=[e,t];return this.elementHandlerMap.has(e)||(this.observer?this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)):this.queueSet.add(i)),()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(i)}}}}let lq=()=>"undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),l$=()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Firefox");var lF=Object.freeze({__proto__:null,isChrome:()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:l$,isSafari:lq});let lK={videoTrack:P.UNKNOWN,screenShareTrack:P.UNKNOWN};class lB{constructor(e){this.viewportTracker=new lU,this.logger=os(["DynascaleManager"]),this.trackElementVisibility=(e,t,i)=>{let n=this.viewportTracker.observe(e,n=>{this.call.state.updateParticipant(t,t=>{let r=t.viewportVisibilityState??lK,a=n.isIntersecting||document.fullscreenElement===e?P.VISIBLE:P.INVISIBLE;return{...t,viewportVisibilityState:{...r,[i]:a}}})});return()=>{n(),this.call.state.updateParticipant(t,e=>{let t=e.viewportVisibilityState??lK;return{...e,viewportVisibilityState:{...t,[i]:P.UNKNOWN}}})}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n,r;let a=this.call.state.findParticipantBySessionId(t);if(!a)return;let s=(e,n)=>{n&&(0===n.width||0===n.height)&&(this.logger("debug","Ignoring 0x0 dimension",a),n=void 0),this.call.updateSubscriptionsPartial(i,{[t]:{dimension:n}},e)},o=this.call.state.participants$.pipe(rC(e=>e.find(e=>e.sessionId===t)),rq(e=>!!e),rM(),rD({bufferSize:1,refCount:!0})),l=a.isLocalParticipant?null:o.pipe(rC(e=>e.viewportVisibilityState?.[i]),rM()).subscribe(t=>{if(!n){n=t??P.UNKNOWN;return}if(n=t??P.UNKNOWN,t===P.INVISIBLE)return s(A.MEDIUM,void 0);s(A.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}),c=a.isLocalParticipant?null:new ResizeObserver(()=>{let t=`${e.clientWidth},${e.clientHeight}`;if(!r){r=t;return}r!==t&&n!==P.INVISIBLE&&(s(A.SLOW,{width:e.clientWidth,height:e.clientHeight}),r=t)});c?.observe(e);let u=a.isLocalParticipant?null:o.pipe(r$("publishedTracks"),rC(e=>e.publishedTracks.includes("videoTrack"===i?S.VIDEO:S.SCREEN_SHARE)),rM()).subscribe(t=>{t?s(A.FAST,{width:e.clientWidth,height:e.clientHeight}):s(A.FAST,void 0)});e.autoplay=!0,e.playsInline=!0,e.muted=!0;let d=o.pipe(r$("videoTrack"===i?"videoStream":"screenShareStream")).subscribe(t=>{let n="videoTrack"===i?t.videoStream:t.screenShareStream;e.srcObject!==n&&(e.srcObject=n??null,(lq()||l$())&&setTimeout(()=>{e.srcObject=n??null,e.play().catch(e=>{this.logger("warn","Failed to play stream",e)})},25))});return()=>{s(A.FAST,void 0),l?.unsubscribe(),u?.unsubscribe(),d.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,t,i)=>{let n=this.call.state.findParticipantBySessionId(t);if(!n||n.isLocalParticipant)return;let r=this.call.state.participants$.pipe(rC(e=>e.find(e=>e.sessionId===t)),rq(e=>!!e),rM(),rD({bufferSize:1,refCount:!0})).pipe(r$("screenShareAudioTrack"===i?"screenShareAudioStream":"audioStream")).subscribe(t=>{let n="screenShareAudioTrack"===i?t.screenShareAudioStream:t.audioStream;e.srcObject!==n&&setTimeout(()=>{if(e.srcObject=n??null,e.srcObject){e.play().catch(e=>{this.logger("warn","Failed to play stream",e)});let{selectedDevice:t}=this.call.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}})}),a="setSinkId"in e?this.call.speaker.state.selectedDevice$.subscribe(t=>{t&&e.setSinkId(t)}):null,s=this.call.speaker.state.volume$.subscribe(t=>{e.volume=t});return e.autoplay=!0,()=>{a?.unsubscribe(),s.unsubscribe(),r.unsubscribe()}},this.call=e}}class lV{constructor(){this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canRequest=(e,t=this.settings)=>{if(!t)return!1;let{audio:i,video:n,screensharing:r}=t;switch(e){case r2.SEND_AUDIO:return i.access_request_enabled;case r2.SEND_VIDEO:return n.access_request_enabled;case r2.SCREENSHARE:return r.access_request_enabled;default:return!1}}}}class lz{constructor(e,t={sortParticipantsBy:oW}){this.name=e,this.options=t}}class lW{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new lz(e)),this.callTypes[e]),this.callTypes=e.reduce((e,t)=>(e[t.name]=t,e),{})}}let lH=new lW([new lz("default",{sortParticipantsBy:oW}),new lz("development",{sortParticipantsBy:oW}),new lz("livestream",{sortParticipantsBy:oJ}),new lz("audio_room",{sortParticipantsBy:oJ})]),lG=(e,t)=>new n9(i=>{(async()=>{let i=await navigator.mediaDevices.enumerateDevices();if(i.some(e=>e.kind===t&&""===e.label)){let t;try{t=await navigator.mediaDevices.getUserMedia(e),i=await navigator.mediaDevices.enumerateDevices()}finally{t&&ct(t)}}return i})().then(e=>{i.next(e),i.complete()}).catch(e=>{os(["devices"])("error","Failed to enumerate devices",e),i.error(e)})}),lJ=()=>"undefined"!=typeof document&&"setSinkId"in document.createElement("audio"),lY={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},lX={video:{width:1280,height:720}},lZ=e=>{let t;return()=>(t||(t=e()),t)},lQ=lZ(()=>new n9(e=>{if(!navigator.mediaDevices.addEventListener)return;let t=()=>e.next();return navigator.mediaDevices.addEventListener("devicechange",t),()=>{navigator.mediaDevices.removeEventListener("devicechange",t)}}).pipe(function(e,t){return void 0===t&&(t=rz),rx(function(i,n){var r=null,a=null,s=null,o=function(){if(r){r.unsubscribe(),r=null;var e=a;a=null,n.next(e)}};function l(){var i=s+e,a=t.now();if(a<i){r=this.schedule(void 0,i-a),n.add(r);return}o()}i.subscribe(r_(n,function(i){a=i,s=t.now(),r||(r=t.schedule(l,e),n.add(r))},function(){o(),n.complete()},void 0,function(){a=r=null}))})}(500),function(e,t){return nM(t)?rW(e,t,1):rW(e,1)}(()=>rT(navigator.mediaDevices.enumerateDevices())),rD(1))),l0=lZ(()=>rG(lG(lY,"audioinput"),lQ()).pipe(rD(1))),l1=lZ(()=>rG(lG(lY,"audiooutput"),lQ()).pipe(rD(1))),l2=lZ(()=>rG(lG(lX,"videoinput"),lQ()).pipe(rD(1))),l3=()=>l0().pipe(rC(e=>e.filter(e=>"audioinput"===e.kind))),l4=()=>l2().pipe(rC(e=>e.filter(e=>"videoinput"===e.kind))),l6=()=>l1().pipe(rC(e=>e.filter(e=>"audiooutput"===e.kind))),l5=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch(t){throw os(["devices"])("error","Failed get user media",{error:t,constraints:e}),t}},l8=async e=>l5({audio:{...lY.audio,...e}}),l7=async e=>l5({video:{...lX.video,...e}}),l9=async e=>{try{return await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e})}catch(e){throw os(["devices"])("error","Failed to get screen share stream",e),e}},ce="undefined"!=typeof navigator&&void 0!==navigator.mediaDevices?lZ(()=>rG(rT(navigator.mediaDevices.enumerateDevices()),lQ()).pipe(rD(1)))():void 0,ct=e=>{e.active&&(e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)}),"function"==typeof e.release&&e.release())};class ci{constructor(e,t,i){this.call=e,this.state=t,this.trackType=i,this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.removeSubscriptions=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},this.logger=os([`${S[i].toLowerCase()} manager`]),ce&&!oe()&&(this.trackType===S.AUDIO||this.trackType===S.VIDEO)&&this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}async enable(){if("enabled"!==this.state.status){this.enablePromise=this.unmuteStream();try{await this.enablePromise,this.state.setStatus("enabled"),this.enablePromise=void 0}catch(e){throw this.enablePromise=void 0,e}}}async disable(e=!1){if(this.state.prevStatus=this.state.status,!e&&"disabled"===this.state.status)return;let t=e||"stop-tracks"===this.state.disableMode;this.disablePromise=this.muteStream(t);try{await this.disablePromise,this.state.setStatus("disabled"),this.disablePromise=void 0}catch(e){throw this.disablePromise=void 0,e}}async resume(){"enabled"===this.state.prevStatus&&"disabled"===this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.status?this.disable():this.enable()}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(oe())throw Error("This method is not supported in React Native");e!==this.state.selectedDevice&&(this.state.setDevice(e),await this.applySettingsToStream())}async applySettingsToStream(){"enabled"===this.state.status&&(await this.muteStream(),await this.unmuteStream())}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(e=!0){this.state.mediaStream&&(this.logger("debug",`${e?"Stopping":"Disabling"} stream`),this.call.state.callingState===O.JOINED&&await this.stopPublishStream(e),this.muteLocalStream(e),this.getTracks().every(e=>"ended"===e.readyState)&&(this.state.mediaStream&&"function"==typeof this.state.mediaStream.release&&this.state.mediaStream.release(),this.state.setMediaStream(void 0)))}muteTracks(){this.getTracks().forEach(e=>{e.enabled&&(e.enabled=!1)})}unmuteTracks(){this.getTracks().forEach(e=>{e.enabled||(e.enabled=!0)})}stopTracks(){this.getTracks().forEach(e=>{"live"===e.readyState&&e.stop()})}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.muteTracks())}async unmuteStream(){let e;if(this.logger("debug","Starting stream"),this.state.mediaStream&&this.getTracks().every(e=>"live"===e.readyState))e=this.state.mediaStream,this.unmuteTracks();else{let t={...this.state.defaultConstraints,deviceId:this.state.selectedDevice};e=await this.getStream(t)}this.call.state.callingState===O.JOINED&&await this.publishStream(e),this.state.mediaStream!==e&&(this.state.setMediaStream(e),this.getTracks().forEach(e=>{e.addEventListener("ended",async()=>{this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise,"enabled"===this.state.status&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout(()=>{this.isTrackStoppedDueToTrackEnd=!1},2e3),await this.disable())})}))}get mediaDeviceKind(){return this.trackType===S.AUDIO?"audioinput":this.trackType===S.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(rN([ce.pipe(rx(function(e,t){var i,n=!1;e.subscribe(r_(t,function(e){var r=i;i=e,n&&t.next([r,e]),n=!0}))})),this.state.selectedDevice$]).subscribe(async([[e,t],i])=>{if(!i)return;this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise;let n=!1,r=!1,a=this.findDeviceInList(t,i),s=this.findDeviceInList(e,i);!a&&s?n=!0:a&&s&&a.deviceId===s.deviceId&&a.groupId!==s.groupId&&(r=!0),n&&(await this.disable(),this.select(void 0)),r&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}))}findDeviceInList(e,t){return e.find(e=>e.deviceId===t&&e.kind===this.mediaDeviceKind)}}class cn{constructor(e="stop-tracks",t){this.disableMode=e,this.permissionName=t,this.statusSubject=new rj(void 0),this.mediaStreamSubject=new rj(void 0),this.selectedDeviceSubject=new rj(void 0),this.defaultConstraintsSubject=new rj(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(rM()),this.status$=this.statusSubject.asObservable().pipe(rM()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=new n9(e=>{let t;let i=()=>e.next(!0),n=!!navigator?.permissions?.query;if(oe()||!this.permissionName||!n)return os(["devices"])("warn","Permissions can't be queried. Assuming granted."),i();let r=()=>e.next(lq()?"denied"!==t.state:"granted"===t.state);return navigator.permissions.query({name:this.permissionName}).then(e=>{(t=e).addEventListener("change",r),r()}).catch(()=>{i()}),()=>{t?.removeEventListener("change",r)}}).pipe(rD(1)),this.getCurrentValue=oE,this.setCurrentValue=oT}get status(){return this.getCurrentValue(this.status$)}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get mediaStream(){return this.getCurrentValue(this.mediaStream$)}setStatus(e){this.setCurrentValue(this.statusSubject,e)}setMediaStream(e){this.setCurrentValue(this.mediaStreamSubject,e),e&&this.setDevice(this.getDeviceIdFromStream(e))}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}get defaultConstraints(){return this.getCurrentValue(this.defaultConstraints$)}setDefaultConstraints(e){this.setCurrentValue(this.defaultConstraintsSubject,e)}}class cr extends cn{constructor(){super("stop-tracks","camera"),this.directionSubject=new rj(void 0),this.direction$=this.directionSubject.asObservable().pipe(rM())}get direction(){return this.getCurrentValue(this.direction$)}setDirection(e){this.setCurrentValue(this.directionSubject,e)}setMediaStream(e){if(super.setMediaStream(e),e){let t=oe()?this.direction:e.getVideoTracks()[0]?.getSettings().facingMode==="environment"?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){return e.getVideoTracks()[0]?.getSettings().deviceId}}class ca extends ci{constructor(e){super(e,new cr,S.VIDEO),this.targetResolution={width:1280,height:720}}async selectDirection(e){this.state.setDirection(e),this.state.setDevice(void 0),await this.applySettingsToStream()}async flip(){let e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,this.enablePromise)try{await this.enablePromise}catch(e){this.logger("warn","could not apply target resolution",e)}if("enabled"===this.state.status){let{width:e,height:t}=this.state.mediaStream.getVideoTracks()[0]?.getSettings();(e!==this.targetResolution.width||t!==this.targetResolution.height)&&(await this.applySettingsToStream(),this.logger("debug",`${e}x${t} target resolution applied to media stream`))}}setPreferredCodec(e){this.preferredCodec=e}getDevices(){return l4()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&(e.facingMode="front"===this.state.direction?"user":"environment"),l7(e)}publishStream(e){return this.call.publishVideoStream(e,{preferredCodec:this.preferredCodec})}stopPublishStream(e){return this.call.stopPublish(S.VIDEO,e)}}class cs extends cn{constructor(){super("disable-tracks","microphone"),this.speakingWhileMutedSubject=new rj(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(rM())}get speakingWhileMuted(){return this.getCurrentValue(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){this.setCurrentValue(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){return e.getAudioTracks()[0]?.getSettings().deviceId}}let co=(e,t,i={})=>{let{detectionFrequencyInMs:n=500,audioLevelThreshold:r=150,fftSize:a=128,destroyStreamOnStop:s=!0}=i,o=new AudioContext,l=o.createAnalyser();l.fftSize=a;let c=o.createMediaStreamSource(e);c.connect(l);let u=setInterval(()=>{let i=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(i);let n=i.some(e=>e>=r),a=i.reduce((e,t)=>e+t,0)/i.length;e.getAudioTracks()[0]?.enabled?t({isSoundDetected:n,audioLevel:a>r?100:Math.round(a/r*100)}):t({isSoundDetected:!1,audioLevel:0})},n);return async function(){clearInterval(u),c.disconnect(),l.disconnect(),await o.close(),s&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})}},cl=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class cc{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});this.pc1.addEventListener("icecandidate",async e=>{await this.pc2.addIceCandidate(e.candidate)}),this.pc2.addEventListener("icecandidate",async e=>{await this.pc1.addIceCandidate(e.candidate)}),e.getTracks().forEach(t=>this.pc1.addTrack(t,e));let t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);let i=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(i),await this.pc2.setLocalDescription(i),e.getAudioTracks().forEach(e=>e.enabled=!1)}catch(e){console.error("Error connecting and negotiating between PeerConnections:",e)}}stop(){this.pc1.close(),this.pc2.close(),this.intervalId&&clearInterval(this.intervalId)}onSpeakingDetectedStateChange(e){return this.intervalId=setInterval(async()=>{let t=cl(await this.pc1.getStats()).find(e=>"media-source"===e.type&&"audio"===e.kind);if(t){let{audioLevel:i}=t;i&&(i>=.2?e({isSoundDetected:!0,audioLevel:i}):e({isSoundDetected:!1,audioLevel:0}))}},1e3),()=>{clearInterval(this.intervalId)}}}class cu extends ci{constructor(e){super(e,new cs,S.AUDIO),rN([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]).subscribe(async([e,t,i,n])=>{if(e!==O.JOINED){e===O.LEFT&&await this.stopSpeakingWhileMutedDetection();return}t.includes(r2.SEND_AUDIO)&&"disabled"===n?await this.startSpeakingWhileMutedDetection(i):await this.stopSpeakingWhileMutedDetection()})}getDevices(){return l3()}getStream(e){return l8(e)}publishStream(e){return this.call.publishAudioStream(e)}stopPublishStream(e){return this.call.stopPublish(S.AUDIO,e)}async startSpeakingWhileMutedDetection(e){if(await this.stopSpeakingWhileMutedDetection(),oe()){this.rnSpeechDetector=new cc,await this.rnSpeechDetector.start();let e=this.rnSpeechDetector?.onSpeakingDetectedStateChange(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)});this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector?.stop(),this.rnSpeechDetector=void 0}}else{let t=await this.getStream({deviceId:e});this.soundDetectorCleanup=co(t,e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)})}}async stopSpeakingWhileMutedDetection(){if(this.soundDetectorCleanup){this.state.setSpeakingWhileMuted(!1);try{await this.soundDetectorCleanup()}finally{this.soundDetectorCleanup=void 0}}}}class cd extends cn{constructor(){super(...arguments),this.audioEnabledSubject=new rj(!0),this.settingsSubject=new rj(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(rM()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{let[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return this.getCurrentValue(this.audioEnabled$)}setAudioEnabled(e){this.setCurrentValue(this.audioEnabledSubject,e)}get settings(){return this.getCurrentValue(this.settings$)}setSettings(e){this.setCurrentValue(this.settingsSubject,e)}}class cp extends ci{constructor(e){super(e,new cd,S.SCREEN_SHARE)}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(S.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(S.SCREEN_SHARE_AUDIO,!0)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=rI(e);return rT(e,i)}([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),l9(e)}publishStream(e){return this.call.publishScreenShareStream(e,{screenShareSettings:this.state.settings})}async stopPublishStream(e){await this.call.stopPublish(S.SCREEN_SHARE,e),await this.call.stopPublish(S.SCREEN_SHARE_AUDIO,e)}async select(e){throw Error("This method is not supported in for Screen Share")}}class ch{constructor(){this.selectedDeviceSubject=new rj(""),this.volumeSubject=new rj(1),this.isDeviceSelectionSupported=lJ(),this.getCurrentValue=oE,this.setCurrentValue=oT,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(rM()),this.volume$=this.volumeSubject.asObservable().pipe(rM())}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get volume(){return this.getCurrentValue(this.volume$)}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}setVolume(e){this.setCurrentValue(this.volumeSubject,e)}}class cf{constructor(){this.state=new ch,this.subscriptions=[],this.removeSubscriptions=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},ce&&!oe()&&this.subscriptions.push(rN([ce,this.state.selectedDevice$]).subscribe(([e,t])=>{t&&(e.find(e=>e.deviceId===t&&"audiooutput"===e.kind)||this.select(""))}))}listDevices(){return l6()}select(e){if(oe())throw Error("This feature is not supported in React Native");this.state.setDevice(e)}setVolume(e){if(oe())throw Error("This feature is not supported in React Native");if(e&&(e<0||e>1))throw Error("Volume must be between 0 and 1");this.state.setVolume(e)}}class cm{constructor({type:e,id:t,streamClient:i,members:n,ownCapabilities:r,sortParticipantsBy:a,clientStore:s,ringing:o=!1,watching:l=!1}){var c;this.state=new oY,this.dynascaleManager=new lB(this),this.permissionsContext=new lV,this.dispatcher=new od,this.trackSubscriptionsSubject=new rj({type:A.MEDIUM,data:[]}),this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.on=(e,t)=>{if(ou(e))return this.dispatcher.on(e,t);let i=this.streamClient.on(e,e=>{e.call_cid&&e.call_cid===this.cid&&t(e)});return this.streamClientEventHandlers.set(t,i),()=>{this.off(e,t)}},this.off=(e,t)=>{if(ou(e))return this.dispatcher.off(e,t);let i=this.streamClientEventHandlers.get(t);i&&i()},this.leave=async({reject:e=!1}={})=>{let t=this.state.callingState;if(t===O.LEFT)throw Error("Cannot leave call that has already been left.");if(t===O.JOINING&&await this.assertCallJoined(),this.ringing){let i=this.state.remoteParticipants.length>0;this.isCreatedByMe&&!i?await this.reject():e&&t===O.RINGING&&await this.reject()}this.statsReporter?.stop(),this.statsReporter=void 0,this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close(),this.publisher=void 0,this.sfuClient?.close(),this.sfuClient=void 0,this.dispatcher.offAll(),this.state.setCallingState(O.LEFT),this.leaveCallHooks.forEach(e=>e()),this.clientStore.unregisterCall(this),this.camera.removeSubscriptions(),this.microphone.removeSubscriptions(),this.screenShare.removeSubscriptions(),this.speaker.removeSubscriptions();let i=[];this.camera.stopOnLeave&&i.push(this.camera.disable(!0)),this.microphone.stopOnLeave&&i.push(this.microphone.disable(!0)),this.screenShare.stopOnLeave&&i.push(this.screenShare.disable(!0)),await Promise.all(i)},this.get=async e=>{let t=await this.streamClient.get(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.getOrCreate=async e=>{let t=await this.streamClient.post(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.create=async e=>this.getOrCreate(e),this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async()=>this.streamClient.post(`${this.streamClientBasePath}/reject`),this.join=async e=>{let t,i,n;let r=this.state.callingState;if([O.JOINED,O.JOINING].includes(r))throw this.logger("warn","Join method called twice, you should only call this once"),Error("Illegal State: Already joined.");if(r===O.LEFT)throw Error("Illegal State: Cannot join already left call. Create a new Call instance to join a call.");let a=r===O.MIGRATING,s=r===O.RECONNECTING;this.state.setCallingState(O.JOINING),this.logger("debug","Starting join flow"),e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.ringing&&!this.isCreatedByMe&&await this.accept();try{if(this.sfuClient?.isFastReconnecting)n=this.publisher?.connectionConfiguration,t=this.sfuClient.sfuServer,i=this.sfuClient.token;else{let r=await lO(this.streamClient,this.type,this.id,e);this.state.updateFromCallResponse(r.metadata),this.state.setMembers(r.members),this.state.setOwnCapabilities(r.ownCapabilities),n=r.connectionConfig,t=r.sfuServer,i=r.token}this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this))}catch(e){throw this.state.setCallingState(r),e}let o=this.sfuClient,l=this.sfuClient=new ll({dispatcher:this.dispatcher,sfuServer:t,token:i,sessionId:o?.sessionId}),c=async(i="full")=>{let n=this.state.callingState;if(n===O.MIGRATING||n===O.RECONNECTING)return;this.reconnectAttempts++,this.state.setCallingState("migrate"===i?O.MIGRATING:O.RECONNECTING),"migrate"===i?(this.logger("debug",`[Migration]: migrating call ${this.cid} away from ${t.edge_name}`),l.isMigratingAway=!0):this.logger("debug",`[Rejoin]: ${i} rejoin call ${this.cid} (${this.reconnectAttempts})...`);let r=this.state.localParticipant;if("fast"===i?l.close(ll.ERROR_CONNECTION_BROKEN,"js-client: attempting fast reconnect"):"full"===i&&(await lt(lr(this.reconnectAttempts)),this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close({stopTracks:!1}),this.publisher=void 0,this.statsReporter?.stop(),this.statsReporter=void 0,l.close(ll.NORMAL_CLOSURE,"js-client: attempting full reconnect")),await this.join({...e,..."migrate"===i&&{migrating_from:t.edge_name}}),"migrate"===i&&l.close(ll.NORMAL_CLOSURE,"js-client: attempting migration"),this.logger("info",`[Rejoin]: Attempt ${this.reconnectAttempts} successful!`),r&&"full"===i){let e;let{audioStream:t,videoStream:i,screenShareStream:n,screenShareAudioStream:a}=r;(n||a)&&(e=new MediaStream,n?.getVideoTracks().forEach(t=>{e?.addTrack(t)}),a?.getAudioTracks().forEach(t=>{e?.addTrack(t)})),t&&await this.publishAudioStream(t),i&&await this.publishVideoStream(i,{preferredCodec:this.camera.preferredCodec}),e&&await this.publishScreenShareStream(e),this.logger("info",`[Rejoin]: State restored. Attempt: ${this.reconnectAttempts}`)}};l.signalReady.then(()=>{let e=this.dispatcher.on("goAway",e=>{let{reason:t}=e;this.logger("info",`[Migration]: Going away from SFU... Reason: ${T[t]}`),c("migrate").catch(e=>{this.logger("warn","[Migration]: Failed to migrate to another SFU.",e)})});l.signalWs.addEventListener("close",t=>{if(e(),t.code===ll.NORMAL_CLOSURE||t.code===ln.WS_POLICY_VIOLATION)return;let i=t.code===ln.WS_CLOSED_ABRUPTLY&&l.isMigratingAway,n=t.code===ln.WS_CLOSED_ABRUPTLY&&l.isFastReconnecting;if(!i&&!n&&t.code!==ll.ERROR_CONNECTION_BROKEN){if(this.reconnectAttempts<this.maxReconnectAttempts){l.isFastReconnecting=0===this.reconnectAttempts;let e=l.isFastReconnecting?"fast":"full";c(e).catch(t=>{this.logger("error",`[Rejoin]: ${e} rejoin failed for ${this.reconnectAttempts} times. Giving up.`,t),this.state.setCallingState(O.RECONNECTING_FAILED)})}else this.logger("error","[Rejoin]: Reconnect attempts exceeded. Giving up..."),this.state.setCallingState(O.RECONNECTING_FAILED)}})});let u=this.streamClient.on("connection.changed",async e=>{if("connection.changed"!==e.type||!e.online)return;u();let t=this.state.callingState;if(!(t===O.OFFLINE||t===O.RECONNECTING_FAILED))return;this.logger("info","[Rejoin]: Going online...");let i=!0;do{try{l.isFastReconnecting=i,await c(i?"fast":"full");return}catch(e){this.logger("error",`[Rejoin][Network]: Rejoin failed for attempt ${this.reconnectAttempts}`,e)}await lt(lr(this.reconnectAttempts)),i=!1}while(this.reconnectAttempts<this.maxReconnectAttempts);this.logger("error","[Rejoin][Network]: Rejoin failed. Giving up."),this.state.setCallingState(O.RECONNECTING_FAILED)}),d=this.streamClient.on("connection.changed",e=>{"connection.changed"===e.type&&(e.online||(d(),this.state.setCallingState(O.OFFLINE)))});this.leaveCallHooks.add(()=>{u(),d()}),this.subscriber||(this.subscriber=new o9({sfuClient:l,dispatcher:this.dispatcher,state:this.state,connectionConfig:n}));let p=this.state.settings?.audio,h=!!p?.opus_dtx_enabled,f=!!p?.redundant_coding_enabled;this.publisher||(this.publisher=new o8({sfuClient:l,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,isDtxEnabled:h,isRedEnabled:f})),this.statsReporter||(this.statsReporter=lj({subscriber:this.subscriber,publisher:this.publisher,state:this.state}));try{l.signalReady.catch(e=>this.logger("error","Signal ready failed",e)).then(()=>ol("recvonly")).then(t=>{let i=oE(this.trackSubscriptionsSubject),n=a?{fromSfuId:e?.migrating_from||"",subscriptions:i.data||[],announcedTracks:this.publisher?.getCurrentTrackInfos()||[]}:void 0;return l.join({subscriberSdp:t||"",clientDetails:oy(),migration:n,fastReconnect:o?.isFastReconnecting??!1})});let{callState:t,reconnected:i}=await this.waitForJoinResponse();if(s&&this.logger("debug","[Rejoin] fast reconnected:",i),a)await this.subscriber.migrateTo(l,n),await this.publisher.migrateTo(l,n);else if(s){if(i)this.subscriber.setSfuClient(l),this.publisher.setSfuClient(l),await this.publisher.restartIce();else if(o?.isFastReconnecting)return await c("full").catch(e=>{this.logger("error","[Rejoin]: Rejoin failed forced full rejoin.",e)})}let r=t?.participants||[],u=t?.participantCount,d=t?.startedAt?at.toDate(t.startedAt):new Date,p=t?.pins??[];this.state.setParticipants(()=>{let e=this.state.getParticipantLookupBySessionId();return r.map(t=>{let i=e[t.sessionId];return Object.assign(t,i,{isLocalParticipant:t.sessionId===l.sessionId,viewportVisibilityState:i?.viewportVisibilityState??{videoTrack:P.UNKNOWN,screenShareTrack:P.UNKNOWN}})})}),this.state.setParticipantCount(u?.total||0),this.state.setAnonymousParticipantCount(u?.anonymous||0),this.state.setStartedAt(d),this.state.setServerSidePins(p),this.reconnectAttempts=0,this.state.setCallingState(O.JOINED);try{await this.initCamera({setStatus:!0}),await this.initMic({setStatus:!0})}catch(e){this.logger("warn","Camera and/or mic init failed during join call",e)}let{remoteParticipants:h}=this.state;h.length>0&&this.updateSubscriptions(h,A.FAST),this.logger("info",`Joined call ${this.cid}`)}catch(e){if(this.reconnectAttempts<this.maxReconnectAttempts)this.logger("error",`[Rejoin]: Rejoin ${this.reconnectAttempts} failed.`,e),await c(),this.logger("info",`[Rejoin]: Rejoin ${this.reconnectAttempts} successful!`);else throw this.logger("error",`[Rejoin]: Rejoin failed for ${this.reconnectAttempts} times. Giving up.`),this.state.setCallingState(O.RECONNECTING_FAILED),Error("Join failed")}},this.waitForJoinResponse=(e=5e3)=>new Promise((t,i)=>{let n=this.on("joinResponse",e=>{clearTimeout(r),n(),t(e)}),r=setTimeout(()=>{n(),i(Error('Waiting for "joinResponse" has timed out'))},e)}),this.publishVideoStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish video before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track to publish in the stream.");return}await this.publisher.publishStream(e,i,S.VIDEO,t)},this.publishAudioStream=async e=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish audio before join is completed"),Error("Call not joined yet.");let[t]=e.getAudioTracks();if(!t){this.logger("error","There is no audio track in the stream to publish");return}await this.publisher.publishStream(e,t,S.AUDIO)},this.publishScreenShareStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish screen share before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track in the screen share stream to publish");return}await this.publisher.publishStream(e,i,S.SCREEN_SHARE,t);let[n]=e.getAudioTracks();n&&await this.publisher.publishStream(e,n,S.SCREEN_SHARE_AUDIO,t)},this.stopPublish=async(e,t=!0)=>{this.logger("info",`stopPublish ${S[e]}, stop tracks: ${t}`),await this.publisher?.unpublishStream(e,t)},this.updateSubscriptionsPartial=(e,t,i=A.SLOW)=>{"video"===e?(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'videoTrack'`),e="videoTrack"):"screen"===e&&(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'screenShareTrack'`),e="screenShareTrack");let n=this.state.updateParticipants(Object.entries(t).reduce((t,[i,n])=>{n.dimension?.height&&(n.dimension.height=Math.ceil(n.dimension.height)),n.dimension?.width&&(n.dimension.width=Math.ceil(n.dimension.width));let r="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return r&&(t[i]={[r]:n.dimension}),t},{}));n&&this.updateSubscriptions(n,i)},this.updateSubscriptions=(e,t=A.SLOW)=>{let i=[];for(let t of e)!t.isLocalParticipant&&(t.videoDimension&&t.publishedTracks.includes(S.VIDEO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:S.VIDEO,dimension:t.videoDimension}),t.screenShareDimension&&t.publishedTracks.includes(S.SCREEN_SHARE)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:S.SCREEN_SHARE,dimension:t.screenShareDimension}),t.publishedTracks.includes(S.SCREEN_SHARE_AUDIO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:S.SCREEN_SHARE_AUDIO}));this.trackSubscriptionsSubject.next({type:t,data:i})},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.updatePublishQuality=async e=>this.publisher?.updateVideoPublishQuality(e),this.assertCallJoined=()=>new Promise(e=>{var t;this.state.callingState$.pipe(rq(e=>e!==O.JOINED,!0),(t=e=>e===O.JOINED,rx(function(e,i){var n=0;e.subscribe(r_(i,function(e){return t.call(void 0,e,n++)&&i.next(e)}))}))).subscribe(()=>e())}),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{let t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{let t=ok(e);if(!t)return;let i=[];for(let e of this.state.remoteParticipants)e.publishedTracks.includes(t)&&i.push(e.userId);return this.muteUser(i,e)},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.requestPermissions=async e=>{let{permissions:t}=e;if(!t.every(e=>this.permissionsContext.canRequest(e)))throw Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async(e={},t)=>this.streamClient.post(`${this.streamClientBasePath}/go_live`,e,t),this.stopLive=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_live`,{}),this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.update=async e=>{let t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:i,members:n,own_capabilities:r}=t;return this.state.updateFromCallResponse(i),this.state.setMembers(n),this.state.setOwnCapabilities(r),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{clearTimeout(this.dropTimeout),this.leaveCallHooks.add(oC(this.state.settings$,e=>{if(!e||this.state.callingState!==O.RINGING)return;let t=e.ring.auto_cancel_timeout_ms;t<=0||(clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout(()=>{this.leave().catch(e=>{this.logger("error","Failed to drop call",e)})},t))}))},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=()=>{this.initCamera({setStatus:!1}),this.initMic({setStatus:!1})},this.trackElementVisibility=(e,t,i)=>this.dynascaleManager.trackElementVisibility(e,t,i),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n=this.dynascaleManager.bindVideoElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindAudioElement=(e,t,i="audioTrack")=>{let n=this.dynascaleManager.bindAudioElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindCallThumbnailElement=(e,t={})=>{let i=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},n=oC(this.state.thumbnails$,t=>{if(!t)return;e.addEventListener("error",i);let n=new URL(t.image_url);n.searchParams.set("w",String(e.clientWidth)),n.searchParams.set("h",String(e.clientHeight)),e.src=n.toString()});return()=>{n(),e.removeEventListener("error",i)}},this.type=e,this.id=t,this.cid=`${e}:${t}`,this.ringingSubject=new rj(o),this.watching=l,this.streamClient=i,this.clientStore=s,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=os(["Call"]);let u=lH.get(e),d=a||u.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(n||[]),this.state.setOwnCapabilities(r||[]),this.state.setCallingState(o?O.RINGING:O.IDLE),this.on("all",e=>{this.state.updateFromEvent(e)}),this.leaveCallHooks.add(lP(this,this.state,this.dispatcher)),this.registerEffects(),this.leaveCallHooks.add(oC(this.trackSubscriptionsSubject.pipe((c=e=>(function(e,t,i){void 0===e&&(e=0),void 0===i&&(i=rz);var n=-1;return null!=t&&(rA(t)?i=t:n=t),new n9(function(t){var r,a=(r=e)instanceof Date&&!isNaN(r)?+e-i.now():e;a<0&&(a=0);var s=0;return i.schedule(function(){t.closed||(t.next(s++),0<=n?this.schedule(void 0,n):t.complete())},a)})})(e.type),rx(function(e,t){var i=!1,n=null,r=null,a=function(){if(null==r||r.unsubscribe(),r=null,i){i=!1;var e=n;n=null,t.next(e)}};e.subscribe(r_(t,function(e){null==r||r.unsubscribe(),i=!0,n=e,r=r_(t,a,nG),rv(c(e)).subscribe(r)},function(){a(),t.complete()},void 0,function(){n=r=null}))})),rC(e=>e.data)),e=>this.sfuClient?.updateSubscriptions(e))),this.camera=new ca(this),this.microphone=new cu(this),this.speaker=new cf,this.screenShare=new cp(this)}registerEffects(){this.leaveCallHooks.add(oC(this.state.settings$,e=>{e&&this.permissionsContext.setCallSettings(e)})),this.leaveCallHooks.add(oC(this.state.ownCapabilities$,e=>{if(this.permissionsContext.setPermissions(e),this.publisher)for(let[e,t]of Object.entries({[r2.SEND_AUDIO]:S.AUDIO,[r2.SEND_VIDEO]:S.VIDEO,[r2.SCREENSHARE]:S.SCREEN_SHARE}))!this.permissionsContext.hasPermission(e)&&(this.publisher.isPublishing(t)||this.publisher.isLive(t))&&this.stopPublish(t).catch(e=>{this.logger("error",`Error stopping publish ${t}`,e)}).then(()=>{t===S.VIDEO&&"enabled"===this.camera.state.status&&this.camera.disable().catch(e=>this.logger("error","Error disabling camera after permission revoked",e)),t===S.AUDIO&&"enabled"===this.microphone.state.status&&this.microphone.disable().catch(e=>this.logger("error","Error disabling microphone after permission revoked",e))})})),this.leaveCallHooks.add(oC(this.state.blockedUserIds$,async e=>{if(!e||0===e.length)return;let t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave())})),this.leaveCallHooks.add(oC(this.state.callingState$,e=>{this.ringing&&(e===O.JOINED||e===O.JOINING||e===O.LEFT)&&(clearTimeout(this.dropTimeout),this.dropTimeout=void 0)})),this.leaveCallHooks.add(oC(this.ringingSubject,e=>{e&&(this.scheduleAutoDrop(),this.state.callingState===O.IDLE&&this.state.setCallingState(O.RINGING),this.leaveCallHooks.add(lA(this)))}))}get ringing(){return oE(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}async initCamera(e){if(this.camera.enablePromise&&await this.camera.enablePromise,this.camera.disablePromise&&await this.camera.disablePromise,this.state.localParticipant?.videoStream||!this.permissionsContext.hasPermission("send-video"))return;if(!this.camera.state.direction&&!this.camera.state.selectedDevice){let e="front",t=this.state.settings?.video.camera_facing;t&&(e="front"===t?"front":"back"),this.camera.state.setDirection(e)}let t=this.state.settings?.video.target_resolution;t&&await this.camera.selectTargetResolution(t),e.setStatus&&("enabled"===this.camera.state.status&&this.camera.state.mediaStream&&!this.publisher?.isPublishing(S.VIDEO)&&await this.publishVideoStream(this.camera.state.mediaStream,{preferredCodec:this.camera.preferredCodec}),void 0===this.camera.state.status&&this.state.settings?.video.camera_default_on&&await this.camera.enable())}async initMic(e){this.microphone.enablePromise&&await this.microphone.enablePromise,this.microphone.disablePromise&&await this.microphone.disablePromise,!this.state.localParticipant?.audioStream&&this.permissionsContext.hasPermission("send-audio")&&e.setStatus&&("enabled"===this.microphone.state.status&&this.microphone.state.mediaStream&&!this.publisher?.isPublishing(S.AUDIO)&&await this.publishAudioStream(this.microphone.state.mediaStream),void 0===this.microphone.state.status&&this.state.settings?.audio.mic_default_on&&await this.microphone.enable())}}class cg{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=ls()}}let cy=async(e,t)=>{for(let i=0;i<3;i++){try{await nf.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch(e){await lt((i+1)*3e3);continue}break}};function cv(e){let{client:t}=e;return{ready_state:e.ws?.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:"browser",client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?navigator?.onLine:null,user_agent:"undefined"!=typeof navigator?navigator?.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}let cb=e=>void 0!==e.code,cw=e=>void 0!==e.error;class cx{constructor(e){this._log=(e,t={},i="info")=>{this.client.logger(i,"connection:"+e,{...t})},this.setClient=e=>{this.client=e},this._buildUrl=()=>{let e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"!==e.type||(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;let t=this.client.user;if(!t){this.client.logger("error","User not set, can't connect to WS");return}let i=this.client._getToken();if(!i){this.client.logger("error","Token not set, can't connect authenticate");return}let n={token:i,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}};this.authenticationSent=!0,this.ws?.send(JSON.stringify(n)),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});let i="string"==typeof t.data?JSON.parse(t.data):null;if(!this.isResolved&&i&&"connection.error"===i.type&&(this.isResolved=!0,i.error)){this.rejectPromise?.(this._errorFromWSEvent(i,!1));return}if(this.lastEvent=new Date,i&&("health.check"===i.type||"connection.ok"===i.type)&&this.scheduleNextPing(),i&&"connection.ok"===i.type&&(this.resolvePromise?.(i),this._setHealth(!0)),i&&"connection.error"===i.type&&i.error){let{code:e}=i.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==ln.TOKEN_EXPIRED||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}i&&this.client.dispatchEvent(i),this.scheduleConnectionCheck()},this.onclose=(e,t)=>{if(this.wsID===e){if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===ln.WS_CLOSED_SUCCESS){let e=Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectPromise?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()}},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=(e,t=!1)=>{if(e!==this.isHealthy){if(this.isHealthy=e,this.isHealthy||t){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(e,t=!0)=>{let i,n,r;cb(e)&&(i=e.code,n="unknown",r=e.reason),cw(e)&&(i=e.error.code,n=e.error.StatusCode,r=e.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${i}`,{event:e},"warn");let a=Error(`WS failed with code ${i} and reason - ${r}`);return a.code=i,a.StatusCode=n,a.isWSFailure=t,a},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{let e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch(e){}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{let e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.authenticationSent=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{let e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code!==ln.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){if(!e.isWSFailure)throw Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(i){if(t===e)throw Error(JSON.stringify({code:i.code,StatusCode:i.StatusCode,message:i.message,isWSFailure:i.isWSFailure}));await lt(50)}})(),(async()=>{throw await lt(e),this.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let{ws:i}=this;return i&&i.close&&i.readyState===i.OPEN?(t=new Promise(t=>{let n=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};i.onclose=n,setTimeout(n,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),i.close(ln.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=ls(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch(e){}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();let t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new(rZ())(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);let i=await this.connectionOpen;if(this.isConnecting=!1,i)return this.connectionID=i.connection_id,this.client.resolveConnectionId?.(this.connectionID),this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(cy("ws_success_after_failure",cv(this)),this.client.insightMetrics.wsConsecutiveFailures=0),i}catch(e){if(this.isConnecting=!1,this._log("_connect() - Error - ",e),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;let t={...function(e){let t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(i=>{t[i]=Object.getOwnPropertyDescriptor(e,i)})}catch(e){return{error:"failed to serialize the error"}}return t}(e),...cv(this)};cy?.("ws_fatal",t)}throw this.client.rejectConnectionId?.(),e}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=lr(this.consecutiveFailures)),await lt(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===ln.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.removeAllListeners(),this?.ws?.close()}catch(e){}}}function c_(e){return"string"==typeof e}let cS=e=>(0,r1.JQ)(new Uint8Array(function(e,t){let i=[];if(c_(e)&&t&&c_(e)){for(let n=0,r=e.length;n<r;n++)if(e.charAt(n)){let r=t(e.charAt(n),n,e);i[n]=r}}else if(!c_(e)&&!(t&&c_(e))){for(let n=0,r=e.length;n<r;n++)if(n in e){let r=t(e[n],n,e);i[n]=r}}return i}(e,e=>e.charCodeAt(0)))),ck=e=>{let t={},i=String.fromCharCode,n=e.length,r,a=0,s,o=0,l,c="";for(r=0;r<64;r++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r)]=r;for(s=0;s<n;s++)for(a=(a<<6)+t[e.charAt(s)],o+=6;o>=8;)((l=a>>>(o-=8)&255)||s<n-2)&&(c+=i(l));return c};function cR(e,t,i={},n={}){if("string"!=typeof t)throw TypeError("userId should be a string");let r={user_id:t,...i};if(null==r0()||null==r0().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let a=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return r.iat&&(a.noTimestamp=!1),r0().sign(r,e,a)}function cE(e,t={}){let i=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return r0().sign({server:!0},e,i)}class cT{constructor(e){this.setTokenOrProvider=async(e,t,i)=>{this.validateToken(e,t,i),this.user=t,li(e)&&(this.tokenProvider=e,this.type="provider"),"string"==typeof e&&(this.token=e,this.type="static"),!e&&this.user&&this.secret&&(this.token=cR(this.secret,t.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.user=void 0,this.loadTokenPromise=null},this.validateToken=(e,t,i)=>{if(!t||!i||e){if(!this.secret&&!e)throw Error("UserWithId token can not be empty");if(e&&"string"!=typeof e&&!li(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(i&&""===e)return;let n=function(e){let t=e.split(".");return 3!==t.length?"":JSON.parse(ck(t[1])).user_id}(e);if(null!=e&&(null==n||""===n||!i&&n!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!=typeof this.tokenProvider){try{this.token=await this.tokenProvider()}catch(e){return t(Error(`Call to tokenProvider failed with message: ${e}`))}e(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token||this.user&&!this.token)return this.token;if(this.secret)return cE(this.secret);throw Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.loadTokenPromise=null,e&&(this.secret=e),this.type="static",this.secret&&(this.token=cE(this.secret))}}let cC={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function cP(e){if(!e.code)return!1;let t=cC[`${e.code}`];return!!t&&t.retryable}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(I||(I={}));class cA{constructor(e){this._onlineStatusChanged=e=>{if(this._log(`_onlineStatusChanged() - ${e.type}`),"offline"===e.type){this._setState(I.Closed),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;return}"online"===e.type&&this.state===I.Closed&&this.connect(!0)},this._req=async(e,t,i)=>{this.cancelToken||e.close||(this.cancelToken=nf.CancelToken.source());try{let i=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...t,cancelToken:this.cancelToken?.token},params:e,publicEndpoint:!0});return this.consecutiveFailures=0,i}catch(n){if(this.consecutiveFailures+=1,i&&cP(n))return this._log("_req() - Retryable error, retrying request"),await lt(lr(this.consecutiveFailures)),this._req(e,t,i);throw n}},this._poll=async()=>{for(;this.state===I.Connected;)try{let e=await this._req({},{timeout:3e4},!0);if(e.events?.length)for(let t=0;t<e.events.length;t++)this.client.dispatchEvent(e.events[t])}catch(e){if(nf.isCancel(e)){this._log("_poll() - axios canceled request");return}if(46===e.code){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState(I.Disconnected),this.connect(!0);return}if(void 0!==e.code&&!cP(e)){this._setState(I.Closed);return}await lt(lr(this.consecutiveFailures))}},this.connect=async(e=!1)=>{if(this.state===I.Connecting){this._log("connect() - connecting already in progress",{reconnect:e},"warn");return}if(this.state===I.Connected){this._log("connect() - already connected and polling",{reconnect:e},"warn");return}this._setState(I.Connecting),this.connectionID=void 0;try{let{event:t}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},e);return this._setState(I.Connected),this.connectionID=t.connection_id,this.client.resolveConnectionId?.(),this.client.dispatchEvent(t),this._poll(),t}catch(e){throw this._setState(I.Closed),this.client.rejectConnectionId?.(),e}},this.isHealthy=()=>!!this.connectionID&&this.state===I.Connected,this.disconnect=async(e=2e3)=>{this._onlineStatusChanged,this._setState(I.Disconnected),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;let t=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:t},{timeout:e},!1),this._log("disconnect() - Closed connectionID")}catch(e){this._log("disconnect() - Failed",{err:e},"error")}},this.client=e,this.state=I.Init,this.consecutiveFailures=0,this._onlineStatusChanged}_log(e,t={},i="info"){this.client.logger(i,"WSConnectionFallback:"+e,{...t})}_setState(e){this._log(`_setState() - ${e}`),this.state===I.Connecting&&e===I.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===I.Closed||e===I.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}let cO=os(["location"]),cI="https://hint.stream-io-video.com/",cN=async(e=cI,t=2e3)=>{let i=new AbortController,n=setTimeout(()=>i.abort(),t);try{let e=(await fetch(cI,{method:"HEAD",signal:i.signal})).headers.get("x-amz-cf-pop")||"ERR";return cO("debug",`Location header: ${e}`),e.substring(0,3)}catch(e){return cO("warn",`Failed to get location hint from ${cI}`,e),"ERR"}finally{clearTimeout(n)}};class cj{constructor(e,t){this.listeners={},this.nextRequestAbortController=null,this.devToken=e=>["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",cS(JSON.stringify({user_id:e})),"devtoken"].join("."),this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{let i=await this.locationHint;return i&&"ERR"!==i?i:(this.locationHint=cN(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID||this.wsFallback?.connectionID,this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(e,t)=>{if(!e.id)throw Error('The "id" field on the user is missing');if(this.userID===e.id&&this.setUserPromise)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&this.logger("warn",'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=e.id,this.anonymous=!1;let i=this._setToken(e,t,this.anonymous);this._setUser(e);let n=this.openConnection();this.setUserPromise=Promise.all([i,n]).then(e=>e[1]);try{return await this.setUserPromise}catch(e){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),e}},this._setToken=(e,t,i)=>this.tokenManager.setTokenOrProvider(t,e,i),this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>(null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([this.wsConnection?.disconnect(e),this.wsFallback?.disconnect(e)]),Promise.resolve()),this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");return this.wsConnection?.isConnecting&&this.wsPromise?(this.logger("info","client:openConnection() - connection already in progress"),this.wsPromise):(this.wsConnection?.isHealthy||this.wsFallback?.isHealthy())&&this._hasConnectionID()?(this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists"),Promise.resolve()):(this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.clientID=`${this.userID}--${ls()}`,this.wsPromise=this.connect(),this.wsPromise)},this._normalizeDate=e=>{if(e instanceof Date&&(e=e.toISOString()),""===e)throw Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),this.tokenManager.reset(),this.connectionIdPromise=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:{...e,role:"guest"}},{publicEndpoint:!0});let t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise=void 0),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.anonymous=!0,await this._setToken(e,t,this.anonymous),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter(e=>e!==t)},this._logApiRequest=(e,t,i,n)=>{this.logger("trace",`client: ${e} - Request - ${t}`,{payload:i,config:n})},this._logApiResponse=(e,t,i)=>{this.logger("trace",`client:${e} - Response - url: ${t} > status ${i.status}`,{response:i})},this._logApiError=(e,t,i)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:i})},this.doAxiosRequest=async(e,t,i,n={})=>{n.publicEndpoint||await Promise.all([this.tokenManager.tokenReady(),this.guestUserCreatePromise,this.connectionIdPromise]);let r=this._enrichAxiosOptions(n);try{let n;switch(this._logApiRequest(e,t,i,r),e){case"get":n=await this.axiosInstance.get(t,r);break;case"delete":n=await this.axiosInstance.delete(t,r);break;case"post":n=await this.axiosInstance.post(t,i,r);break;case"put":n=await this.axiosInstance.put(t,i,r);break;case"patch":n=await this.axiosInstance.patch(t,i,r);break;case"options":n=await this.axiosInstance.options(t,r);break;default:throw Error("Invalid request type")}return this._logApiResponse(e,t,n),this.consecutiveFailures=0,this.handleResponse(n)}catch(a){if(a.client_request_id=r.headers?.["x-client-request-id"],this.consecutiveFailures+=1,a.response){if(this._logApiError(e,t,a.response),a.response.data.code===ln.TOKEN_EXPIRED&&!this.tokenManager.isStatic())return this.consecutiveFailures>1&&await lt(lr(this.consecutiveFailures)),await this.tokenManager.loadToken(),await this.doAxiosRequest(e,t,i,n);return this.handleResponse(a.response)}throw this._logApiError(e,t,a),a}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,i)=>this.doAxiosRequest("put",e,t,{params:i}),this.post=(e,t,i)=>this.doAxiosRequest("post",e,t,{params:i}),this.patch=(e,t,i)=>this.doAxiosRequest("patch",e,t,{params:i}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{let t;return t=new r3(`Stream error HTTP code: ${e.status}`),e.data&&e.data.code&&((t=Error(`Stream error code ${e.data.code}: ${e.data.message}`)).code=e.data.code),t.response=e,t.status=e.status,t},this.handleResponse=e=>{let t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(e.received_at||(e.received_at=new Date),this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(let t of this.listeners.all||[])t(e);for(let t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new cx(this);try{if(this.wsFallback)return await this.wsFallback.connect();return this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(e){if(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e)&&function(e){let t="undefined"!=typeof navigator?navigator:void 0;return t?"boolean"!=typeof t.onLine||t.onLine:(e("warn","isOnline failed to access window.navigator and assume browser is online"),!0)}(this.logger))return this.logger("warn","client:connect() - WS failed, fallback to longpoll"),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new cA(this),await this.wsFallback.connect();throw e}},this._sayHi=()=>{let e=ls(),t={headers:nE.from({"x-client-request-id":e})};this.doAxiosRequest("get",this.baseURL+"/hi",null,t).catch(t=>{this.options.enableInsights&&cy("http_hi_failed",{api_key:this.key,err:t,client_request_id:e})})},this.getUserAgent=()=>this.userAgent||`stream-video-javascript-client-${this.node?"node":"browser"}-0.6.0`,this.setUserAgent=e=>{this.userAgent=e},this._isUsingServerAuth=()=>!!this.secret,this._enrichAxiosOptions=(e={params:{},headers:{},config:{}})=>{let t=e.publicEndpoint&&!this.user?void 0:this._getToken(),i=null;return null!==this.nextRequestAbortController&&(i=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":ls()}),{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...e.params},headers:{...t?{Authorization:t}:void 0,"stream-auth-type":e.publicEndpoint&&!this.user?"anonymous":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...e.headers},...i?{signal:i}:{},...e.config,...this.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this._buildWSPayload=e=>JSON.stringify({user_id:this.userID,user_details:this._user,client_request_id:e}),this.createAbortControllerForNextRequest=()=>this.nextRequestAbortController=new AbortController,this.createToken=(e,t,i,n)=>{if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");let r={};return t&&(r.exp=t),i&&(r.iat=i),n&&(r.call_cids=n),cR(this.secret,e,r,{})},this.key=e,this.secret=t?.secret;let i=t||{browser:!1};this.browser=i.browser||!1,this.node=!this.browser,this.browser&&(this.locationHint=cN(t?.locationHintUrl,t?.locationHintTimeout)),this.options={timeout:5e3,withCredentials:!1,warmUp:!1,...i},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(iR()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`),this.axiosInstance=nf.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new cT(this.secret),this.consecutiveFailures=0,this.insightMetrics=new cg,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.logger=li(i.logger)?i.logger:()=>null}}class cL{constructor(e,t){this.logLevel="warn",this.eventHandlersToUnregister=[],this.disconnectUser=async e=>{if(!this.streamClient.user&&!this.connectionPromise)return;let t=()=>this.streamClient.disconnectUser(e);this.disconnectionPromise=this.connectionPromise?this.connectionPromise.then(()=>t()):t(),this.disconnectionPromise.finally(()=>this.disconnectionPromise=void 0),await this.disconnectionPromise,this.eventHandlersToUnregister.forEach(e=>e()),this.eventHandlersToUnregister=[],this.writeableStateStore.setConnectedUser(void 0)},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new cm({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async(e={})=>{let t=await this.streamClient.post("/calls",e),i=t.calls.map(t=>{let i=new cm({streamClient:this.streamClient,id:t.call.id,type:t.call.type,members:t.members,ownCapabilities:t.own_capabilities,watching:e.watch,clientStore:this.writeableStateStore});return i.state.updateFromCallResponse(t.call),i.applyDeviceConfig(),e.watch&&this.writeableStateStore.registerCall(i),i});return{...t,calls:i}},this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,i,n,r)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:r,...null!=n?{user_id:n}:{},...null!=i?{push_provider_name:i}:{}}),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.readOnlyStateStore.calls.find(t=>t.cid===e&&t.ringing);if(!t){let[i,n]=e.split(":");t=new cm({streamClient:this.streamClient,type:i,id:n,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>{let i=()=>this.streamClient.connectAnonymousUser(e,t);return this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise.finally(()=>this.connectionPromise=void 0),this.connectionPromise};let i=on,n="warn";if("string"==typeof e?(n=t?.logLevel||n,i=t?.logger||i):(n=e.options?.logLevel||n,i=e.options?.logger||i),or(i,n),this.logger=os(["client"]),"string"==typeof e)this.streamClient=new cj(e,{persistUserOnConnectionFailure:!0,...t,logLevel:n,logger:this.logger});else{this.streamClient=new cj(e.apiKey,{persistUserOnConnectionFailure:!0,...e.options,logLevel:n,logger:this.logger});let t=of();t&&this.streamClient.setUserAgent(this.streamClient.getUserAgent()+`-video-${R[t.type].toLowerCase()}-sdk-${t.major}.${t.minor}.${t.patch}`)}if(this.writeableStateStore=new oX,this.readOnlyStateStore=new oZ(this.writeableStateStore),"string"!=typeof e){let t=e.user,i=e.token||e.tokenProvider;t&&this.connectUser(t,i)}}get state(){return this.readOnlyStateStore}async connectUser(e,t){if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);let i=()=>this.streamClient.connectUser(e,t);"guest"===e.type&&(i=async()=>this.streamClient.connectGuestUser(e)),this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise?.finally(()=>this.connectionPromise=void 0);let n=await this.connectionPromise;return n?.me&&this.writeableStateStore.setConnectedUser(n.me),this.eventHandlersToUnregister.push(this.on("connection.changed",e=>{if(e.online){let e=this.writeableStateStore.calls.filter(e=>e.watching).map(e=>e.cid);this.logger("info",`Rewatching calls after connection changed ${e.join(", ")}`),e.length>0&&this.queryCalls({watch:!0,filter_conditions:{cid:{$in:e}},sort:[{field:"cid",direction:1}]}).catch(e=>{this.logger("error","Failed to re-watch calls",e)})}})),this.eventHandlersToUnregister.push(this.on("call.created",t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("warn","Received `call.created` sent by the current user");return}this.logger("info",`New call created and registered: ${i.cid}`);let r=new cm({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore});r.state.updateFromCallResponse(i),this.writeableStateStore.registerCall(r)})),this.eventHandlersToUnregister.push(this.on("call.ring",async t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");return}let r=this.writeableStateStore.findCall(i.type,i.id);await r?.leave();let a=new cm({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore,ringing:!0});a.state.updateFromCallResponse(i),await a.get(),this.writeableStateStore.registerCall(a)})),n}async addVoipDevice(e,t,i,n){return await this.addDevice(e,t,i,n,!0)}}var cD=i(95344),cM=i(3729);let cU={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class cq{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||cU,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new cq(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new cq(this.logger,e)}}var c$=new cq;class cF{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,r]=t;for(let t=0;t<r;t++)n.apply(n,[e,...i])})}}function cK(){let e,t;let i=new Promise((i,n)=>{e=i,t=n});return i.resolve=e,i.reject=t,i}function cB(e){return null==e?"":""+e}let cV=/###/g;function cz(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(cV,"."):e}function r(){return!e||"string"==typeof e}let a="string"!=typeof t?t:t.split("."),s=0;for(;s<a.length-1;){if(r())return{};let t=n(a[s]);!e[t]&&i&&(e[t]=new i),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return r()?{}:{obj:e,k:n(a[s])}}function cW(e,t,i){let{obj:n,k:r}=cz(e,t,Object);if(void 0!==n||1===t.length){n[r]=i;return}let a=t[t.length-1],s=t.slice(0,t.length-1),o=cz(e,s,Object);for(;void 0===o.obj&&s.length;)a=`${s[s.length-1]}.${a}`,(o=cz(e,s=s.slice(0,s.length-1),Object))&&o.obj&&void 0!==o.obj[`${o.k}.${a}`]&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=i}function cH(e,t){let{obj:i,k:n}=cz(e,t);if(i)return i[n]}function cG(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var cJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function cY(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>cJ[e]):e}class cX{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}let cZ=[" ",",","?","!",";"],cQ=new cX(20);function c0(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let n=t.split(i),r=e;for(let e=0;e<n.length;){let t;if(!r||"object"!=typeof r)return;let a="";for(let s=e;s<n.length;++s)if(s!==e&&(a+=i),a+=n[s],void 0!==(t=r[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<n.length-1)continue;e+=s-e+1;break}r=t}return r}function c1(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class c2 extends cF{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],i&&(Array.isArray(i)?n.push(...i):"string"==typeof i&&a?n.push(...i.split(a)):n.push(i)));let o=cH(this.data,n);return(!o&&!t&&!i&&e.indexOf(".")>-1&&(e=n[0],t=n[1],i=n.slice(2).join(".")),o||!s||"string"!=typeof i)?o:c0(this.data&&this.data[e]&&this.data[e][t],i,a)}addResource(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=[e,t];i&&(s=s.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(s=e.split("."),n=t,t=s[1]),this.addNamespaces(t),cW(this.data,s,n),r.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let n in i)("string"==typeof i[n]||"[object Array]"===Object.prototype.toString.apply(i[n]))&&this.addResource(e,t,n,i[n],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),n=i,i=t,t=s[1]),this.addNamespaces(t);let o=cH(this.data,s)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?function e(t,i,n){for(let r in i)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof i[r]||i[r]instanceof String?n&&(t[r]=i[r]):e(t[r],i[r],n):t[r]=i[r]);return t}(o,i,r):o={...o,...i},cW(this.data,s,o),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var c3={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,n,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,i,n,r))}),t}};let c4={};class c6 extends cF{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,i){e.forEach(e=>{t[e]&&(i[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=c$.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let i=this.resolve(e,t);return i&&void 0!==i.res}extractFromKey(e,t){let i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");let n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],a=i&&e.indexOf(i)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,i){t=t||"",i=i||"";let n=cZ.filter(e=>0>t.indexOf(e)&&0>i.indexOf(e));if(0===n.length)return!0;let r=cQ.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),a=!r.test(e);if(!a){let t=e.indexOf(i);t>0&&!r.test(e.substring(0,t))&&(a=!0)}return a}(e,i,n);if(a&&!s){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};let a=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(n)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,i){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),o=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${o}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:a}let u=this.resolve(e,t),d=u&&u.res,p=u&&u.usedKey||a,h=u&&u.exactUsedKey||a,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(g&&d&&y&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(f)&&!("string"==typeof m&&"[object Array]"===f)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...t,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(r){let e="[object Array]"===f,i=e?[]:{},n=e?h:p;for(let e in d)if(Object.prototype.hasOwnProperty.call(d,e)){let a=`${n}${r}${e}`;i[e]=this.translate(a,{...t,joinArrays:!1,ns:s}),i[e]===a&&(i[e]=d[e])}d=i}}else if(g&&"string"==typeof m&&"[object Array]"===f)(d=d.join(m))&&(d=this.extendTranslation(d,e,t,i));else{let n=!1,s=!1,c=void 0!==t.count&&"string"!=typeof t.count,p=c6.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&p&&(n=!0,d=g),this.isValidLookup(d)||(s=!0,d=a);let y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,v=p&&g!==d&&this.options.updateMissing;if(s||n||v){if(this.logger.log(v?"updateKey":"missingKey",l,o,a,v?g:d),r){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let n=(e,i,n)=>{let r=p&&n!==d?n:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,i,r,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,i,r,v,t),this.emit("missingKey",e,o,i,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let i=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>i.indexOf(`${this.options.pluralSeparator}zero`)&&i.push(`${this.options.pluralSeparator}zero`),i.forEach(i=>{n([e],a+i,t[`defaultValue${i}`]||g)})}):n(e,a,g))}d=this.extendTranslation(d,e,t,u,i),s&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${o}:${a}`),(s||n)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${a}`:a,n?d:void 0):this.options.parseMissingKeyHandler(d))}return n?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,i,n,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){let s;i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let o="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){let t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,i.lng||this.language,i),o){let t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(i.nest=!1)}!i.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(i.lng=n.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];return r&&r[0]===n[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):a.translate(...n,t)},i)),i.interpolation&&this.interpolator.reset()}let s=i.postProcess||this.options.postProcess,o="string"==typeof s?[s]:s;return null!=e&&o&&o.length&&!1!==i.applyPostProcessor&&(e=c3.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t,i,n,r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let o=this.extractFromKey(e,s),l=o.key;i=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let u=void 0!==s.count&&"string"!=typeof s.count,d=u&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!c4[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(c4[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(i=>{let a;if(this.isValidLookup(t))return;r=i;let o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,i,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(i,s.count,s));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),s.ordinal&&0===e.indexOf(n)&&o.push(l+e.replace(n,this.options.pluralSeparator)),d&&o.push(l+t)),p){let i=`${l}${this.options.contextSeparator}${s.context}`;o.push(i),u&&(o.push(i+e),s.ordinal&&0===e.indexOf(n)&&o.push(i+e.replace(n,this.options.pluralSeparator)),d&&o.push(i+t))}}for(;a=o.pop();)this.isValidLookup(t)||(n=a,t=this.getResource(i,e,a,s))}))})}),{res:t,usedKey:i,exactUsedKey:n,usedLng:r,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,i=t?e.replace:e;if(t&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!t)for(let e of(i={...i},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete i[e];return i}static hasDefaultValue(e){let t="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}function c5(e){return e.charAt(0).toUpperCase()+e.slice(1)}class c8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=c$.create("languageUtils")}getScriptPartFromCode(e){if(!(e=c1(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=c1(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(e=>e.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=c5(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=c5(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=c5(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let i=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&(e.indexOf("-")>0&&0>i.indexOf("-")&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){let i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],r=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),i.forEach(e=>{0>n.indexOf(e)&&r(this.formatLanguageCode(e))}),n}}let c7=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],c9={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},ue=["v1","v2","v3"],ut=["v4"],ui={zero:0,one:1,two:2,few:3,many:4,other:5};class un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=c$.create("pluralResolver"),(!this.options.compatibilityJSON||ut.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return c7.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:c9[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(c1("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((e,t)=>ui[e]-ui[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):i.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),n=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));let r=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!ue.includes(this.options.compatibilityJSON)}}function ur(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=function(e,t,i){let n=cH(e,i);return void 0!==n?n:cH(t,i)}(e,t,i);return!a&&r&&"string"==typeof i&&void 0===(a=c0(e,i,n))&&(a=c0(t,i,n)),a}class ua{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=c$.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let t=e.interpolation;this.escape=void 0!==t.escape?t.escape:cY,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?cG(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?cG(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?cG(t.nestingPrefix):t.nestingPrefixEscaped||cG("$t("),this.nestingSuffix=t.nestingSuffix?cG(t.nestingSuffix):t.nestingSuffixEscaped||cG(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let r,a,s;let o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}let c=e=>{if(0>e.indexOf(this.formatSeparator)){let r=ur(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,i,{...n,...t,interpolationkey:e}):r}let r=e.split(this.formatSeparator),a=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(ur(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,i,{...n,...t,interpolationkey:a})};this.resetRegExp();let u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach(t=>{for(s=0;r=t.regex.exec(e);){let i=r[1].trim();if(void 0===(a=c(i))){if("function"==typeof u){let t=u(e,r,n);a="string"==typeof t?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,i))a="";else if(d){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${i} for interpolating ${e}`),a=""}else"string"==typeof a||this.useRawValueToEscape||(a=cB(a));let o=t.safeValue(a);if(e=e.replace(r[0],o),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++s>=this.maxReplaces)break}}),e}nest(e,t){let i,n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){let i=this.nestingOptionsSeparator;if(0>e.indexOf(i))return e;let n=e.split(RegExp(`${i}[ ]*{`)),a=`{${n[1]}`;e=n[0];let s=(a=this.interpolate(a,r)).match(/'/g),o=a.match(/"/g);(s&&s.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{r=JSON.parse(a),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${a}`}return delete r.defaultValue,e}for(;i=this.nestingRegexp.exec(e);){let o=[];(r=(r={...a}).replace&&"string"!=typeof r.replace?r.replace:r).applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){let e=i[1].split(this.formatSeparator).map(e=>e.trim());i[1]=e.shift(),o=e,l=!0}if((n=t(s.call(this,i[1].trim(),r),r))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=cB(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),l&&(n=o.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}function us(e){let t={};return function(i,n,r){let a=n+JSON.stringify(r),s=t[a];return s||(s=e(c1(n),r),t[a]=s),s(i)}}class uo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=c$.create("formatter"),this.options=e,this.formats={number:us((e,t)=>{let i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)}),currency:us((e,t)=>{let i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)}),datetime:us((e,t)=>{let i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)}),relativetime:us((e,t)=>{let i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")}),list:us((e,t)=>{let i=new Intl.ListFormat(e,{...t});return e=>i.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=t.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=us(t)}format(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{let{formatName:r,formatOptions:a}=function(e){let t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);"currency"===t&&0>r.indexOf(":")?i.currency||(i.currency=r.trim()):"relativetime"===t&&0>r.indexOf(":")?i.range||(i.range=r.trim()):r.split(";").forEach(e=>{if(!e)return;let[t,...n]=e.split(":"),r=n.join(":").trim().replace(/^'+|'+$/g,"");i[t.trim()]||(i[t.trim()]=r),"false"===r&&(i[t.trim()]=!1),"true"===r&&(i[t.trim()]=!0),isNaN(r)||(i[t.trim()]=parseInt(r,10))})}return{formatName:t,formatOptions:i}}(t);if(this.formats[r]){let t=e;try{let s=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},o=s.locale||s.lng||n.locale||n.lng||i;t=this.formats[r](e,o,{...a,...n,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e},e)}}class ul extends cF{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=c$.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,t,i,n){let r={},a={},s={},o={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let s=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,n=!1,void 0===a[s]&&(a[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===o[t]&&(o[t]=!0)))}),n||(s[e]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,i){let n=e.split("|"),r=n[0],a=n[1];t&&this.emit("failedLoading",r,a,t),i&&this.store.addResourceBundle(r,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;let s={};this.queue.forEach(i=>{(function(e,t,i,n){let{obj:r,k:a}=cz(e,t,Object);r[a]=r[a]||[],n&&(r[a]=r[a].concat(i)),n||r[a].push(i)})(i.loaded,[r],a),void 0!==i.pending[e]&&(delete i.pending[e],i.pendingCount--),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(e=>{s[e]||(s[e]={});let t=i.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:r,callback:a});return}this.readingCalls++;let s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(s&&o&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,2*r,a)},r);return}a(s,o)},o=this.backend[i].bind(this.backend);if(2===o.length){try{let i=o(e,t);i&&"function"==typeof i.then?i.then(e=>s(null,e)).catch(s):s(null,i)}catch(e){s(e)}return}return o(e,t,s)}prepareLoading(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let r=this.queueLoad(e,t,i,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),n=i[0],r=i[1];this.read(n,r,"read",void 0,void 0,(i,a)=>{i&&this.logger.warn(`${t}loading namespace ${r} for language ${n} failed`,i),!i&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${n}`,a),this.loaded(e,i,a)})}saveMissing(e,t,i,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=i&&""!==i){if(this.backend&&this.backend.create){let o={...a,isUpdate:r},l=this.backend.create.bind(this.backend);if(l.length<6)try{let r;(r=5===l.length?l(e,t,i,n,o):l(e,t,i,n))&&"function"==typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(e){s(e)}else l(e,t,i,n,s,o)}e&&e[0]&&this.store.addResource(e[0],t,i,n)}}}function uc(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let i=e[3]||e[2];Object.keys(i).forEach(e=>{t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function uu(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ud(){}class up extends cF{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=uu(e),this.services={},this.logger=c$,this.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(i=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let n=uc();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options={...n,...this.options,...uu(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?c$.init(r(this.modules.logger),this.options):c$.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=uo);let i=new c8(this.options);this.store=new c2(this.options.resources,this.options);let a=this.services;a.logger=c$,a.resourceStore=this.store,a.languageUtils=i,a.pluralResolver=new un(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(a.formatter=r(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new ua(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ul(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit(t,...n)}),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new c6(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,i||(i=ud),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let a=cK(),s=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),i(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ud,i=t,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return i();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),i(e)})}else i(null)}reloadResources(e,t,i){let n=cK();return e||(e=this.languages),t||(t=this.options.ns),i||(i=ud),this.services.backendConnector.reload(e,t,e=>{n.resolve(),i(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&c3.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;let n=cK();this.emit("languageChanging",e);let r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(r(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(e,function(){return i.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);let i="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);i&&(this.language||r(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(i)),this.loadResources(i,e=>{a(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),n}getFixedT(e,t,i){var n=this;let r=function(e,t){let a,s;if("object"!=typeof t){for(var o=arguments.length,l=Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];a=n.options.overloadTranslationOptionHandler([e,t].concat(l))}else a={...t};a.lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,a.keyPrefix=a.keyPrefix||i||r.keyPrefix;let u=n.options.keySeparator||".";return s=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${u}${e}`):a.keyPrefix?`${a.keyPrefix}${u}${e}`:e,n.t(s,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let a=(e,t)=>{let i=this.services.backendConnector.state[`${e}|${t}`];return -1===i||2===i};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!n||a(r,e)))}loadNamespaces(e,t){let i=cK();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){let i=cK();"string"==typeof e&&(e=[e]);let n=this.options.preload||[],r=e.filter(e=>0>n.indexOf(e));return r.length?(this.options.preload=n.concat(r),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new c8(uc())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new up(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ud,i=e.forkResourceStore;i&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},r=new up(n);return(void 0!==e.debug||void 0!==e.prefix)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new c2(this.store.data,n),r.services.resourceStore=r.store),r.translator=new c6(r.services,n),r.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit(e,...i)}),r.init(n,t),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let uh=up.createInstance();uh.createInstance=up.createInstance,uh.createInstance,uh.dir,uh.init,uh.loadResources,uh.reloadResources,uh.use,uh.changeLanguage,uh.getFixedT,uh.t,uh.exists,uh.setDefaultNamespace,uh.hasLoadedNamespace,uh.loadNamespaces,uh.loadLanguages;let uf=(0,cM.createContext)(void 0),um=()=>(0,cM.useContext)(uf),ug="stream-video",uy={debug:!1,currentLanguage:"en",fallbackLanguage:!1},uv=Object.entries({}).reduce((e,[t,i])=>(e[t]={[ug]:i},e),{}),ub=e=>e;class uw{constructor(e={}){this.t=ub,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;let i="undefined"!=typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||i),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=({lng:e,translations:t})=>{this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(e,ug,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);let{debug:t=uy.debug,currentLanguage:i=uy.currentLanguage,fallbackLanguage:n=uy.fallbackLanguage,translationsOverrides:r}=e;this.i18nInstance=uh.createInstance({debug:t,defaultNS:ug,fallbackLng:n,interpolation:{escapeValue:!1},keySeparator:!1,lng:i,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:uv}),r&&this.i18nInstance.on("initialized",()=>{Object.entries(r).forEach(([e,t])=>{this.registerTranslationsForLanguage({lng:e,translations:t})})})}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}let ux=(0,cM.createContext)({t:ub}),u_=({children:e,...t})=>{let{i18n:i,t:n}=uS(t);return(0,cD.jsx)(ux.Provider,{value:{t:n,i18n:i},children:e})},uS=({i18nInstance:e,language:t,fallbackLanguage:i,translationsOverrides:n})=>{let[r]=(0,cM.useState)(()=>e||new uw({currentLanguage:t,fallbackLanguage:i,translationsOverrides:n})),[a,s]=(0,cM.useState)(()=>ub);return(0,cM.useEffect)(()=>{let{isInitialized:e}=r;if(!e){r.init().then(e=>s(()=>e.i18nInstance.t));return}t&&r?.currentLanguage!==t&&r.changeLanguage(t).catch(e=>{console.log("Error while changing language",e)})},[r,e,t,n]),{i18n:r,t:a}},uk=()=>(0,cM.useContext)(ux),uR=(0,cM.createContext)(void 0),uE=({children:e,client:t,i18nInstance:i,language:n,translationsOverrides:r})=>(0,cD.jsx)(uR.Provider,{value:t,children:(0,cD.jsx)(u_,{i18nInstance:i,language:n,translationsOverrides:r,children:e})}),uT=()=>(0,cM.useContext)(uR),uC=e=>{let[t,i]=(0,cM.useState)(()=>oP.getCurrentValue(e));return(0,cM.useEffect)(()=>{let t=e.subscribe(i);return()=>{t.unsubscribe()}},[e]),t},uP=()=>{let e=um();return e?e.state:(console.warn('You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.'),new oY)},uA=()=>{let{ownCapabilities$:e}=uP();return uC(e)};var uO=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{let{anonymousParticipantCount$:e}=uP();return uC(e)},useCallBlockedUserIds:()=>{let{blockedUserIds$:e}=uP();return uC(e)},useCallCallingState:()=>{let{callingState$:e}=uP();return uC(e)},useCallCreatedAt:()=>{let{createdAt$:e}=uP();return uC(e)},useCallCreatedBy:()=>{let{createdBy$:e}=uP();return uC(e)},useCallCustomData:()=>{let{custom$:e}=uP();return uC(e)},useCallEgress:()=>{let{egress$:e}=uP();return uC(e)},useCallEndedAt:()=>{let{endedAt$:e}=uP();return uC(e)},useCallEndedBy:()=>{let{endedBy$:e}=uP();return uC(e)},useCallIngress:()=>{let{ingress$:e}=uP();return uC(e)},useCallMembers:()=>{let{members$:e}=uP();return uC(e)},useCallSession:()=>{let{session$:e}=uP();return uC(e)},useCallSettings:()=>{let{settings$:e}=uP();return uC(e)},useCallStartedAt:()=>{let{startedAt$:e}=uP();return uC(e)},useCallStartsAt:()=>{let{startsAt$:e}=uP();return uC(e)},useCallState:uP,useCallStatsReport:()=>{let{callStatsReport$:e}=uP();return uC(e)},useCallThumbnail:()=>{let{thumbnails$:e}=uP();return uC(e)},useCallUpdatedAt:()=>{let{updatedAt$:e}=uP();return uC(e)},useCameraState:()=>{let{camera:e}=um(),t=(0,cM.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=uC(i.status$),r=uC(i.direction$),a=uC(i.mediaStream$),s=uC(i.selectedDevice$);return{camera:e,status:n,isEnabled:"enabled"===n,direction:r,mediaStream:a,devices:uC(t),hasBrowserPermission:uC(i.hasBrowserPermission$),selectedDevice:s,isMute:"enabled"!==n}},useDominantSpeaker:()=>{let{dominantSpeaker$:e}=uP();return uC(e)},useHasOngoingScreenShare:()=>{let{hasOngoingScreenShare$:e}=uP();return uC(e)},useHasPermissions:(...e)=>{let t=uA();return e.every(e=>t?.includes(e))},useIsCallHLSBroadcastingInProgress:()=>{let{egress$:e}=uP(),t=uC(e);return!!t&&t.broadcasting},useIsCallLive:()=>{let{backstage$:e}=uP();return!uC(e)},useIsCallRecordingInProgress:()=>{let{recording$:e}=uP();return uC(e)},useIsCallTranscribingInProgress:()=>{let{transcribing$:e}=uP();return uC(e)},useLocalParticipant:()=>{let{localParticipant$:e}=uP();return uC(e)},useMicrophoneState:()=>{let{microphone:e}=um(),t=(0,cM.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=uC(i.status$),r=uC(i.mediaStream$),a=uC(i.selectedDevice$),s=uC(t);return{microphone:e,status:n,isEnabled:"enabled"===n,mediaStream:r,devices:s,selectedDevice:a,hasBrowserPermission:uC(i.hasBrowserPermission$),isSpeakingWhileMuted:uC(i.speakingWhileMuted$),isMute:"enabled"!==n}},useOwnCapabilities:uA,useParticipantCount:()=>{let{participantCount$:e}=uP();return uC(e)},useParticipants:({sortBy:e}={})=>{let{participants$:t}=uP(),i=uC(t);return(0,cM.useMemo)(()=>e?[...i].sort(e):i,[i,e])},useRemoteParticipants:()=>{let{remoteParticipants$:e}=uP();return uC(e)},useScreenShareState:()=>{let{screenShare:e}=um(),t=uC(e.state.status$),i=uC(e.state.mediaStream$);return{screenShare:e,mediaStream:i,status:t,isMute:"enabled"!==t}},useSpeakerState:()=>{let{speaker:e}=um(),t=uC((0,cM.useMemo)(()=>e.listDevices(),[e])),i=uC(e.state.selectedDevice$);return{speaker:e,devices:t,selectedDevice:i,isDeviceSelectionSupported:e.state.isDeviceSelectionSupported}}});let uI=()=>{let e=uT();if(!e)throw Error("StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.");return e.readOnlyStateStore},uN=()=>{let{connectedUser$:e}=uI();return uC(e)},uj=()=>uO,uL=({canRequestOnly:e,hasPermissionsOnly:t,requiredGrants:i,requireAll:n=!0,children:r})=>{let a=um(),{useCallSettings:s,useOwnCapabilities:o}=uj(),l=o(),c=s(),u=i[n?"every":"some"](e=>l?.includes(e));if(t)return u?(0,cD.jsx)(cD.Fragment,{children:r}):null;let d=i.some(e=>a?.permissionsContext.canRequest(e,c));return e?d?(0,cD.jsx)(cD.Fragment,{children:r}):null:u||d?(0,cD.jsx)(cD.Fragment,{children:r}):null};var uD=i(56815),uM=i(98077),uU=i(42486),uq=i(84208);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function u$(e){return e+.5|0}let uF=(e,t,i)=>Math.max(Math.min(e,i),t);function uK(e){return uF(u$(2.55*e),0,255)}function uB(e){return uF(u$(255*e),0,255)}function uV(e){return uF(u$(e/2.55)/100,0,1)}function uz(e){return uF(u$(100*e),0,100)}let uW={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uH=[..."0123456789ABCDEF"],uG=e=>uH[15&e],uJ=e=>uH[(240&e)>>4]+uH[15&e],uY=e=>(240&e)>>4==(15&e),uX=e=>uY(e.r)&&uY(e.g)&&uY(e.b)&&uY(e.a),uZ=(e,t)=>e<255?t(e):"",uQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function u0(e,t,i){let n=t*Math.min(i,1-i),r=(t,r=(t+e/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function u1(e,t,i){let n=(n,r=(n+e/60)%6)=>i-i*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function u2(e,t,i){let n;let r=u0(e,1,.5);for(t+i>1&&(n=1/(t+i),t*=n,i*=n),n=0;n<3;n++)r[n]*=1-t-i,r[n]+=t;return r}function u3(e){let t,i,n;let r=e.r/255,a=e.g/255,s=e.b/255,o=Math.max(r,a,s),l=Math.min(r,a,s),c=(o+l)/2;return o!==l&&(n=o-l,i=c>.5?n/(2-o-l):n/(o+l),t=60*(t=r===o?(a-s)/n+(a<s?6:0):a===o?(s-r)/n+2:(r-a)/n+4)+.5),[0|t,i||0,c]}function u4(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(uB)}function u6(e){return(e%360+360)%360}let u5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},u8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},u7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,u9=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,de=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dt(e,t,i){if(e){let n=u3(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=u4(u0,n,void 0,void 0),e.r=n[0],e.g=n[1],e.b=n[2]}}function di(e,t){return e?Object.assign(t||{},e):e}function dn(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=uB(e[3]))):(t=di(e,{r:0,g:0,b:0,a:1})).a=uB(t.a),t}class dr{constructor(e){let t;if(e instanceof dr)return e;let i=typeof e;"object"===i?t=dn(e):"string"===i&&(t=function(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*uW[e[1]],g:255&17*uW[e[2]],b:255&17*uW[e[3]],a:5===i?17*uW[e[4]]:255}:(7===i||9===i)&&(t={r:uW[e[1]]<<4|uW[e[2]],g:uW[e[3]]<<4|uW[e[4]],b:uW[e[5]]<<4|uW[e[6]],a:9===i?uW[e[7]]<<4|uW[e[8]]:255})),t}(e)||function(e){l||((l=function(){let e,t,i,n,r;let a={},s=Object.keys(u8),o=Object.keys(u5);for(e=0;e<s.length;e++){for(t=0,n=r=s[e];t<o.length;t++)i=o[t],r=r.replace(i,u5[i]);i=parseInt(u8[n],16),a[r]=[i>>16&255,i>>8&255,255&i]}return a}()).transparent=[0,0,0,0]);let t=l[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,i,n;let r=u7.exec(e),a=255;if(r){if(r[7]!==t){let e=+r[7];a=r[8]?uK(e):uF(255*e,0,255)}return t=+r[1],i=+r[3],n=+r[5],{r:t=255&(r[2]?uK(t):uF(t,0,255)),g:i=255&(r[4]?uK(i):uF(i,0,255)),b:n=255&(r[6]?uK(n):uF(n,0,255)),a:a}}}(e):function(e){let t;let i=uQ.exec(e),n=255;if(!i)return;i[5]!==t&&(n=i[6]?uK(+i[5]):uB(+i[5]));let r=u6(+i[2]),a=+i[3]/100,s=+i[4]/100;return{r:(t="hwb"===i[1]?u4(u2,r,a,s):"hsv"===i[1]?u4(u1,r,a,s):u4(u0,r,a,s))[0],g:t[1],b:t[2],a:n}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=di(this._rgb);return e&&(e.a=uV(e.a)),e}set rgb(e){this._rgb=dn(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${uV(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=uX(e=this._rgb)?uG:uJ,e?"#"+t(e.r)+t(e.g)+t(e.b)+uZ(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=u3(e),i=t[0],n=uz(t[1]),r=uz(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${r}%, ${uV(e.a)})`:`hsl(${i}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){let i;let n=this.rgb,r=e.rgb,a=t===i?.5:t,s=2*a-1,o=n.a-r.a,l=((s*o==-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){let n=de(uV(e.r)),r=de(uV(e.g)),a=de(uV(e.b));return{r:uB(u9(n+i*(de(uV(t.r))-n))),g:uB(u9(r+i*(de(uV(t.g))-r))),b:uB(u9(a+i*(de(uV(t.b))-a))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new dr(this.rgb)}alpha(e){return this._rgb.a=uB(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=u$(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dt(this._rgb,2,e),this}darken(e){return dt(this._rgb,2,-e),this}saturate(e){return dt(this._rgb,1,e),this}desaturate(e){return dt(this._rgb,1,-e),this}rotate(e){var t,i;return(i=u3(t=this._rgb))[0]=u6(i[0]+e),i=u4(u0,i,void 0,void 0),t.r=i[0],t.g=i[1],t.b=i[2],this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function da(){}let ds=(()=>{let e=0;return()=>e++})();function dl(e){return null==e}function dc(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function du(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function dd(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function dp(e,t){return dd(e)?e:t}function dh(e,t){return void 0===e?t:e}let df=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,dm=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function dg(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function dy(e,t,i,n){let r,a,s;if(dc(e)){if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(i,e[r],r);else for(r=0;r<a;r++)t.call(i,e[r],r)}else if(du(e))for(r=0,a=(s=Object.keys(e)).length;r<a;r++)t.call(i,e[s[r]],s[r])}function dv(e,t){let i,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],a=t[i],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function db(e){if(dc(e))return e.map(db);if(du(e)){let t=Object.create(null),i=Object.keys(e),n=i.length,r=0;for(;r<n;++r)t[i[r]]=db(e[i[r]]);return t}return e}function dw(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function dx(e,t,i,n){if(!dw(e))return;let r=t[e],a=i[e];du(r)&&du(a)?d_(r,a,n):t[e]=db(a)}function d_(e,t,i){let n;let r=dc(t)?t:[t],a=r.length;if(!du(e))return e;let s=(i=i||{}).merger||dx;for(let t=0;t<a;++t){if(!du(n=r[t]))continue;let a=Object.keys(n);for(let t=0,r=a.length;t<r;++t)s(a[t],e,n,i)}return e}function dS(e,t){return d_(e,t,{merger:dk})}function dk(e,t,i){if(!dw(e))return;let n=t[e],r=i[e];du(n)&&du(r)?dS(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=db(r))}let dR={"":e=>e,x:e=>e.x,y:e=>e.y};function dE(e,t){return(dR[t]||(dR[t]=function(e){let t=function(e){let t=e.split("."),i=[],n="";for(let e of t)(n+=e).endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(let i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(e)}function dT(e){return e.charAt(0).toUpperCase()+e.slice(1)}let dC=e=>void 0!==e,dP=e=>"function"==typeof e,dA=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0},dO=Math.PI,dI=2*dO,dN=dI+dO,dj=Number.POSITIVE_INFINITY,dL=dO/180,dD=dO/2,dM=dO/4,dU=2*dO/3,dq=Math.log10,d$=Math.sign;function dF(e,t,i){return Math.abs(e-t)<i}function dK(e){let t=Math.round(e),i=Math.pow(10,Math.floor(dq(e=dF(e,t,e/1e3)?t:e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function dB(e){return!isNaN(parseFloat(e))&&isFinite(e)}function dV(e,t,i){let n,r,a;for(n=0,r=e.length;n<r;n++)isNaN(a=e[n][i])||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function dz(e){return dO/180*e}function dW(e){if(!dd(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function dH(e,t){let i=t.x-e.x,n=t.y-e.y,r=Math.atan2(n,i);return r<-.5*dO&&(r+=dI),{angle:r,distance:Math.sqrt(i*i+n*n)}}function dG(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function dJ(e,t){return(e-t+dN)%dI-dO}function dY(e){return(e%dI+dI)%dI}function dX(e,t,i,n){let r=dY(e),a=dY(t),s=dY(i),o=dY(a-r),l=dY(s-r),c=dY(r-a),u=dY(r-s);return r===a||r===s||n&&a===s||o>l&&c<u}function dZ(e,t,i){return Math.max(t,Math.min(i,e))}function dQ(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function d0(e,t,i){let n;i=i||(i=>e[i]<t);let r=e.length-1,a=0;for(;r-a>1;)i(n=a+r>>1)?a=n:r=n;return{lo:a,hi:r}}let d1=(e,t,i,n)=>d0(e,i,n?n=>{let r=e[n][t];return r<i||r===i&&e[n+1][t]===i}:n=>e[n][t]<i),d2=(e,t,i)=>d0(e,i,n=>e[n][t]>=i),d3=["push","pop","shift","splice","unshift"];function d4(e,t){let i=e._chartjs;if(!i)return;let n=i.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),n.length>0||(d3.forEach(t=>{delete e[t]}),delete e._chartjs)}function d6(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let d5="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function d8(e,t){let i=[],n=!1;return function(...r){i=r,n||(n=!0,d5.call(window,()=>{n=!1,e.apply(t,i)}))}}let d7=e=>"start"===e?"left":"end"===e?"right":"center",d9=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2;function pe(e,t,i){let n=t.length,r=0,a=n;if(e._sorted){let{iScale:s,_parsed:o}=e,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:p}=s.getUserBounds();d&&(r=dZ(Math.min(d1(o,l,c).lo,i?n:d1(t,l,s.getPixelForValue(c)).lo),0,n-1)),a=p?dZ(Math.max(d1(o,s.axis,u,!0).hi+1,i?0:d1(t,l,s.getPixelForValue(u),!0).hi+1),r,n)-r:n-r}return{start:r,count:a}}function pt(e){let{xScale:t,yScale:i,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=r,!0;let a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),a}let pi=e=>0===e||1===e,pn=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*dI/i)),pr=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*dI/i)+1,pa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*dD)+1,easeOutSine:e=>Math.sin(e*dD),easeInOutSine:e=>-.5*(Math.cos(dO*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>pi(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>pi(e)?e:pn(e,.075,.3),easeOutElastic:e=>pi(e)?e:pr(e,.075,.3),easeInOutElastic:e=>pi(e)?e:e<.5?.5*pn(2*e,.1125,.45):.5+.5*pr(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*(((t*=1.525)+1)*e-t)*.5:.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-pa.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*pa.easeInBounce(2*e):.5*pa.easeOutBounce(2*e-1)+.5};function ps(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function po(e){return ps(e)?e:new dr(e)}function pl(e){return ps(e)?e:new dr(e).saturate(.5).darken(.1).hexString()}let pc=["x","y","borderWidth","radius","tension"],pu=["color","borderColor","backgroundColor"],pd=new Map;function pp(e,t,i){return(function(e,t){let i=e+JSON.stringify(t=t||{}),n=pd.get(i);return n||(n=new Intl.NumberFormat(e,t),pd.set(i,n)),n})(t,i).format(e)}let ph={values:e=>dc(e)?e:""+e,numeric(e,t,i){let n;if(0===e)return"0";let r=this.chart.options.locale,a=e;if(i.length>1){let t;let r=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(r<1e-4||r>1e15)&&(n="scientific"),Math.abs(t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),a=t}let s=dq(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),pp(e,r,l)},logarithmic(e,t,i){return 0===e?"0":[1,2,3,5,10,15].includes(i[t].significand||e/Math.pow(10,Math.floor(dq(e))))||t>.8*i.length?ph.numeric.call(this,e,t,i):""}};var pf={formatters:ph};let pm=Object.create(null),pg=Object.create(null);function py(e,t){if(!t)return e;let i=t.split(".");for(let t=0,n=i.length;t<n;++t){let n=i[t];e=e[n]||(e[n]=Object.create(null))}return e}function pv(e,t,i){return"string"==typeof t?d_(py(e,t),i):d_(py(e,""),t)}class pb{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>pl(t.backgroundColor),this.hoverBorderColor=(e,t)=>pl(t.borderColor),this.hoverColor=(e,t)=>pl(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return pv(this,e,t)}get(e){return py(this,e)}describe(e,t){return pv(pg,e,t)}override(e,t){return pv(pm,e,t)}route(e,t,i,n){let r=py(this,e),a=py(this,i),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[s],t=a[n];return du(e)?Object.assign({},t,e):dh(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var pw=new pb({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:pu},numbers:{type:"number",properties:pc}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function px(e,t,i,n,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,i.push(r)),a>n&&(n=a),n}function p_(e,t,i){let n=e.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((t-r)*n)/n+r}function pS(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function pk(e,t,i,n){(function(e,t,i,n,r){let a,s,o,l,c,u,d,p;let h=t.pointStyle,f=t.rotation,m=t.radius,g=(f||0)*dL;if(h&&"object"==typeof h&&("[object HTMLImageElement]"===(a=h.toString())||"[object HTMLCanvasElement]"===a)){e.save(),e.translate(i,n),e.rotate(g),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!isNaN(m)&&!(m<=0)){switch(e.beginPath(),h){default:r?e.ellipse(i,n,r/2,m,0,0,dI):e.arc(i,n,m,0,dI),e.closePath();break;case"triangle":u=r?r/2:m,e.moveTo(i+Math.sin(g)*u,n-Math.cos(g)*m),g+=dU,e.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*m),g+=dU,e.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,s=Math.cos(g+dM)*(l=m-c),d=Math.cos(g+dM)*(r?r/2-c:l),o=Math.sin(g+dM)*l,p=Math.sin(g+dM)*(r?r/2-c:l),e.arc(i-d,n-o,c,g-dO,g-dD),e.arc(i+p,n-s,c,g-dD,g),e.arc(i+d,n+o,c,g,g+dD),e.arc(i-p,n+s,c,g+dD,g+dO),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=r?r/2:l,e.rect(i-u,n-l,2*u,2*l);break}g+=dM;case"rectRot":d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,p=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+p,n-s),e.lineTo(i+d,n+o),e.lineTo(i-p,n+s),e.closePath();break;case"crossRot":g+=dM;case"cross":d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,p=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+d,n+o),e.moveTo(i+p,n-s),e.lineTo(i-p,n+s);break;case"star":d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,p=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+d,n+o),e.moveTo(i+p,n-s),e.lineTo(i-p,n+s),g+=dM,d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,p=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+d,n+o),e.moveTo(i+p,n-s),e.lineTo(i-p,n+s);break;case"line":s=r?r/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(i-s,n-o),e.lineTo(i+s,n+o);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(g)*(r?r/2:m),n+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}})(e,t,i,n,null)}function pR(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function pE(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function pT(e){e.restore()}function pC(e,t,i,n,r){if(!t)return e.lineTo(i.x,i.y);if("middle"===r){let n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else"after"===r!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function pP(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function pA(e,t,i,n,r,a={}){let s,o;let l=dc(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;for(e.save(),e.font=r.string,a.translation&&e.translate(a.translation[0],a.translation[1]),dl(a.rotation)||e.rotate(a.rotation),a.color&&(e.fillStyle=a.color),a.textAlign&&(e.textAlign=a.textAlign),a.textBaseline&&(e.textBaseline=a.textBaseline),s=0;s<l.length;++s)o=l[s],a.backdrop&&function(e,t){let i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),dl(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(o,i,n,a.maxWidth)),e.fillText(o,i,n,a.maxWidth),function(e,t,i,n,r){if(r.strikethrough||r.underline){let a=e.measureText(n),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=i-a.actualBoundingBoxAscent,c=i+a.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}(e,i,n,o,a),n+=Number(r.lineHeight);e.restore()}function pO(e,t){let{x:i,y:n,w:r,h:a,radius:s}=t;e.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*dO,dO,!0),e.lineTo(i,n+a-s.bottomLeft),e.arc(i+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,dO,dD,!0),e.lineTo(i+r-s.bottomRight,n+a),e.arc(i+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,dD,0,!0),e.lineTo(i+r,n+s.topRight),e.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-dD,!0),e.lineTo(i+s.topLeft,n)}let pI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,pj=e=>+e||0;function pL(e,t){let i={},n=du(t),r=n?Object.keys(t):t,a=du(e)?n?i=>dh(e[i],e[t[i]]):t=>e[t]:()=>e;for(let e of r)i[e]=pj(a(e));return i}function pD(e){return pL(e,{top:"y",right:"x",bottom:"y",left:"x"})}function pM(e){return pL(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pU(e){let t=pD(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pq(e,t){e=e||{},t=t||pw.font;let i=dh(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let n=dh(e.style,t.style);n&&!(""+n).match(pN)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:dh(e.family,t.family),lineHeight:function(e,t){let i=(""+e).match(pI);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}(dh(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:dh(e.weight,t.weight),string:""};return r.string=!r||dl(r.size)||dl(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family,r}function p$(e,t,i,n){let r,a,s,o=!0;for(r=0,a=e.length;r<a;++r)if(void 0!==(s=e[r])&&(void 0!==t&&"function"==typeof s&&(s=s(t),o=!1),void 0!==i&&dc(s)&&(s=s[i%s.length],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s}function pF(e,t){return Object.assign(Object.create(e),t)}function pK(e,t=[""],i,n,r=()=>e[0]){let a=i||e;void 0===n&&(n=pX("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:r,override:i=>pK([i,...e],t,a,n)};return new Proxy(s,{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,n)=>pH(i,n,()=>(function(e,t,i,n){let r;for(let a of t)if(void 0!==(r=pX(pz(a,e),i)))return pW(e,r)?pJ(i,n,e,r):r})(n,t,e,i)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>pZ(e).includes(t),ownKeys:e=>pZ(e),set(e,t,i){let n=e._storage||(e._storage=r());return e[t]=n[t]=i,delete e._keys,!0}})}function pB(e,t,i,n){let r={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:pV(e,n),setContext:t=>pB(e,t,i,n),override:r=>pB(e.override(r),t,i,n)};return new Proxy(r,{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>pH(e,t,()=>(function(e,t,i){let{_proxy:n,_context:r,_subProxy:a,_descriptors:s}=e,o=n[t];return dP(o)&&s.isScriptable(t)&&(o=function(e,t,i,n){let{_proxy:r,_context:a,_subProxy:s,_stack:o}=i;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||n);return o.delete(e),pW(e,l)&&(l=pJ(r._scopes,r,e,l)),l}(t,o,e,i)),dc(o)&&o.length&&(o=function(e,t,i,n){let{_proxy:r,_context:a,_subProxy:s,_descriptors:o}=i;if(void 0!==a.index&&n(e))return t[a.index%t.length];if(du(t[0])){let i=t,n=r._scopes.filter(e=>e!==i);for(let l of(t=[],i)){let i=pJ(n,r,e,l);t.push(pB(i,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable)),pW(t,o)&&(o=pB(o,r,a&&a[t],s)),o})(e,t,i)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,n)=>(e[i]=n,delete t[i],!0)})}function pV(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:n,isScriptable:dP(i)?i:()=>i,isIndexable:dP(n)?n:()=>n}}let pz=(e,t)=>e?e+dT(t):t,pW=(e,t)=>du(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function pH(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];let n=i();return e[t]=n,n}let pG=(e,t)=>!0===e?t:"string"==typeof e?dE(t,e):void 0;function pJ(e,t,i,n){var r;let a=t._rootScopes,s=dP(r=t._fallback)?r(i,n):r,o=[...e,...a],l=new Set;l.add(n);let c=pY(l,o,i,s||i,n);return null!==c&&(void 0===s||s===i||null!==(c=pY(l,o,s,c,n)))&&pK(Array.from(l),[""],a,s,()=>(function(e,t,i){let n=e._getTarget();t in n||(n[t]={});let r=n[t];return dc(r)&&du(i)?i:r||{}})(t,i,n))}function pY(e,t,i,n,r){for(;i;)i=function(e,t,i,n,r){for(let s of t){let t=pG(i,s);if(t){var a;e.add(t);let s=dP(a=t._fallback)?a(i,r):a;if(void 0!==s&&s!==i&&s!==n)return s}else if(!1===t&&void 0!==n&&i!==n)return null}return!1}(e,t,i,n,r);return i}function pX(e,t){for(let i of t){if(!i)continue;let t=i[e];if(void 0!==t)return t}}function pZ(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let i of e)for(let e of Object.keys(i).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function pQ(e,t,i,n){let r,a,s;let{iScale:o}=e,{key:l="r"}=this._parsing,c=Array(n);for(r=0;r<n;++r)s=t[a=r+i],c[r]={r:o.parse(dE(s,l),a)};return c}let p0=Number.EPSILON||1e-14,p1=(e,t)=>t<e.length&&!e[t].skip&&e[t],p2=e=>"x"===e?"y":"x";function p3(e,t,i){return Math.max(Math.min(e,i),t)}function p4(){return"undefined"!=typeof window&&"undefined"!=typeof document}function p6(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function p5(e,t,i){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}let p8=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),p7=["top","right","bottom","left"];function p9(e,t,i){let n={};i=i?"-"+i:"";for(let r=0;r<4;r++){let a=p7[r];n[a]=parseFloat(e[t+"-"+a+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}let he=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function ht(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:n}=t,r=p8(i),a="border-box"===r.boxSizing,s=p9(r,"padding"),o=p9(r,"border","width"),{x:l,y:c,box:u}=function(e,t){let i,n;let r=e.touches,a=r&&r.length?r[0]:e,{offsetX:s,offsetY:o}=a,l=!1;if(he(s,o,e.target))i=s,n=o;else{let e=t.getBoundingClientRect();i=a.clientX-e.left,n=a.clientY-e.top,l=!0}return{x:i,y:n,box:l}}(e,i),d=s.left+(u&&o.left),p=s.top+(u&&o.top),{width:h,height:f}=t;return a&&(h-=s.width+o.width,f-=s.height+o.height),{x:Math.round((l-d)/h*i.width/n),y:Math.round((c-p)/f*i.height/n)}}let hi=e=>Math.round(10*e)/10;function hn(e,t,i){let n=t||1,r=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==r||s.width!==a)&&(e.currentDevicePixelRatio=n,s.height=r,s.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}let hr=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};p4()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function ha(e,t){let i=p8(e).getPropertyValue(t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function hs(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function ho(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:"middle"===n?i<.5?e.y:t.y:"after"===n?i<1?e.y:t.y:i>0?t.y:e.y}}function hl(e,t,i,n){let r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=hs(e,r,i),o=hs(r,a,i),l=hs(a,t,i),c=hs(s,o,i),u=hs(o,l,i);return hs(c,u,i)}function hc(e,t,i){var n;return e?(n=i,{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function hu(e){return"angle"===e?{between:dX,compare:dJ,normalize:dY}:{between:dQ,compare:(e,t)=>e-t,normalize:e=>e}}function hd({start:e,end:t,count:i,loop:n,style:r}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i==0,style:r}}function hp(e,t,i){let n,r,a;if(!i)return[e];let{property:s,start:o,end:l}=i,c=t.length,{compare:u,between:d,normalize:p}=hu(s),{start:h,end:f,loop:m,style:g}=function(e,t,i){let n;let{property:r,start:a,end:s}=i,{between:o,normalize:l}=hu(r),c=t.length,{start:u,end:d,loop:p}=e;if(p){for(u+=c,d+=c,n=0;n<c&&o(l(t[u%c][r]),a,s);++n)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:p,style:e.style}}(e,t,i),y=[],v=!1,b=null,w=()=>d(o,a,n)&&0!==u(o,a),x=()=>0===u(l,n)||d(l,a,n),_=()=>v||w(),S=()=>!v||x();for(let e=h,i=h;e<=f;++e)(r=t[e%c]).skip||(n=p(r[s]))===a||(v=d(n,o,l),null===b&&_()&&(b=0===u(n,o)?e:i),null!==b&&S()&&(y.push(hd({start:b,end:e,loop:m,count:c,style:g})),b=null),i=e,a=n);return null!==b&&y.push(hd({start:b,end:f,loop:m,count:c,style:g})),y}function hh(e,t){let i=[],n=e.segments;for(let r=0;r<n.length;r++){let a=hp(n[r],e.points,t);a.length&&i.push(...a)}return i}function hf(e,t,i,n){return n&&n.setContext&&i?function(e,t,i,n){let r=e._chart.getContext(),a=hm(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=i.length,c=[],u=a,d=t[0].start,p=d;function h(e,t,n,r){let a=o?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=a;for(;i[t%l].skip;)t+=a;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:r}),u=r,d=t%l)}}for(let e of t){let t;let a=i[(d=o?d:e.start)%l];for(p=d+1;p<=e.end;p++){let o=i[p%l];(function(e,t){if(!t)return!1;let i=[],n=function(e,t){return ps(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)})(t=hm(n.setContext(pF(r,{type:"segment",p0:a,p1:o,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),u)&&h(d,p-1,e.loop,u),a=o,u=t}d<p-1&&h(d,p-1,e.loop,u)}return c}(e,t,i,n):t}function hm(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class hg{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){let r=t.listeners[n],a=t.duration;r.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=d5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{let r;if(!i.running||!i.items.length)return;let a=i.items,s=a.length-1,o=!1;for(;s>=0;--s)(r=a[s])._active?(r._total>i.duration&&(i.duration=r._total),r.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,i,e,"progress")),a.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var hy=new hg;let hv="transparent",hb={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){let n=po(e||hv),r=n.valid&&po(t||hv);return r&&r.valid?r.mix(n,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class hw{constructor(e,t,i,n){let r=t[i];n=p$([e.to,n,r,e.from]);let a=p$([e.from,r,n]);this._active=!0,this._fn=e.fn||hb[e.type||typeof a],this._easing=pa[e.easing]||pa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let n=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=p$([e.to,t,n,e.from]),this._from=p$([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t;let i=e-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to;if(this._active=a!==o&&(s||i<n),!this._active){this._target[r]=o,this._notify(!0);return}if(i<0){this._target[r]=a;return}t=i/n%2,t=s&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[r]=this._fn(a,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}class hx{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!du(e))return;let t=Object.keys(pw.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{let r=e[n];if(!du(r))return;let a={};for(let e of t)a[e]=r[e];(dc(r.properties)&&r.properties||[n]).forEach(e=>{e!==n&&i.has(e)||i.set(e,a)})})}_animateOptions(e,t){let i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}(e,i);if(!n)return[];let r=this._createAnimations(n,i);return i.$shared&&(function(e,t){let i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){let r=e[n[t]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)})(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){let i;let n=this._properties,r=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();for(i=s.length-1;i>=0;--i){let l=s[i];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}let c=t[l],u=a[l],d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}if(!d||!d.duration){e[l]=c;continue}a[l]=u=new hw(d,e,l,c),r.push(u)}return r}update(e,t){if(0===this._properties.size){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return hy.add(this._chart,i),!0}}function h_(e,t){let i=e&&e.options||{},n=i.reverse,r=void 0===i.min?t:0,a=void 0===i.max?t:0;return{start:n?a:r,end:n?r:a}}function hS(e,t){let i,n;let r=[],a=e._getSortedDatasetMetas(t);for(i=0,n=a.length;i<n;++i)r.push(a[i].index);return r}function hk(e,t,i,n={}){let r,a,s,o;let l=e.keys,c="single"===n.mode;if(null!==t){for(r=0,a=l.length;r<a;++r){if((s=+l[r])===i){if(n.all)continue;break}dd(o=e.values[s])&&(c||0===t||d$(t)===d$(o))&&(t+=o)}return t}}function hR(e,t){let i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function hE(e,t,i,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let t=e[r.index];if(i&&t>0||!i&&t<0)return r.index}return null}function hT(e,t){let i;let{chart:n,_cachedMeta:r}=e,a=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=r,c=s.axis,u=o.axis,d=`${s.id}.${o.id}.${r.stack||r.type}`,p=t.length;for(let e=0;e<p;++e){let n=t[e],{[c]:s,[u]:p}=n;(i=(n._stacks||(n._stacks={}))[u]=function(e,t,i){let n=e[t]||(e[t]={});return n[i]||(n[i]={})}(a,d,s))[l]=p,i._top=hE(i,o,!0,r.type),i._bottom=hE(i,o,!1,r.type),(i._visualValues||(i._visualValues={}))[l]=p}}function hC(e,t){let i=e.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function hP(e,t){let i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n)for(let r of t=t||e._parsed){let e=r._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}let hA=e=>"reset"===e||"none"===e,hO=(e,t)=>t?e:Object.assign({},e),hI=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:hS(i,!0),values:null};class hN{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=hR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hP(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,r=t.xAxisID=dh(i.xAxisID,hC(e,"x")),a=t.yAxisID=dh(i.yAxisID,hC(e,"y")),s=t.rAxisID=dh(i.rAxisID,hC(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,r,a,s),c=t.vAxisID=n(o,a,r,s);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&d4(this._data,this),e._stacked&&hP(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(du(t))this._data=function(e){let t,i,n;let r=Object.keys(e),a=Array(r.length);for(t=0,i=r.length;t<i;++t)n=r[t],a[t]={x:n,y:e[n]};return a}(t);else if(i!==t){if(i){d4(i,this);let e=this._cachedMeta;hP(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),d3.forEach(t=>{let i="_onData"+dT(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let r=n.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[i]&&e[i](...t)}),r}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,i=this.getDataset(),n=!1;this._dataCheck();let r=t._stacked;t._stacked=hR(t.vScale,t),t.stack!==i.stack&&(n=!0,hP(t),t.stack=i.stack),this._resyncElements(e),(n||r!==t._stacked)&&hT(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let i,n,r;let{_cachedMeta:a,_data:s}=this,{iScale:o,_stacked:l}=a,c=o.axis,u=0===e&&t===s.length||a._sorted,d=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,r=s;else{r=dc(s[e])?this.parseArrayData(a,s,e,t):du(s[e])?this.parseObjectData(a,s,e,t):this.parsePrimitiveData(a,s,e,t);let o=()=>null===n[c]||d&&n[c]<d[c];for(i=0;i<t;++i)a._parsed[i+e]=n=r[i],u&&(o()&&(u=!1),d=n);a._sorted=u}l&&hT(this,r)}parsePrimitiveData(e,t,i,n){let r,a;let{iScale:s,vScale:o}=e,l=s.axis,c=o.axis,u=s.getLabels(),d=s===o,p=Array(n);for(r=0;r<n;++r)a=r+i,p[r]={[l]:d||s.parse(u[a],a),[c]:o.parse(t[a],a)};return p}parseArrayData(e,t,i,n){let r,a,s;let{xScale:o,yScale:l}=e,c=Array(n);for(r=0;r<n;++r)s=t[a=r+i],c[r]={x:o.parse(s[0],a),y:l.parse(s[1],a)};return c}parseObjectData(e,t,i,n){let r,a,s;let{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=Array(n);for(r=0;r<n;++r)s=t[a=r+i],d[r]={x:o.parse(dE(s,c),a),y:l.parse(dE(s,u),a)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){let n=this.chart,r=this._cachedMeta,a=t[e.axis];return hk({keys:hS(n,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:i})}updateRangeFromParsed(e,t,i,n){let r=i[t.axis],a=null===r?NaN:r,s=n&&i._stacks[t.axis];n&&s&&(n.values=s,a=hk(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let i,n;let r=this._cachedMeta,a=r._parsed,s=r._sorted&&e===r.iScale,o=a.length,l=this._getOtherScale(e),c=hI(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=function(e){let{min:t,max:i,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}(l);function h(){let t=(n=a[i])[l.axis];return!dd(n[e.axis])||d>t||p<t}for(i=0;i<o&&(h()||(this.updateRangeFromParsed(u,e,n,c),!s));++i);if(s){for(i=o-1;i>=0;--i)if(!h()){this.updateRangeFromParsed(u,e,n,c);break}}return u}getAllParsedValues(e){let t,i,n;let r=this._cachedMeta._parsed,a=[];for(t=0,i=r.length;t<i;++t)dd(n=r[t][e.axis])&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,i=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){var t;let i,n,r,a;let s=this._cachedMeta;this.update(e||"default"),s._clip=(du(t=dh(this.options.clip,function(e,t,i){if(!1===i)return!1;let n=h_(e,i),r=h_(t,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(s.xScale,s.yScale,this.getMaxOverflow())))?(i=t.top,n=t.right,r=t.bottom,a=t.left):i=n=r=a=t,{top:i,right:n,bottom:r,left:a,disabled:!1===t})}update(e){}draw(){let e;let t=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],a=i.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(t,a,o,l),e=o;e<o+l;++e){let i=r[e];i.hidden||(i.active&&c?s.push(i):i.draw(t,a))}for(e=0;e<s.length;++e)s[e].draw(t,a)}getStyle(e,t){let i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){var n;let r;let a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(r=t.$context||(t.$context=pF(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),r.raw=a.data[e],r.index=r.dataIndex=e}else(r=this.$context||(this.$context=pF(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:n=this.index,index:n,mode:"default",type:"dataset"}))).dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){let n="active"===t,r=this._cachedDataOpts,a=e+"-"+t,s=r[a],o=this.enableOptionSharing&&dC(i);if(s)return hO(s,o);let l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=n?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),p=Object.keys(pw.elements[e]),h=l.resolveNamedOptions(d,p,()=>this.getContext(i,n,t),u);return h.$shared&&(h.$shared=o,r[a]=Object.freeze(hO(h,o))),h}_resolveAnimations(e,t,i){let n;let r=this.chart,a=this._cachedDataOpts,s=`animation-${t}`,o=a[s];if(o)return o;if(!1!==r.options.animation){let r=this.chart.config,a=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),a);n=r.createResolver(s,this.getContext(e,i,t))}let l=new hx(r,n&&n.animations);return n&&n._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||hA(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:a}}updateElement(e,t,i,n){hA(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!hA(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;let r=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,i=this._cachedMeta.data;for(let[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];let n=i.length,r=t.length,a=Math.min(r,n);a&&this.parse(0,a),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t,i=!0){let n;let r=this._cachedMeta,a=r.data,s=e+t,o=e=>{for(e.length+=t,n=e.length-1;n>=s;n--)e[n]=e[n-t]};for(o(a),n=e;n<s;++n)a[n]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){let i=this._cachedMeta;if(this._parsing){let n=i._parsed.splice(e,t);i._stacked&&hP(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function hj(e,t,i,n){return dc(e)?function(e,t,i,n){let r=i.parse(e[0],n),a=i.parse(e[1],n),s=Math.min(r,a),o=Math.max(r,a),l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:s,max:o}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function hL(e,t,i,n){let r,a,s,o;let l=e.iScale,c=e.vScale,u=l.getLabels(),d=l===c,p=[];for(r=i,a=i+n;r<a;++r)o=t[r],(s={})[l.axis]=d||l.parse(u[r],r),p.push(hj(o,s,c,r));return p}function hD(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function hM(e,t,i,n){var r;return e=n?hU(e=(r=e)===t?i:r===i?t:r,i,t):hU(e,t,i)}function hU(e,t,i){return"start"===e?t:"end"===e?i:e}class hq extends hN{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return hL(e,t,i,n)}parseArrayData(e,t,i,n){return hL(e,t,i,n)}parseObjectData(e,t,i,n){let r,a,s,o;let{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,p="x"===l.axis?u:d,h="x"===c.axis?u:d,f=[];for(r=i,a=i+n;r<a;++r)o=t[r],(s={})[l.axis]=l.parse(dE(o,p),r),f.push(hj(dE(o,h),s,c,r));return f}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);let r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:i}=this._cachedMeta,n=this.getParsed(e),r=n._custom,a=hD(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(n[i.axis]);return{label:""+t.getLabelForValue(n[t.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){let r="reset"===n,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,n);for(let p=t;p<t+i;p++){let t=this.getParsed(p),i=r||dl(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(p),h=this._calculateBarIndexPixels(p,c),f=(t._stacks||{})[s.axis],m={horizontal:l,base:i.base,enableBorderRadius:!f||hD(t._custom)||a===f._top||a===f._bottom,x:l?i.head:h.center,y:l?h.center:i.head,height:l?h.size:Math.abs(i.size),width:l?Math.abs(i.size):h.size};d&&(m.options=u||this.resolveDataElementOptions(p,e[p].active?"active":n));let g=m.options||e[p].options;(function(e,t,i,n){let r,a,s,o,l,c=t.borderSkipped,u={};if(!c){e.borderSkipped=u;return}if(!0===c){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:d,end:p,reverse:h,top:f,bottom:m}=(e.horizontal?(r=e.base>e.x,a="left",s="right"):(r=e.base<e.y,a="bottom",s="top"),r?(o="end",l="start"):(o="start",l="end"),{start:a,end:s,reverse:r,top:o,bottom:l});"middle"===c&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?c=f:(i._bottom||0)===n?c=m:(u[hM(m,d,p,h)]=!0,c=f)),u[hM(c,d,p,h)]=!0,e.borderSkipped=u})(m,g,f,a),function(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}(m,g,c.ratio),this.updateElement(e[p],p,m,n)}}_getStacks(e,t){let{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=i.options.stacked,a=[],s=e=>{let i=e.controller.getParsed(t),n=i&&i[e.vScale.axis];if(dl(n)||isNaN(n))return!0};for(let i of n)if(!(void 0!==t&&s(i))&&((!1===r||-1===a.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&a.push(i.stack),i.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){let n=this._getStacks(e,i),r=void 0!==t?n.indexOf(t):-1;return -1===r?n.length-1:r}_getRuler(){let e,t;let i=this.options,n=this._cachedMeta,r=n.iScale,a=[];for(e=0,t=n.data.length;e<t;++e)a.push(r.getPixelForValue(this.getParsed(e)[r.axis],e));let s=i.barThickness;return{min:s||function(e){let t,i,n,r;let a=e.iScale,s=function(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),n=[];for(let t=0,r=i.length;t<r;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=d6(n.sort((e,t)=>e-t))}return e._cache.$bar}(a,e.type),o=a._length,l=()=>{32767!==n&&-32768!==n&&(dC(r)&&(o=Math.min(o,Math.abs(n-r)||o)),r=n)};for(t=0,i=s.length;t<i;++t)n=a.getPixelForValue(s[t]),l();for(t=0,r=void 0,i=a.ticks.length;t<i;++t)n=a.getPixelForTick(t),l();return o}(n),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:i.grouped,ratio:s?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(e){let t,i;let{_cachedMeta:{vScale:n,_stacked:r,index:a},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=hD(u),p=c[n.axis],h=0,f=r?this.applyStack(n,c,r):p;f!==p&&(h=f-p,f=p),d&&(p=u.barStart,f=u.barEnd-u.barStart,0!==p&&d$(p)!==d$(u.barEnd)&&(h=0),h+=p);let m=dl(s)||d?h:s,g=n.getPixelForValue(m);if(Math.abs(i=(t=this.chart.getDataVisibility(e)?n.getPixelForValue(h+f):g)-g)<o){var y;i=(0!==(y=i)?d$(y):(n.isHorizontal()?1:-1)*(n.min>=l?1:-1))*o,p===l&&(g-=i/2);let e=n.getPixelForDecimal(0),s=n.getPixelForDecimal(1);t=(g=Math.max(Math.min(g,Math.max(e,s)),Math.min(e,s)))+i,r&&!d&&(c._stacks[n.axis]._visualValues[a]=n.getValueForPixel(t)-n.getValueForPixel(g))}if(g===n.getPixelForValue(l)){let e=d$(i)*n.getLineWidthForValue(l)/2;g+=e,i-=e}return{size:i,base:g,head:t,center:t+i/2}}_calculateBarIndexPixels(e,t){let i,n;let r=t.scale,a=this.options,s=a.skipNull,o=dh(a.maxBarThickness,1/0);if(t.grouped){let r=s?this._getStackCount(e):t.stackCount,l="flex"===a.barThickness?function(e,t,i,n){let r=t.pixels,a=r[e],s=e>0?r[e-1]:null,o=e<r.length-1?r[e+1]:null,l=i.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);let c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:i.barPercentage,start:c}}(e,t,a,r):function(e,t,i,n){let r,a;let s=i.barThickness;return dl(s)?(r=t.min*i.categoryPercentage,a=i.barPercentage):(r=s*n,a=1),{chunk:r/n,ratio:a,start:t.pixels[e]-r/2}}(e,t,a,r),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);i=l.start+l.chunk*c+l.chunk/2,n=Math.min(o,l.chunk*l.ratio)}else i=r.getPixelForValue(this.getParsed(e)[r.axis],e),n=Math.min(o,t.min*t.ratio);return{base:i-n/2,head:i+n/2,center:i,size:n}}draw(){let e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length,r=0;for(;r<n;++r)null!==this.getParsed(r)[t.axis]&&i[r].draw(this._ctx)}}class h$ extends hN{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){let r=super.parsePrimitiveData(e,t,i,n);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+i).radius;return r}parseArrayData(e,t,i,n){let r=super.parseArrayData(e,t,i,n);for(let e=0;e<r.length;e++){let n=t[i+e];r[e]._custom=dh(n[2],this.resolveDataElementOptions(e+i).radius)}return r}parseObjectData(e,t,i,n){let r=super.parseObjectData(e,t,i,n);for(let e=0;e<r.length;e++){let n=t[i+e];r[e]._custom=dh(n&&n.r&&+n.r,this.resolveDataElementOptions(e+i).radius)}return r}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),o=r.getLabelForValue(a.y),l=a._custom;return{label:i[e]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){let r="reset"===n,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=a.axis,u=s.axis;for(let d=t;d<t+i;d++){let t=e[d],i=!r&&this.getParsed(d),p={},h=p[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(i[c]),f=p[u]=r?s.getBasePixel():s.getPixelForValue(i[u]);p.skip=isNaN(h)||isNaN(f),l&&(p.options=o||this.resolveDataElementOptions(d,t.active?"active":n),r&&(p.options.radius=0)),this.updateElement(t,d,p,n)}}resolveDataElementOptions(e,t){let i=this.getParsed(e),n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));let r=n.radius;return"active"!==t&&(n.radius=0),n.radius+=dh(i&&i._custom,r),n}}class hF extends hN{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,r)=>{let a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let r,a,s=e=>+i[e];if(du(i[e])){let{key:e="value"}=this._parsing;s=t=>+dE(i[t],e)}for(r=e,a=e+t;r<a;++r)n._parsed[r]=s(r)}}_getRotation(){return dz(this.options.rotation-90)}_getCircumference(){return dz(this.options.circumference)}_getRotationExtents(){let e=dI,t=-dI;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),a=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,i=this._cachedMeta,n=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(t.width,t.height)-r)/2,0),s=Math.min(df(this.options.cutout,a),1),o=this._getRingWeight(this.index),{circumference:l,rotation:c}=this._getRotationExtents(),{ratioX:u,ratioY:d,offsetX:p,offsetY:h}=function(e,t,i){let n=1,r=1,a=0,s=0;if(t<dI){let o=e+t,l=Math.cos(e),c=Math.sin(e),u=Math.cos(o),d=Math.sin(o),p=(t,n,r)=>dX(t,e,o,!0)?1:Math.max(n,n*i,r,r*i),h=(t,n,r)=>dX(t,e,o,!0)?-1:Math.min(n,n*i,r,r*i),f=p(0,l,u),m=p(dD,c,d),g=h(dO,l,u),y=h(dO+dD,c,d);n=(f-g)/2,r=(m-y)/2,a=-(f+g)/2,s=-(m+y)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}(c,l,s),f=(t.width-r)/u,m=(t.height-r)/d,g=dm(this.options.radius,Math.max(Math.min(f,m)/2,0)),y=Math.max(g*s,0),v=(g-y)/this._getVisibleDatasetWeightTotal();this.offsetX=p*g,this.offsetY=h*g,i.total=this.calculateTotal(),this.outerRadius=g-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*o,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){let i=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/dI)}updateElements(e,t,i,n){let r;let a="reset"===n,s=this.chart,o=s.chartArea,l=s.options.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,d=a&&l.animateScale,p=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,n),g=this._getRotation();for(r=0;r<t;++r)g+=this._circumference(r,a);for(r=t;r<t+i;++r){let t=this._circumference(r,a),i=e[r],s={x:c+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:p};m&&(s.options=f||this.resolveDataElementOptions(r,i.active?"active":n)),g+=t,this.updateElement(i,r,s,n)}}calculateTotal(){let e;let t=this._cachedMeta,i=t.data,n=0;for(e=0;e<i.length;e++){let r=t._parsed[e];null!==r&&!isNaN(r)&&this.chart.getDataVisibility(e)&&!i[e].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*dI:0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=pp(t._parsed[e],i.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t,i,n,r,a,s=0,o=this.chart;if(!e){for(t=0,i=o.data.datasets.length;t<i;++t)if(o.isDatasetVisible(t)){e=(n=o.getDatasetMeta(t)).data,r=n.controller;break}}if(!e)return 0;for(t=0,i=e.length;t<i;++t)"inner"!==(a=r.resolveDataElementOptions(t)).borderAlign&&(s=Math.max(s,a.borderWidth||0,a.hoverBorderWidth||0));return s}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){let e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(dh(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class hK extends hN{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=t,a=this.chart._animationsDisabled,{start:s,count:o}=pe(t,n,a);this._drawStart=s,this._drawCount=o,pt(t)&&(s=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:l},e),this.updateElements(n,s,o,e)}updateElements(e,t,i,n){let r="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,n),d=a.axis,p=s.axis,{spanGaps:h,segment:f}=this.options,m=dB(h)?h:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===n,y=t+i,v=e.length,b=t>0&&this.getParsed(t-1);for(let i=0;i<v;++i){let h=e[i],v=g?h:{};if(i<t||i>=y){v.skip=!0;continue}let w=this.getParsed(i),x=dl(w[p]),_=v[d]=a.getPixelForValue(w[d],i),S=v[p]=r||x?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,w,o):w[p],i);v.skip=isNaN(_)||isNaN(S)||x,v.stop=i>0&&Math.abs(w[d]-b[d])>m,f&&(v.parsed=w,v.raw=l.data[i]),u&&(v.options=c||this.resolveDataElementOptions(i,h.active?"active":n)),g||this.updateElement(h,i,v,n),b=w}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];return n.length?Math.max(i,n[0].size(this.resolveDataElementOptions(0)),n[n.length-1].size(this.resolveDataElementOptions(n.length-1)))/2:i}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class hB extends hN{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,r)=>{let a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=pp(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,t,i,n){return pQ.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,i)=>{let n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,i=e.options,n=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),r=Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0),a=(n-r)/e.getVisibleDatasetCount();this.outerRadius=n-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,i,n){let r;let a="reset"===n,s=this.chart,o=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,u=l.yCenter,d=l.getIndexAngle(0)-.5*dO,p=d,h=360/this.countVisibleElements();for(r=0;r<t;++r)p+=this._computeAngle(r,n,h);for(r=t;r<t+i;r++){let t=e[r],i=p,f=p+this._computeAngle(r,n,h),m=s.getDataVisibility(r)?l.getDistanceFromCenterForValue(this.getParsed(r).r):0;p=f,a&&(o.animateScale&&(m=0),o.animateRotate&&(i=f=d));let g={x:c,y:u,innerRadius:0,outerRadius:m,startAngle:i,endAngle:f,options:this.resolveDataElementOptions(r,t.active?"active":n)};this.updateElement(t,r,g,n)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?dz(this.resolveDataElementOptions(e,t).angle||i):0}}class hV extends hF{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class hz extends hN{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return pQ.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta,i=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(i.points=n,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let a={_loop:!0,_fullLoop:r.length===n.length,options:t};this.updateElement(i,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){let r=this._cachedMeta.rScale,a="reset"===n;for(let s=t;s<t+i;s++){let t=e[s],i=this.resolveDataElementOptions(s,t.active?"active":n),o=r.getPointPositionForValue(s,this.getParsed(s).r),l=a?r.xCenter:o.x,c=a?r.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(t,s,u,n)}}}class hW extends hN{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),o=r.getLabelForValue(a.y);return{label:i[e]||"",value:"("+s+", "+o+")"}}update(e){let t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled,{start:r,count:a}=pe(t,i,n);if(this._drawStart=r,this._drawCount=a,pt(t)&&(r=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;let s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){let r="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),u=this.getSharedOptions(c),d=this.includeOptions(n,u),p=a.axis,h=s.axis,{spanGaps:f,segment:m}=this.options,g=dB(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n,v=t>0&&this.getParsed(t-1);for(let c=t;c<t+i;++c){let t=e[c],i=this.getParsed(c),f=y?t:{},b=dl(i[h]),w=f[p]=a.getPixelForValue(i[p],c),x=f[h]=r||b?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,i,o):i[h],c);f.skip=isNaN(w)||isNaN(x)||b,f.stop=c>0&&Math.abs(i[p]-v[p])>g,m&&(f.parsed=i,f.raw=l.data[c]),d&&(f.options=u||this.resolveDataElementOptions(c,t.active?"active":n)),y||this.updateElement(t,c,f,n),v=i}this.updateSharedOptions(u,n,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}let i=e.dataset,n=i.options&&i.options.borderWidth||0;return t.length?Math.max(n,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:n}}function hH(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class hG{static override(e){Object.assign(hG.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return hH()}parse(){return hH()}format(){return hH()}add(){return hH()}diff(){return hH()}startOf(){return hH()}endOf(){return hH()}}var hJ={_date:hG};function hY(e,t,i,n,r){let a=e.getSortedVisibleDatasetMetas(),s=i[t];for(let e=0,i=a.length;e<i;++e){let{index:i,data:o}=a[e],{lo:l,hi:c}=function(e,t,i,n){let{controller:r,data:a,_sorted:s}=e,o=r._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&s&&a.length){let e=o._reversePixels?d2:d1;if(!n)return e(a,t,i);if(r._sharedOptions){let n=a[0],r="function"==typeof n.getRange&&n.getRange(t);if(r){let n=e(a,t,i-r),s=e(a,t,i+r);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}(a[e],t,s,r);for(let e=l;e<=c;++e){let t=o[e];t.skip||n(t,i,e)}}}function hX(e,t,i,n,r){let a=[];return(r||e.isPointInArea(t))&&hY(e,i,t,function(i,s,o){(r||pR(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&a.push({element:i,datasetIndex:s,index:o})},!0),a}function hZ(e,t,i,n,r,a){let s;return a||e.isPointInArea(t)?"r"!==i||n?function(e,t,i,n,r,a){let s=[],o=function(e){let t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){return Math.sqrt(Math.pow(t?Math.abs(e.x-n.x):0,2)+Math.pow(i?Math.abs(e.y-n.y):0,2))}}(i),l=Number.POSITIVE_INFINITY;return hY(e,i,t,function(i,c,u){let d=i.inRange(t.x,t.y,r);if(n&&!d)return;let p=i.getCenterPoint(r);if(!(a||e.isPointInArea(p))&&!d)return;let h=o(t,p);h<l?(s=[{element:i,datasetIndex:c,index:u}],l=h):h===l&&s.push({element:i,datasetIndex:c,index:u})}),s}(e,t,i,n,r,a):(s=[],hY(e,i,t,function(e,i,n){let{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=dH(e,{x:t.x,y:t.y});dX(l,a,o)&&s.push({element:e,datasetIndex:i,index:n})}),s):[]}function hQ(e,t,i,n,r){let a=[],s="x"===i?"inXRange":"inYRange",o=!1;return(hY(e,i,t,(e,n,l)=>{e[s](t[i],r)&&(a.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,r))}),n&&!o)?[]:a}var h0={modes:{index(e,t,i,n){let r=ht(t,e),a=i.axis||"x",s=i.includeInvisible||!1,o=i.intersect?hX(e,r,a,n,s):hZ(e,r,a,!1,n,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,i,n){let r=ht(t,e),a=i.axis||"xy",s=i.includeInvisible||!1,o=i.intersect?hX(e,r,a,n,s):hZ(e,r,a,!1,n,s);if(o.length>0){let t=o[0].datasetIndex,i=e.getDatasetMeta(t).data;o=[];for(let e=0;e<i.length;++e)o.push({element:i[e],datasetIndex:t,index:e})}return o},point(e,t,i,n){let r=ht(t,e);return hX(e,r,i.axis||"xy",n,i.includeInvisible||!1)},nearest(e,t,i,n){let r=ht(t,e),a=i.axis||"xy",s=i.includeInvisible||!1;return hZ(e,r,a,i.intersect,n,s)},x(e,t,i,n){let r=ht(t,e);return hQ(e,r,"x",i.intersect,n)},y(e,t,i,n){let r=ht(t,e);return hQ(e,r,"y",i.intersect,n)}}};let h1=["left","top","right","bottom"];function h2(e,t){return e.filter(e=>e.pos===t)}function h3(e,t){return e.filter(e=>-1===h1.indexOf(e.pos)&&e.box.axis===t)}function h4(e,t){return e.sort((e,i)=>{let n=t?i:e,r=t?e:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function h6(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function h5(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function h8(e,t,i,n){let r,a,s,o,l,c;let u=[];for(r=0,a=e.length,l=0;r<a;++r){(o=(s=e[r]).box).update(s.width||t.w,s.height||t.h,function(e,t){let i=t.maxPadding;return function(e){let n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],i[e])}),n}(e?["left","right"]:["top","bottom"])}(s.horizontal,t));let{same:a,other:d}=function(e,t,i,n){let{pos:r,box:a}=i,s=e.maxPadding;if(!du(r)){i.size&&(e[r]-=i.size);let t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?a.height:a.width),i.size=t.size/t.count,e[r]+=i.size}a.getPadding&&h5(s,a.getPadding());let o=Math.max(0,t.outerWidth-h6(s,e,"left","right")),l=Math.max(0,t.outerHeight-h6(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,i.horizontal?{same:c,other:u}:{same:u,other:c}}(t,i,s,n);l|=a&&u.length,c=c||d,o.fullSize||u.push(s)}return l&&h8(u,t,i,n)||c}function h7(e,t,i,n,r){e.top=i,e.left=t,e.right=t+n,e.bottom=i+r,e.width=n,e.height=r}function h9(e,t,i,n){let r=i.padding,{x:a,y:s}=t;for(let o of e){let e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){let n=t.w*c,a=l.size||e.height;dC(l.start)&&(s=l.start),e.fullSize?h7(e,r.left,s,i.outerWidth-r.right-r.left,a):h7(e,t.left+l.placed,s,n,a),l.start=s,l.placed+=n,s=e.bottom}else{let n=t.h*c,s=l.size||e.width;dC(l.start)&&(a=l.start),e.fullSize?h7(e,a,r.top,s,i.outerHeight-r.bottom-r.top):h7(e,a,t.top+l.placed,s,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=s}var fe={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;let r=pU(e.options.layout.padding),a=Math.max(t-r.width,0),s=Math.max(i-r.height,0),o=function(e){let t=function(e){let t,i,n,r,a,s;let o=[];for(t=0,i=(e||[]).length;t<i;++t)n=e[t],({position:r,options:{stack:a,stackWeight:s=1}}=n),o.push({index:t,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&r+a,stackWeight:s});return o}(e),i=h4(t.filter(e=>e.box.fullSize),!0),n=h4(h2(t,"left"),!0),r=h4(h2(t,"right")),a=h4(h2(t,"top"),!0),s=h4(h2(t,"bottom")),o=h3(t,"x"),l=h3(t,"y");return{fullSize:i,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:h2(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;dy(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let u=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/(l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:s/2}),d=Object.assign({},r);h5(d,pU(n));let p=Object.assign({maxPadding:d,w:a,h:s,x:r.left,y:r.top},r),h=function(e,t){let i,n,r;let a=function(e){let t={};for(let i of e){let{stack:e,pos:n,stackWeight:r}=i;if(!e||!h1.includes(n))continue;let a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:o}=t;for(i=0,n=e.length;i<n;++i){let{fullSize:n}=(r=e[i]).box,l=a[r.stack],c=l&&r.stackWeight/l.weight;r.horizontal?(r.width=c?c*s:n&&t.availableWidth,r.height=o):(r.width=s,r.height=c?c*o:n&&t.availableHeight)}return a}(l.concat(c),u);h8(o.fullSize,p,u,h),h8(l,p,u,h),h8(c,p,u,h)&&h8(l,p,u,h),function(e){let t=e.maxPadding;function i(i){let n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(p),h9(o.leftAndTop,p,u,h),p.x+=p.w,p.y+=p.h,h9(o.rightAndBottom,p,u,h),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},dy(o.chartArea,t=>{let i=t.box;Object.assign(i,e.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class ft{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class fi extends ft{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let fn="$chartjs",fr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fa=e=>null===e||""===e,fs=!!hr&&{passive:!0};function fo(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function fl(e,t,i){let n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||fo(i.addedNodes,n))&&!fo(i.removedNodes,n);t&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function fc(e,t,i){let n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||fo(i.removedNodes,n))&&!fo(i.addedNodes,n);t&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}let fu=new Map,fd=0;function fp(){let e=window.devicePixelRatio;e!==fd&&(fd=e,fu.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function fh(e,t,i){let n=e.canvas,r=n&&p6(n);if(!r)return;let a=d8((e,t)=>{let n=r.clientWidth;i(e,t),n<r.clientWidth&&i()},window),s=new ResizeObserver(e=>{let t=e[0],i=t.contentRect.width,n=t.contentRect.height;(0!==i||0!==n)&&a(i,n)});return s.observe(r),fu.size||window.addEventListener("resize",fp),fu.set(e,a),s}function ff(e,t,i){i&&i.disconnect(),"resize"===t&&(fu.delete(e),fu.size||window.removeEventListener("resize",fp))}function fm(e,t,i){let n=e.canvas,r=d8(t=>{null!==e.ctx&&i(function(e,t){let i=fr[e.type]||e.type,{x:n,y:r}=ht(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(t,e))},e);return n&&n.addEventListener(t,r,fs),r}class fg extends ft{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){let i=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[fn]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",fa(r)){let t=ha(e,"width");void 0!==t&&(e.width=t)}if(fa(n)){if(""===e.style.height)e.height=e.width/(t||2);else{let t=ha(e,"height");void 0!==t&&(e.height=t)}}}(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[fn])return!1;let i=t[fn].initial;["height","width"].forEach(e=>{let n=i[e];dl(n)?t.removeAttribute(e):t.setAttribute(e,n)});let n=i.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[fn],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let n=e.$proxies||(e.$proxies={}),r={attach:fl,detach:fc,resize:fh}[t]||fm;n[t]=r(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),n=i[t];n&&((({attach:ff,detach:ff,resize:ff})[t]||function(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,fs)})(e,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return function(e,t,i,n){let r=p8(e),a=p9(r,"margin"),s=p5(r.maxWidth,e,"clientWidth")||dj,o=p5(r.maxHeight,e,"clientHeight")||dj,l=function(e,t,i){let n,r;if(void 0===t||void 0===i){let a=p6(e);if(a){let e=a.getBoundingClientRect(),s=p8(a),o=p9(s,"border","width"),l=p9(s,"padding");t=e.width-l.width-o.width,i=e.height-l.height-o.height,n=p5(s.maxWidth,a,"clientWidth"),r=p5(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||dj,maxHeight:r||dj}}(e,t,i),{width:c,height:u}=l;if("content-box"===r.boxSizing){let e=p9(r,"border","width"),t=p9(r,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-a.width),u=Math.max(0,n?c/n:u-a.height),c=hi(Math.min(c,s,l.maxWidth)),u=hi(Math.min(u,o,l.maxHeight)),c&&!u&&(u=hi(c/2)),(void 0!==t||void 0!==i)&&n&&l.height&&u>l.height&&(c=hi(Math.floor((u=l.height)*n))),{width:c,height:u}}(e,t,i,n)}isAttached(e){let t=p6(e);return!!(t&&t.isConnected)}}class fy{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return dB(this.x)&&dB(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let n={};return e.forEach(e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]}),n}}function fv(e,t,i,n,r){let a,s,o;let l=dh(n,0),c=Math.min(dh(r,e.length),e.length),u=0;for(i=Math.ceil(i),r&&(i=(a=r-n)/Math.floor(a/i)),o=l;o<0;)o=Math.round(l+ ++u*i);for(s=Math.max(l,0);s<c;s++)s===o&&(t.push(e[s]),o=Math.round(l+ ++u*i))}let fb=e=>"left"===e?"right":"right"===e?"left":e,fw=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,fx=(e,t)=>Math.min(t||e,e);function f_(e,t){let i=[],n=e.length/t,r=e.length,a=0;for(;a<r;a+=n)i.push(e[Math.floor(a)]);return i}function fS(e){return e.drawTicks?e.tickLength:0}function fk(e,t){if(!e.display)return 0;let i=pq(e.font,t),n=pU(e.padding);return(dc(e.text)?e.text.length:1)*i.lineHeight+n.height}class fR extends fy{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=dp(e,Number.POSITIVE_INFINITY),t=dp(t,Number.NEGATIVE_INFINITY),i=dp(i,Number.POSITIVE_INFINITY),n=dp(n,Number.NEGATIVE_INFINITY),{min:dp(e,i),max:dp(t,n),minDefined:dd(e),maxDefined:dd(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:i,max:n};let s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),r||(i=Math.min(i,t.min)),a||(n=Math.max(n,t.max));return i=a&&i>n?n:i,n=r&&i>n?i:n,{min:dp(i,dp(n,i)),max:dp(n,dp(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dg(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:n,grace:r,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){let{min:n,max:r}=e,a=dm(t,(r-n)/2),s=(e,t)=>i&&0===e?0:e+t;return{min:s(n,-Math.abs(a)),max:s(r,a)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=s<this.ticks.length;this._convertTicksToLabels(o?f_(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){let i=e.options.ticks,n=function(e){let t=e.options.offset,i=e._tickSize();return Math.floor(Math.min(e._length/i+(t?0:1),e._maxLength/i))}(e),r=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(e){let t,i;let n=[];for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>r)return function(e,t,i,n){let r,a=0,s=i[0];for(r=0,n=Math.ceil(n);r<e.length;r++)r===s&&(t.push(e[r]),s=i[++a*n])}(t,c,a,s/r),c;let u=function(e,t,i){let n=function(e){let t,i;let n=e.length;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),r=t.length/i;if(!n)return Math.max(r,1);let a=function(e){let t;let i=[],n=Math.sqrt(e);for(t=1;t<n;t++)e%t==0&&(i.push(t),i.push(e/t));return n===(0|n)&&i.push(n),i.sort((e,t)=>e-t).pop(),i}(n);for(let e=0,t=a.length-1;e<t;e++){let t=a[e];if(t>r)return t}return Math.max(r,1)}(a,t,r);if(s>0){let e,i;let n=s>1?Math.round((l-o)/(s-1)):null;for(fv(t,c,u,dl(n)?0:o-n,o),e=0,i=s-1;e<i;e++)fv(t,c,u,a[e],a[e+1]);return fv(t,c,u,l,dl(n)?t.length:l+n),c}return fv(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dg(this.options.afterUpdate,[this])}beforeSetDimensions(){dg(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dg(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),dg(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dg(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,i,n;let r=this.options.ticks;for(t=0,i=e.length;t<i;t++)(n=e[t]).label=dg(r.callback,[n.value,t,e],this)}afterTickToLabelConversion(){dg(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dg(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,i;let n=this.options,r=n.ticks,a=fx(this.ticks.length,n.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation,l=s;if(!this._isVisible()||!r.display||s>=o||a<=1||!this.isHorizontal()){this.labelRotation=s;return}let c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,p=dZ(this.chart.width-u,0,this.maxWidth);u+6>(e=n.offset?this.maxWidth/a:p/(a-1))&&(e=p/(a-(n.offset?.5:1)),t=this.maxHeight-fS(n.grid)-r.padding-fk(n.title,this.chart.options.font),i=Math.sqrt(u*u+d*d),l=Math.max(s,Math.min(o,l=180/dO*Math.min(Math.asin(dZ((c.highest.height+6)/e,-1,1)),Math.asin(dZ(t/i,-1,1))-Math.asin(dZ(d/i,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){dg(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dg(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:r}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let a=fk(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=fS(r)+a):(e.height=this.maxHeight,e.width=fS(r)+a),i.display&&this.ticks.length){let{first:t,last:n,widest:r,highest:a}=this._getLabelSizes(),o=2*i.padding,l=dz(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){let t=i.mirror?0:u*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=i.mirror?0:c*r.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){let{ticks:{align:r,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){let s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1),u=0,d=0;o?l?(u=n*e.width,d=i*t.height):(u=i*e.height,d=n*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let i=t.height/2,n=e.height/2;"start"===r?(i=0,n=e.height):"end"===r&&(i=t.height,n=0),this.paddingTop=i+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dg(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)dl(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=f_(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let n,r,a,s,o,l,c,u,d,p,h;let{ctx:f,_longestTextCache:m}=this,g=[],y=[],v=Math.floor(t/fx(t,i)),b=0,w=0;for(n=0;n<t;n+=v){if(s=e[n].label,o=this._resolveTickFontOptions(n),f.font=l=o.string,c=m[l]=m[l]||{data:{},gc:[]},u=o.lineHeight,d=p=0,dl(s)||dc(s)){if(dc(s))for(r=0,a=s.length;r<a;++r)dl(h=s[r])||dc(h)||(d=px(f,c.data,c.gc,d,h),p+=u)}else d=px(f,c.data,c.gc,d,s),p=u;g.push(d),y.push(p),b=Math.max(d,b),w=Math.max(p,w)}dy(m,e=>{let i;let n=e.gc,r=n.length/2;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}});let x=g.indexOf(b),_=y.indexOf(w),S=e=>({width:g[e]||0,height:y[e]||0});return{first:S(0),last:S(t-1),widest:S(x),highest:S(_),widths:g,heights:y}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return dZ(this._alignToPixels?p_(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=pF(this.getContext(),{tick:i,index:e,type:"tick"}))}return this.$context||(this.$context=pF(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let e=this.options.ticks,t=dz(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,s=r?r.widest.width+a:0,o=r?r.highest.height+a:0;return this.isHorizontal()?o*i>s*n?s/i:o/n:o*n<s*i?o/i:s/n}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,i,n,r,a,s,o,l,c,u,d,p;let h=this.axis,f=this.chart,m=this.options,{grid:g,position:y,border:v}=m,b=g.offset,w=this.isHorizontal(),x=this.ticks.length+(b?1:0),_=fS(g),S=[],k=v.setContext(this.getContext()),R=k.display?k.width:0,E=R/2,T=function(e){return p_(f,e,R)};if("top"===y)t=T(this.bottom),s=this.bottom-_,l=t-E,u=T(e.top)+E,p=e.bottom;else if("bottom"===y)t=T(this.top),u=e.top,p=T(e.bottom)-E,s=t+E,l=this.top+_;else if("left"===y)t=T(this.right),a=this.right-_,o=t-E,c=T(e.left)+E,d=e.right;else if("right"===y)t=T(this.left),c=e.left,d=T(e.right)-E,a=t+E,o=this.left+_;else if("x"===h){if("center"===y)t=T((e.top+e.bottom)/2+.5);else if(du(y)){let e=Object.keys(y)[0],i=y[e];t=T(this.chart.scales[e].getPixelForValue(i))}u=e.top,p=e.bottom,l=(s=t+E)+_}else if("y"===h){if("center"===y)t=T((e.left+e.right)/2);else if(du(y)){let e=Object.keys(y)[0],i=y[e];t=T(this.chart.scales[e].getPixelForValue(i))}o=(a=t-E)-_,c=e.left,d=e.right}let C=dh(m.ticks.maxTicksLimit,x),P=Math.max(1,Math.ceil(x/C));for(i=0;i<x;i+=P){let e=this.getContext(i),t=g.setContext(e),h=v.setContext(e),m=t.lineWidth,y=t.color,x=h.dash||[],_=h.dashOffset,k=t.tickWidth,R=t.tickColor,E=t.tickBorderDash||[],T=t.tickBorderDashOffset;void 0!==(n=function(e,t,i){let n;let r=e.ticks.length,a=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,l=e.getPixelForTick(a);if(!i||(n=1===r?Math.max(l-s,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(a-1))/2,!((l+=a<t?n:-n)<s-1e-6)&&!(l>o+1e-6)))return l}(this,i,b))&&(r=p_(f,n,m),w?a=o=c=d=r:s=l=u=p=r,S.push({tx1:a,ty1:s,tx2:o,ty2:l,x1:c,y1:u,x2:d,y2:p,width:m,color:y,borderDash:x,borderDashOffset:_,tickWidth:k,tickColor:R,tickBorderDash:E,tickBorderDashOffset:T}))}return this._ticksLength=x,this._borderValue=t,S}_computeLabelItems(e){let t,i,n,r,a,s,o,l,c,u,d;let p=this.axis,h=this.options,{position:f,ticks:m}=h,g=this.isHorizontal(),y=this.ticks,{align:v,crossAlign:b,padding:w,mirror:x}=m,_=fS(h.grid),S=_+w,k=x?-w:S,R=-dz(this.labelRotation),E=[],T="middle";if("top"===f)a=this.bottom-k,s=this._getXAxisLabelAlignment();else if("bottom"===f)a=this.top+k,s=this._getXAxisLabelAlignment();else if("left"===f){let e=this._getYAxisLabelAlignment(_);s=e.textAlign,r=e.x}else if("right"===f){let e=this._getYAxisLabelAlignment(_);s=e.textAlign,r=e.x}else if("x"===p){if("center"===f)a=(e.top+e.bottom)/2+S;else if(du(f)){let e=Object.keys(f)[0],t=f[e];a=this.chart.scales[e].getPixelForValue(t)+S}s=this._getXAxisLabelAlignment()}else if("y"===p){if("center"===f)r=(e.left+e.right)/2-S;else if(du(f)){let e=Object.keys(f)[0],t=f[e];r=this.chart.scales[e].getPixelForValue(t)}s=this._getYAxisLabelAlignment(_).textAlign}"y"===p&&("start"===v?T="top":"end"===v&&(T="bottom"));let C=this._getLabelSizes();for(t=0,i=y.length;t<i;++t){let e;n=y[t].label;let p=m.setContext(this.getContext(t));o=this.getPixelForTick(t)+m.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;let h=(u=dc(n)?n.length:1)/2,v=p.color,w=p.textStrokeColor,_=p.textStrokeWidth,S=s;if(g?(r=o,"inner"===s&&(S=t===i-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),d="top"===f?"near"===b||0!==R?-u*c+c/2:"center"===b?-C.highest.height/2-h*c+c:-C.highest.height+c/2:"near"===b||0!==R?c/2:"center"===b?C.highest.height/2-h*c:C.highest.height-u*c,x&&(d*=-1),0===R||p.showLabelBackdrop||(r+=c/2*Math.sin(R))):(a=o,d=(1-u)*c/2),p.showLabelBackdrop){let n=pU(p.backdropPadding),r=C.heights[t],a=C.widths[t],o=d-n.top,l=0-n.left;switch(T){case"middle":o-=r/2;break;case"bottom":o-=r}switch(s){case"center":l-=a/2;break;case"right":l-=a;break;case"inner":t===i-1?l-=a:t>0&&(l-=a/2)}e={left:l,top:o,width:a+n.width,height:r+n.height,color:p.backdropColor}}E.push({label:n,font:l,textOffset:d,options:{rotation:R,color:v,strokeColor:w,strokeWidth:_,textAlign:S,textBaseline:T,translation:[r,a],backdrop:e}})}return E}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-dz(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){let t,i;let{position:n,ticks:{crossAlign:r,mirror:a,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,c=o.widest.width;return"left"===n?a?(i=this.right+s,"near"===r?t="left":"center"===r?(t="center",i+=c/2):(t="right",i+=c)):(i=this.right-l,"near"===r?t="right":"center"===r?(t="center",i-=c/2):(t="left",i=this.left)):"right"===n?a?(i=this.left+s,"near"===r?t="right":"center"===r?(t="center",i-=c/2):(t="left",i-=c)):(i=this.left+l,"near"===r?t="left":"center"===r?(t="center",i+=c/2):(t="right",i=this.right)):t="right",{textAlign:t,x:i}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:n,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,r,a),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(t=>t.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t,i;let n=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s=(e,t,i)=>{i.width&&i.color&&(r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.setLineDash(i.borderDash||[]),r.lineDashOffset=i.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(n.display)for(t=0,i=a.length;t<i;++t){let e=a[t];n.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),n.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,i,n;let{chart:r,ctx:a,options:{border:s,grid:o}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;let u=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(e=p_(r,this.left,c)-c/2,t=p_(r,this.right,u)+u/2,i=n=d):(i=p_(r,this.top,c)-c/2,n=p_(r,this.bottom,u)+u/2,e=t=d),a.save(),a.lineWidth=l.width,a.strokeStyle=l.color,a.beginPath(),a.moveTo(e,i),a.lineTo(t,n),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,i=this._computeLabelArea();for(let n of(i&&pE(t,i),this.getLabelItems(e))){let e=n.options,i=n.font;pA(t,n.label,0,n.textOffset,i,e)}i&&function(e){e.restore()}(t)}drawTitle(){let e;let{ctx:t,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;let a=pq(n.font),s=pU(n.padding),o=n.align,l=a.lineHeight/2;"bottom"===i||"center"===i||du(i)?(l+=s.bottom,dc(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:p}=function(e,t,i,n){let r,a,s;let{top:o,left:l,bottom:c,right:u,chart:d}=e,{chartArea:p,scales:h}=d,f=0,m=c-o,g=u-l;if(e.isHorizontal()){if(a=d9(n,l,u),du(i)){let e=Object.keys(i)[0],n=i[e];s=h[e].getPixelForValue(n)+m-t}else s="center"===i?(p.bottom+p.top)/2+m-t:fw(e,i,t);r=u-l}else{if(du(i)){let e=Object.keys(i)[0],n=i[e];a=h[e].getPixelForValue(n)-g+t}else a="center"===i?(p.left+p.right)/2-g+t:fw(e,i,t);s=d9(n,c,o),f="left"===i?-dD:dD}return{titleX:a,titleY:s,maxWidth:r,rotation:f}}(this,l,i,o);pA(t,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:p,textAlign:(e=d7(o),(r&&"right"!==i||!r&&"right"===i)&&(e=fb(e)),e),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=dh(e.grid&&e.grid.z,-1),n=dh(e.border&&e.border.z,0);return this._isVisible()&&this.draw===fR.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,i;let n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];for(t=0,i=n.length;t<i;++t){let i=n[t];i[r]!==this.id||e&&i.type!==e||a.push(i)}return a}_resolveTickFontOptions(e){return pq(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fE{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t;let i=Object.getPrototypeOf(e);"id"in i&&"defaults"in i&&(t=this.register(i));let n=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw Error("class does not have id: "+e);return r in n||(n[r]=e,function(e,t,i){let n=d_(Object.create(null),[i?pw.get(i):{},pw.get(t),e.defaults]);pw.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(i=>{let n=i.split("."),r=n.pop(),a=[e].concat(n).join("."),s=t[i].split("."),o=s.pop(),l=s.join(".");pw.route(a,r,l,o)})}(t,e.defaultRoutes),e.descriptors&&pw.describe(t,e.descriptors)}(e,a,t),this.override&&pw.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in pw[n]&&(delete pw[n][i],this.override&&delete pm[i])}}class fT{constructor(){this.controllers=new fE(hN,"datasets",!0),this.elements=new fE(fy,"elements"),this.plugins=new fE(Object,"plugins"),this.scales=new fE(fR,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(t=>{let n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):dy(t,t=>{let n=i||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,i){let n=dT(e);dg(i["before"+n],[],i),t[e](i),dg(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let n=t.get(e);if(void 0===n)throw Error('"'+e+'" is not a registered '+i+".");return n}}var fC=new fT;class fP{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let r=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(r,e,t,i);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,n){for(let r of(n=n||{},e)){let e=r.plugin;if(!1===dg(e[i],[t,n,r.options],e)&&n.cancelable)return!1}return!0}invalidate(){dl(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,n=dh(i.options&&i.options.plugins,{}),r=function(e){let t={},i=[],n=Object.keys(fC.plugins.items);for(let e=0;e<n.length;e++)i.push(fC.getPlugin(n[e]));let r=e.plugins||[];for(let e=0;e<r.length;e++){let n=r[e];-1===i.indexOf(n)&&(i.push(n),t[n.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,{plugins:t,localIds:i},n,r){let a=[],s=e.getContext();for(let l of t){var o;let t=l.id,c=(o=n[t],r||!1!==o?!0===o?{}:o:null);null!==c&&a.push({plugin:l,options:function(e,{plugin:t,local:i},n,r){let a=e.pluginScopeKeys(t),s=e.getOptionScopes(n,a);return i&&t.defaults&&s.push(t.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:l,local:i[t]},c,s)})}return a}(e,r,n,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function fA(e,t){let i=pw.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function fO(e){if("x"===e||"y"===e||"r"===e)return e}function fI(e,...t){if(fO(e))return e;for(let n of t){var i;let t=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&fO(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function fN(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function fj(e){let t=e.options||(e.options={});t.plugins=dh(t.plugins,{}),t.scales=function(e,t){let i=pm[e.type]||{scales:{}},n=t.scales||{},r=fA(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{let s=n[t];if(!du(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=fI(t,s,function(e,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(i.length)return fN(e,"x",i[0])||fN(e,"y",i[0])}return{}}(t,e),pw.scales[s.type]),l=o===r?"_index_":"_value_",c=i.scales||{};a[t]=dS(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(i=>{let r=i.type||e.type,s=i.indexAxis||fA(r,t),o=(pm[r]||{}).scales||{};Object.keys(o).forEach(e=>{let t;let r=(t=e,"_index_"===e?t=s:"_value_"===e&&(t="x"===s?"y":"x"),t),l=i[r+"AxisID"]||r;a[l]=a[l]||Object.create(null),dS(a[l],[{axis:r},n[l],o[e]])})}),Object.keys(a).forEach(e=>{let t=a[e];dS(t,[pw.scales[t.type],pw.scale])}),a}(e,t)}function fL(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let fD=new Map,fM=new Set;function fU(e,t){let i=fD.get(e);return i||(i=t(),fD.set(e,i),fM.add(i)),i}let fq=(e,t,i)=>{let n=dE(t,i);void 0!==n&&e.add(n)};class f${constructor(e){this._config=function(e){return(e=e||{}).data=fL(e.data),fj(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),fj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fU(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return fU(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return fU(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return fU(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){let{options:n,type:r}=this,a=this._cachedScopes(e,i),s=a.get(t);if(s)return s;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>fq(o,e,t))),t.forEach(e=>fq(o,n,e)),t.forEach(e=>fq(o,pm[r]||{},e)),t.forEach(e=>fq(o,pw,e)),t.forEach(e=>fq(o,pg,e))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),fM.has(t)&&a.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,pm[t]||{},pw.datasets[t]||{},{type:t},pw,pg]}resolveNamedOptions(e,t,i,n=[""]){let r={$shared:!0},{resolver:a,subPrefixes:s}=fF(this._resolverCache,e,n),o=a;if(function(e,t){let{isScriptable:i,isIndexable:n}=pV(e);for(let r of t){let t=i(r),a=n(r),s=(a||t)&&e[r];if(t&&(dP(s)||fK(s))||a&&dc(s))return!0}return!1}(a,t)){r.$shared=!1,i=dP(i)?i():i;let t=this.createResolver(e,i,s);o=pB(a,i,t)}for(let e of t)r[e]=o[e];return r}createResolver(e,t,i=[""],n){let{resolver:r}=fF(this._resolverCache,e,i);return du(t)?pB(r,t,void 0,n):r}}function fF(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));let r=i.join(),a=n.get(r);return a||(a={resolver:pK(t,i),subPrefixes:i.filter(e=>!e.toLowerCase().includes("hover"))},n.set(r,a)),a}let fK=e=>du(e)&&Object.getOwnPropertyNames(e).some(t=>dP(e[t])),fB=["top","bottom","left","right","chartArea"];function fV(e,t){return"top"===e||"bottom"===e||-1===fB.indexOf(e)&&"x"===t}function fz(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function fW(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),dg(i&&i.onComplete,[e],t)}function fH(e){let t=e.chart,i=t.options.animation;dg(i&&i.onProgress,[e],t)}function fG(e){return p4()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let fJ={},fY=e=>{let t=fG(e);return Object.values(fJ).filter(e=>e.canvas===t).pop()};function fX(e,t,i){return e.options.clip?e[i]:t[i]}class fZ{static defaults=pw;static instances=fJ;static overrides=pm;static registry=fC;static version="4.4.2";static getChart=fY;static register(...e){fC.add(...e),fQ()}static unregister(...e){fC.remove(...e),fQ()}constructor(e,t){let i=this.config=new f$(t),n=fG(e),r=fY(n);if(r)throw Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||(!p4()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?fi:fg)),this.platform.updateConfig(i);let s=this.platform.acquireContext(n,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;if(this.id=ds(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],fJ[this.id]=this,!s||!o){console.error("Failed to create chart: can't acquire context from the given item");return}hy.listen(this,"complete",fW),hy.listen(this,"progress",fH),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:r}=this;return dl(e)?t&&r?r:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fC}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pS(this.canvas,this.ctx),this}stop(){return hy.stop(this),this}resize(e,t){hy.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,r),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,hn(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),dg(i.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){dy(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((e,t)=>(e[t]=!1,e),{}),r=[];t&&(r=r.concat(Object.keys(t).map(e=>{let i=t[e],n=fI(e,i),r="r"===n,a="x"===n;return{options:i,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),dy(r,t=>{let r=t.options,a=r.id,s=fI(a,r),o=dh(r.type,t.dtype);(void 0===r.position||fV(r.position,s)!==fV(t.dposition))&&(r.position=t.dposition),n[a]=!0;let l=null;a in i&&i[a].type===o?l=i[a]:i[(l=new(fC.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this})).id]=l,l.init(r,e)}),dy(n,(e,t)=>{e||delete i[t]}),dy(i,e=>{fe.configure(this,e,e.options),fe.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((e,t)=>e.index-t.index),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(fz("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,i)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e,t;let i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=n.length;e<t;e++){let t=n[e],r=this.getDatasetMeta(e),a=t.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(e),r=this.getDatasetMeta(e)),r.type=a,r.indexAxis=t.indexAxis||fA(a,this.options),r.order=t.order||0,r.index=e,r.label=""+t.label,r.visible=this.isDatasetVisible(e),r.controller)r.controller.updateIndex(e),r.controller.linkScales();else{let t=fC.getController(a),{datasetElementType:n,dataElementType:s}=pw.datasets[a];Object.assign(t,{dataElementType:fC.getElement(s),datasetElementType:n&&fC.getElement(n)}),r.controller=new t(this,e),i.push(r.controller)}}return this._updateMetasets(),i}_resetElements(){dy(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),i=!n&&-1===r.indexOf(t);t.buildOrUpdateElements(i),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),n||dy(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fz("z","_idx"));let{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){dy(this.scales,e=>{fe.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;dA(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:t,start:i,count:n}of this._getUniformDataChanges()||[])!function(e,t,i){for(let n of Object.keys(e)){let r=+n;if(r>=t){let a=e[n];delete e[n],(i>0||r>t)&&(e[r+i]=a)}}}(e,i,"_removeElements"===t?-n:n)}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,i=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=i(0);for(let e=1;e<t;e++)if(!dA(n,i(e)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fe.update(this,this.width,this.height,e);let t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],dy(this.boxes,e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,dP(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hy.has(this)?this.attached&&!hy.running(this)&&hy.start(this):(this.draw(),fW({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,i;let n=this._sortedMetasets,r=[];for(t=0,i=n.length;t<i;++t){let i=n[t];(!e||i.visible)&&r.push(i)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,i=e._clip,n=!i.disabled,r=function(e,t){let{xScale:i,yScale:n}=e;return i&&n?{left:fX(i,t,"left"),right:fX(i,t,"right"),top:fX(n,t,"top"),bottom:fX(n,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(n&&pE(t,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),e.controller.draw(),n&&function(e){e.restore()}(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return pR(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){let r=h0.modes[t];return"function"==typeof r?r(this,e,i,n):[]}getDatasetMeta(e){let t=this.data.datasets[e],i=this._metasets,n=i.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=pF(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){let n=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,n);dC(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),hy.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pS(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fJ[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};dy(this.options.events,e=>i(e,n))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,n=(e,n)=>{i.addEventListener(this,e,n),t[e]=n},r=(e,n)=>{t[e]&&(i.removeEventListener(this,e,n),delete t[e])},a=(e,t)=>{this.canvas&&this.resize(e,t)},s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",a),n("detach",e)};e=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",s)},i.isAttached(this.canvas)?s():e()}unbindEvents(){dy(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},dy(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){let n,r,a;let s=i?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+s+"DatasetHoverStyle"](),r=0,a=e.length;r<a;++r){let t=(n=e[r])&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[s+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],i=e.map(({datasetIndex:e,index:t})=>{let i=this.getDatasetMeta(e);if(!i)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}});dv(i,t)||(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){let n=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),s=i?e:r(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){let i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;let r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){var n;let{_active:r=[],options:a}=this,s=this._getActiveElements(e,r,i,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,l=(n=this._lastEvent,i&&"mouseout"!==e.type?o?n:e:null);i&&(this._lastEvent=null,dg(a.onHover,[e,s,this],this),o&&dg(a.onClick,[e,s,this],this));let c=!dv(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;let r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function fQ(){return dy(fZ.instances,e=>e._plugins.invalidate())}function f0(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function f1(e,t,i,n,r,a){let{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+n+i-c,0),p=u>0?u+n+i+c:0,h=0,f=r-l;if(n){let e=d>0?d-n:0,t=((u>0?u-n:0)+e)/2;h=(f-(0!==t?f*t/(t+n):f))/2}let m=Math.max(.001,f*d-i/dO)/d,g=(f-m)/2,y=l+g+h,v=r-g-h,{outerStart:b,outerEnd:w,innerStart:x,innerEnd:_}=function(e,t,i,n){let r=pL(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(i-t)/2,s=Math.min(a,n*t/2),o=e=>{let t=(i-Math.min(a,e))*n/2;return dZ(e,0,Math.min(a,t))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:dZ(r.innerStart,0,s),innerEnd:dZ(r.innerEnd,0,s)}}(t,p,d,v-y),S=d-b,k=d-w,R=y+b/S,E=v-w/k,T=p+x,C=p+_,P=y+x/T,A=v-_/C;if(e.beginPath(),a){let t=(R+E)/2;if(e.arc(s,o,d,R,t),e.arc(s,o,d,t,E),w>0){let t=f0(k,E,s,o);e.arc(t.x,t.y,w,E,v+dD)}let i=f0(C,v,s,o);if(e.lineTo(i.x,i.y),_>0){let t=f0(C,A,s,o);e.arc(t.x,t.y,_,v+dD,A+Math.PI)}let n=(v-_/p+(y+x/p))/2;if(e.arc(s,o,p,v-_/p,n,!0),e.arc(s,o,p,n,y+x/p,!0),x>0){let t=f0(T,P,s,o);e.arc(t.x,t.y,x,P+Math.PI,y-dD)}let r=f0(S,y,s,o);if(e.lineTo(r.x,r.y),b>0){let t=f0(S,R,s,o);e.arc(t.x,t.y,b,y-dD,R)}}else{e.moveTo(s,o);let t=Math.cos(R)*d+s,i=Math.sin(R)*d+o;e.lineTo(t,i);let n=Math.cos(E)*d+s,r=Math.sin(E)*d+o;e.lineTo(n,r)}e.closePath()}class f2 extends fy{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let{angle:n,distance:r}=dH(this.getProps(["x","y"],i),{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:o,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,d=dh(c,s-a)>=dI||dX(n,a,s),p=dQ(r,o+u,l+u);return d&&p}getCenterPoint(e){let{x:t,y:i,startAngle:n,endAngle:r,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+r)/2,u=(a+s+l+o)/2;return{x:t+Math.cos(c)*u,y:i+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>dI?Math.floor(i/dI):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);let o=n*(1-Math.sin(Math.min(dO,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,i,n,r){let{fullCircles:a,startAngle:s,circumference:o}=t,l=t.endAngle;if(a){f1(e,t,i,n,l,r);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+(o%dI||dI))}f1(e,t,i,n,l,r),e.fill()}(e,this,o,r,a),function(e,t,i,n,r){let{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:p}=l,h="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=p,h?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(a){f1(e,t,i,n,f,r);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(f=s+(o%dI||dI))}h&&function(e,t,i){let{startAngle:n,pixelMargin:r,x:a,y:s,outerRadius:o,innerRadius:l}=t,c=r/o;e.beginPath(),e.arc(a,s,o,n-c,i+c),l>r?(c=r/l,e.arc(a,s,l,i+c,n-c,!0)):e.arc(a,s,r,i+dD,n-dD),e.closePath(),e.clip()}(e,t,f),a||(f1(e,t,i,n,f,r),e.stroke())}(e,this,o,r,a),e.restore()}}function f3(e,t,i=t){e.lineCap=dh(i.borderCapStyle,t.borderCapStyle),e.setLineDash(dh(i.borderDash,t.borderDash)),e.lineDashOffset=dh(i.borderDashOffset,t.borderDashOffset),e.lineJoin=dh(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=dh(i.borderWidth,t.borderWidth),e.strokeStyle=dh(i.borderColor,t.borderColor)}function f4(e,t,i){e.lineTo(i.x,i.y)}function f6(e,t,i={}){let n=e.length,{start:r=0,end:a=n-1}=i,{start:s,end:o}=t,l=Math.max(r,s),c=Math.min(a,o);return{count:n,start:l,loop:t.loop,ilen:c<l&&!(r<s&&a<s||r>o&&a>o)?n+c-l:c-l}}function f5(e,t,i,n){let r,a,s;let{points:o,options:l}=t,{count:c,start:u,loop:d,ilen:p}=f6(o,i,n),h=l.stepped?pC:l.tension||"monotone"===l.cubicInterpolationMode?pP:f4,{move:f=!0,reverse:m}=n||{};for(r=0;r<=p;++r)(a=o[(u+(m?p-r:r))%c]).skip||(f?(e.moveTo(a.x,a.y),f=!1):h(e,s,a,m,l.stepped),s=a);return d&&h(e,s,a=o[(u+(m?p:0))%c],m,l.stepped),!!d}function f8(e,t,i,n){let r,a,s,o,l,c;let u=t.points,{count:d,start:p,ilen:h}=f6(u,i,n),{move:f=!0,reverse:m}=n||{},g=0,y=0,v=e=>(p+(m?h-e:e))%d,b=()=>{o!==l&&(e.lineTo(g,l),e.lineTo(g,o),e.lineTo(g,c))};for(f&&(a=u[v(0)],e.moveTo(a.x,a.y)),r=0;r<=h;++r){if((a=u[v(r)]).skip)continue;let t=a.x,i=a.y,n=0|t;n===s?(i<o?o=i:i>l&&(l=i),g=(y*g+t)/++y):(b(),e.lineTo(t,i),s=n,y=0,o=l=i),c=i}b()}function f7(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i?f5:f8}let f9="function"==typeof Path2D;class me extends fy{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){let n=i.spanGaps?this._loop:this._fullLoop;(function(e,t,i,n,r){let a,s,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let i,n,r;let a=p2(t),s=e.length,o=Array(s).fill(0),l=Array(s),c=p1(e,0);for(i=0;i<s;++i)if(n=r,r=c,c=p1(e,i+1),r){if(c){let e=c[t]-r[t];o[i]=0!==e?(c[a]-r[a])/e:0}l[i]=n?c?d$(o[i-1])!==d$(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}(function(e,t,i){let n,r,a,s,o;let l=e.length,c=p1(e,0);for(let u=0;u<l-1;++u)if(o=c,c=p1(e,u+1),o&&c){if(dF(t[u],0,p0)){i[u]=i[u+1]=0;continue}(s=Math.pow(n=i[u]/t[u],2)+Math.pow(r=i[u+1]/t[u],2))<=9||(a=3/Math.sqrt(s),i[u]=n*a*t[u],i[u+1]=r*a*t[u])}})(e,o,l),function(e,t,i="x"){let n,r,a;let s=p2(i),o=e.length,l=p1(e,0);for(let c=0;c<o;++c){if(r=a,a=l,l=p1(e,c+1),!a)continue;let o=a[i],u=a[s];r&&(n=(o-r[i])/3,a[`cp1${i}`]=o-n,a[`cp1${s}`]=u-n*t[c]),l&&(n=(l[i]-o)/3,a[`cp2${i}`]=o+n,a[`cp2${s}`]=u+n*t[c])}}(e,l,t)}(e,r);else{let i=n?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)l=function(e,t,i,n){let r=e.skip?t:e,a=i.skip?t:i,s=dG(t,r),o=dG(a,t),l=s/(s+o),c=o/(s+o);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let u=n*l,d=n*c;return{previous:{x:t.x-u*(a.x-r.x),y:t.y-u*(a.y-r.y)},next:{x:t.x+d*(a.x-r.x),y:t.y+d*(a.y-r.y)}}}(i,o=e[a],e[Math.min(a+1,s-(n?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,i=o}t.capBezierPoints&&function(e,t){let i,n,r,a,s;let o=pR(e[0],t);for(i=0,n=e.length;i<n;++i)s=a,a=o,o=i<n-1&&pR(e[i+1],t),a&&(r=e[i],s&&(r.cp1x=p3(r.cp1x,t.left,t.right),r.cp1y=p3(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=p3(r.cp2x,t.left,t.right),r.cp2y=p3(r.cp2y,t.top,t.bottom)))}(e,i)})(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let i=e.points,n=e.options.spanGaps,r=i.length;if(!r)return[];let a=!!e._loop,{start:s,end:o}=function(e,t,i,n){let r=0,a=t-1;if(i&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,i&&(a+=r);a>r&&e[a%t].skip;)a--;return{start:r,end:a%=t}}(i,r,a,n);if(!0===n)return hf(e,[{start:s,end:o,loop:a}],i,t);let l=o<s?o+r:o,c=!!e._fullLoop&&0===s&&o===r-1;return hf(e,function(e,t,i,n){let r;let a=e.length,s=[],o=t,l=e[t];for(r=t+1;r<=i;++r){let i=e[r%a];i.skip||i.stop?l.skip||(n=!1,s.push({start:t%a,end:(r-1)%a,loop:n}),t=o=i.stop?r:null):(o=r,l.skip&&(t=r)),l=i}return null!==o&&s.push({start:t%a,end:o%a,loop:n}),s}(i,s,l,c),i,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){let i,n;let r=this.options,a=e[t],s=this.points,o=hh(this,{property:t,start:a,end:a});if(!o.length)return;let l=[],c=r.stepped?ho:r.tension||"monotone"===r.cubicInterpolationMode?hl:hs;for(i=0,n=o.length;i<n;++i){let{start:n,end:u}=o[i],d=s[n],p=s[u];if(d===p){l.push(d);continue}let h=Math.abs((a-d[t])/(p[t]-d[t])),f=c(d,p,h,r.stepped);f[t]=e[t],l.push(f)}return 1===l.length?l[0]:l}pathSegment(e,t,i){return f7(this)(e,this,t,i)}path(e,t,i){let n=this.segments,r=f7(this),a=this._loop;for(let s of(t=t||0,i=i||this.points.length-t,n))a&=r(e,this,s,{start:t,end:t+i-1});return!!a}draw(e,t,i,n){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),function(e,t,i,n){if(f9&&!t.options.segment){let r;(r=t._path)||(r=t._path=new Path2D,t.path(r,i,n)&&r.closePath()),f3(e,t.options),e.stroke(r)}else!function(e,t,i,n){let{segments:r,options:a}=t,s=f7(t);for(let o of r)f3(e,a,o.style),e.beginPath(),s(e,t,o,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}(e,t,i,n)}(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mt(e,t,i,n){let r=e.options,{[i]:a}=e.getProps([i],n);return Math.abs(t-a)<r.radius+r.hitRadius}class mi extends fy{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){let n=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return mt(this,e,"x",t)}inYRange(e,t){return mt(this,e,"y",t)}getCenterPoint(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0,i=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+i)*2}draw(e,t){let i=this.options;!this.skip&&!(i.radius<.1)&&pR(this,t,this.size(i)/2)&&(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,pk(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function mn(e,t){let i,n,r,a,s;let{x:o,y:l,base:c,width:u,height:d}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(s=d/2,i=Math.min(o,c),n=Math.max(o,c),r=l-s,a=l+s):(i=o-(s=u/2),n=o+s,r=Math.min(l,c),a=Math.max(l,c)),{left:i,top:r,right:n,bottom:a}}function mr(e,t,i,n){return e?0:dZ(t,i,n)}function ma(e,t,i,n){let r=null===t,a=null===i,s=e&&!(r&&a)&&mn(e,n);return s&&(r||dQ(t,s.left,s.right))&&(a||dQ(i,s.top,s.bottom))}function ms(e,t){e.rect(t.x,t.y,t.w,t.h)}function mo(e,t,i={}){let n=e.x!==i.x?-t:0,r=e.y!==i.y?-t:0,a=(e.x+e.w!==i.x+i.w?t:0)-n,s=(e.y+e.h!==i.y+i.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+a,h:e.h+s,radius:e.radius}}class ml extends fy{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=function(e){let t=mn(e),i=t.right-t.left,n=t.bottom-t.top,r=function(e,t,i){let n=e.options.borderWidth,r=e.borderSkipped,a=pD(n);return{t:mr(r.top,a.top,0,i),r:mr(r.right,a.right,0,t),b:mr(r.bottom,a.bottom,0,i),l:mr(r.left,a.left,0,t)}}(e,i/2,n/2),a=function(e,t,i){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=pM(r),s=Math.min(t,i),o=e.borderSkipped,l=n||du(r);return{topLeft:mr(!l||o.top||o.left,a.topLeft,0,s),topRight:mr(!l||o.top||o.right,a.topRight,0,s),bottomLeft:mr(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:mr(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}(this),o=(t=s.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?pO:ms;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),o(e,mo(s,i,a)),e.clip(),o(e,mo(a,-i,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,mo(a,i)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return ma(this,e,t,i)}inXRange(e,t){return ma(this,e,null,t)}inYRange(e,t){return ma(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function mc(e,t,i,n){if(n)return;let r=t[e],a=i[e];return"angle"===e&&(r=dY(r),a=dY(a)),{property:e,start:r,end:a}}function mu(e,t,i){for(;t>e;t--){let e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function md(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}e=>e.replace("rgb(","rgba(").replace(")",", 0.5)");function mp(e,t,i,n){let r=t.interpolate(i,n);r&&e.lineTo(r.x,r.y)}new WeakMap;let mh={average(e){let t,i;if(!e.length)return!1;let n=new Set,r=0,a=0;for(t=0,i=e.length;t<i;++t){let i=e[t].element;if(i&&i.hasValue()){let e=i.tooltipPosition();n.add(e.x),r+=e.y,++a}}return{x:[...n].reduce((e,t)=>e+t)/n.size,y:r/a}},nearest(e,t){let i,n,r;if(!e.length)return!1;let a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){let n=e[i].element;if(n&&n.hasValue()){let e=dG(t,n.getCenterPoint());e<o&&(o=e,r=n)}}if(r){let e=r.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function mf(e,t){return t&&(dc(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function mm(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function mg(e,t){let i=e.chart.ctx,{body:n,footer:r,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=pq(t.bodyFont),c=pq(t.titleFont),u=pq(t.footerFont),d=a.length,p=r.length,h=n.length,f=pU(t.padding),m=f.height,g=0,y=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);y+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y&&(m+=h*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-h)*l.lineHeight+(y-1)*t.bodySpacing),p&&(m+=t.footerMarginTop+p*u.lineHeight+(p-1)*t.footerSpacing);let v=0,b=function(e){g=Math.max(g,i.measureText(e).width+v)};return i.save(),i.font=c.string,dy(e.title,b),i.font=l.string,dy(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?s+2+t.boxPadding:0,dy(n,e=>{dy(e.before,b),dy(e.lines,b),dy(e.after,b)}),v=0,i.font=u.string,dy(e.footer,b),i.restore(),{width:g+=f.width,height:m}}function my(e,t,i){let n=i.yAlign||t.yAlign||function(e,t){let{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||function(e,t,i,n){let{x:r,width:a}=i,{width:s,chartArea:{left:o,right:l}}=e,c="center";return"center"===n?c=r<=(o+l)/2?"left":"right":r<=a/2?c="left":r>=s-a/2&&(c="right"),function(e,t,i,n){let{x:r,width:a}=n,s=i.caretSize+i.caretPadding;if("left"===e&&r+a+s>t.width||"right"===e&&r-a-s<0)return!0}(c,e,t,i)&&(c="center"),c}(e,t,i,n),yAlign:n}}function mv(e,t,i,n){let{caretSize:r,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=i,c=r+a,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:h}=pM(s),f=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,o),m=function(e,t,i){let{y:n,height:r}=e;return"top"===t?n+=i:"bottom"===t?n-=r+i:n-=r/2,n}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,p)+r:"right"===o&&(f+=Math.max(d,h)+r),{x:dZ(f,0,n.width-t.width),y:dZ(m,0,n.height-t.height)}}function mb(e,t,i){let n=pU(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function mw(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}let mx={beforeTitle:da,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:da,beforeBody:da,beforeLabel:da,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return dl(i)||(t+=i),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:da,afterBody:da,beforeFooter:da,footer:da,afterFooter:da};function m_(e,t,i,n){let r=e[t].call(i,n);return void 0===r?mx[t].call(i,n):r}class mS extends fy{static positioners=mh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,r=new hx(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=pF(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){let{callbacks:i}=t,n=m_(i,"beforeTitle",this,e),r=m_(i,"title",this,e),a=m_(i,"afterTitle",this,e),s=[];return s=mf(s,mm(n)),s=mf(s,mm(r)),s=mf(s,mm(a))}getBeforeBody(e,t){return mf([],mm(m_(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:i}=t,n=[];return dy(e,e=>{let t={before:[],lines:[],after:[]},r=mw(i,e);mf(t.before,mm(m_(r,"beforeLabel",this,e))),mf(t.lines,m_(r,"label",this,e)),mf(t.after,mm(m_(r,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return mf([],mm(m_(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:i}=t,n=m_(i,"beforeFooter",this,e),r=m_(i,"footer",this,e),a=m_(i,"afterFooter",this,e),s=[];return s=mf(s,mm(n)),s=mf(s,mm(r)),s=mf(s,mm(a))}_createItems(e){let t,i;let n=this._active,r=this.chart.data,a=[],s=[],o=[],l=[];for(t=0,i=n.length;t<i;++t)l.push(function(e,t){let{element:i,datasetIndex:n,index:r}=t,a=e.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(r);return{chart:e,label:s,parsed:a.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:i}}(this.chart,n[t]));return e.filter&&(l=l.filter((t,i,n)=>e.filter(t,i,n,r))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,r))),dy(l,t=>{let i=mw(e.callbacks,t);a.push(m_(i,"labelColor",this,t)),s.push(m_(i,"labelPointStyle",this,t)),o.push(m_(i,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){let i;let n=this.options.setContext(this.getContext()),r=this._active,a=[];if(r.length){let e=mh[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let t=this._size=mg(this,n),s=Object.assign({},e,t),o=my(this.chart,n,s),l=mv(n,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){let r=this.getCaretPosition(e,i,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){let n,r,a,s,o,l;let{xAlign:c,yAlign:u}=this,{caretSize:d,cornerRadius:p}=i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=pM(p),{x:y,y:v}=e,{width:b,height:w}=t;return"center"===u?(o=v+w/2,"left"===c?(r=(n=y)-d,s=o+d,l=o-d):(r=(n=y+b)+d,s=o-d,l=o+d),a=n):(r="left"===c?y+Math.max(h,m)+d:"right"===c?y+b-Math.max(f,g)-d:this.caretX,"top"===u?(o=(s=v)-d,n=r-d,a=r+d):(o=(s=v+w)+d,n=r+d,a=r-d),l=s),{x1:n,x2:r,x3:a,y1:s,y2:o,y3:l}}drawTitle(e,t,i){let n,r,a;let s=this.title,o=s.length;if(o){let l=hc(i.rtl,this.x,this.width);for(a=0,e.x=mb(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",n=pq(i.titleFont),r=i.titleSpacing,t.fillStyle=i.titleColor,t.font=n.string;a<o;++a)t.fillText(s[a],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+r,a+1===o&&(e.y+=i.titleMarginBottom-r)}}_drawColorBox(e,t,i,n,r){let a=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:o,boxWidth:l}=r,c=pq(r.bodyFont),u=mb(this,"left",r),d=n.x(u),p=o<c.lineHeight?(c.lineHeight-o)/2:0,h=t.y+p;if(r.usePointStyle){let t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},i=n.leftForLtr(d,l)+l/2,c=h+o/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,pk(e,t,i,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,pk(e,t,i,c)}else{e.lineWidth=du(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let t=n.leftForLtr(d,l),i=n.leftForLtr(n.xPlus(d,1),l-2),s=pM(a.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,pO(e,{x:t,y:h,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),pO(e,{x:i,y:h+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,h,l,o),e.strokeRect(t,h,l,o),e.fillStyle=a.backgroundColor,e.fillRect(i,h+1,l-2,o-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){let n,r,a,s,o,l,c;let{body:u}=this,{bodySpacing:d,bodyAlign:p,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:g}=i,y=pq(i.bodyFont),v=y.lineHeight,b=0,w=hc(i.rtl,this.x,this.width),x=function(i){t.fillText(i,w.x(e.x+b),e.y+v/2),e.y+=v+d},_=w.textAlign(p);for(t.textAlign=p,t.textBaseline="middle",t.font=y.string,e.x=mb(this,_,i),t.fillStyle=i.bodyColor,dy(this.beforeBody,x),b=h&&"right"!==_?"center"===p?m/2+g:m+2+g:0,s=0,l=u.length;s<l;++s){for(n=u[s],r=this.labelTextColors[s],t.fillStyle=r,dy(n.before,x),a=n.lines,h&&a.length&&(this._drawColorBox(t,e,s,w,i),v=Math.max(y.lineHeight,f)),o=0,c=a.length;o<c;++o)x(a[o]),v=y.lineHeight;dy(n.after,x)}b=0,v=y.lineHeight,dy(this.afterBody,x),e.y-=d}drawFooter(e,t,i){let n,r;let a=this.footer,s=a.length;if(s){let o=hc(i.rtl,this.x,this.width);for(e.x=mb(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=o.textAlign(i.footerAlign),t.textBaseline="middle",n=pq(i.footerFont),t.fillStyle=i.footerColor,t.font=n.string,r=0;r<s;++r)t.fillText(a[r],o.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){let{xAlign:r,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=i,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:h}=pM(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===a&&this.drawCaret(e,t,i,n),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===r&&this.drawCaret(e,t,i,n),t.lineTo(s+l,o+c-h),t.quadraticCurveTo(s+l,o+c,s+l-h,o+c),"bottom"===a&&this.drawCaret(e,t,i,n),t.lineTo(s+p,o+c),t.quadraticCurveTo(s,o+c,s,o+c-p),"center"===a&&"left"===r&&this.drawCaret(e,t,i,n),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){let i=mh[e.position].call(this,this._active,this._eventPosition);if(!i)return;let a=this._size=mg(this,e),s=Object.assign({},i,this._size),o=my(t,e,s),l=mv(e,s,o,t);(n._to!==l.x||r._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){var t,i,n,r;let a,s,o=this.options.setContext(this.getContext()),l=this.opacity;if(!l)return;this._updateAnimationTarget(o);let c={width:this.width,height:this.height},u={x:this.x,y:this.y};l=.001>Math.abs(l)?0:l;let d=pU(o.padding),p=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&p&&(e.save(),e.globalAlpha=l,this.drawBackground(u,e,c,o),t=e,("ltr"===(i=o.textDirection)||"rtl"===i)&&(s=[(a=t.canvas.style).getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",i,"important"),t.prevTextDirection=s),u.y+=d.top,this.drawTitle(u,e,o),this.drawBody(u,e,o),this.drawFooter(u,e,o),n=e,void 0!==(r=o.textDirection)&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",r[0],r[1])),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let i=this._active,n=e.map(({datasetIndex:e,index:t})=>{let i=this.chart.getDatasetMeta(e);if(!i)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}),r=!dv(i,n),a=this._positionChanged(n,t);(r||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let n=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,i),s=this._positionChanged(a,e),o=t||!dv(a,r)||s;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,i,n){let r=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:i,caretY:n,options:r}=this,a=mh[r.position].call(this,e,t);return!1!==a&&(i!==a.x||n!==a.y)}}let mk=(e,t,i,n)=>("string"==typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i),mR=(e,t)=>null===e?null:dZ(Math.round(e),0,t);function mE(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class mT extends fR{static id="category";static defaults={ticks:{callback:mE}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(dl(e))return null;let i=this.getLabels();return mR(t=isFinite(t)&&i[t]===e?t:function(e,t,i,n){let r=e.indexOf(t);return -1===r?mk(e,t,i,n):r!==e.lastIndexOf(t)?i:r}(i,e,dh(t,e),this._addedLabels),i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:i,max:n}=this.getMinMax(!0);"ticks"!==this.options.bounds||(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){let e=this.min,t=this.max,i=this.options.offset,n=[],r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return mE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function mC(e,t,{horizontal:i,minRotation:n}){let r=dz(n),a=.75*t*(""+e).length;return Math.min(t/((i?Math.sin(r):Math.cos(r))||.001),a)}class mP extends fR{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return dl(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:n,max:r}=this,a=e=>n=t?n:e,s=e=>r=i?r:e;if(e){let e=d$(n),t=d$(r);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(n===r){let t=0===r?1:Math.abs(.05*r);s(r+t),e||a(n-t)}this.min=n,this.max=r}getTickLimit(){let e;let{maxTicksLimit:t,stepSize:i}=this.options.ticks;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit(),n=function(e,t){let i,n,r,a;let s=[],{bounds:o,step:l,min:c,max:u,precision:d,count:p,maxTicks:h,maxDigits:f,includeBounds:m}=e,g=l||1,y=h-1,{min:v,max:b}=t,w=!dl(c),x=!dl(u),_=!dl(p),S=(b-v)/(f+1),k=dK((b-v)/y/g)*g;if(k<1e-14&&!w&&!x)return[{value:v},{value:b}];(a=Math.ceil(b/k)-Math.floor(v/k))>y&&(k=dK(a*k/y/g)*g),dl(d)||(k=Math.ceil(k*(i=Math.pow(10,d)))/i),"ticks"===o?(n=Math.floor(v/k)*k,r=Math.ceil(b/k)*k):(n=v,r=b),w&&x&&l&&function(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}((u-c)/l,k/1e3)?(a=Math.round(Math.min((u-c)/k,h)),k=(u-c)/a,n=c,r=u):_?(n=w?c:n,k=((r=x?u:r)-n)/(a=p-1)):a=dF(a=(r-n)/k,Math.round(a),k/1e3)?Math.round(a):Math.ceil(a);let R=Math.max(dW(k),dW(n));n=Math.round(n*(i=Math.pow(10,dl(d)?R:d)))/i,r=Math.round(r*i)/i;let E=0;for(w&&(m&&n!==c?(s.push({value:c}),n<c&&E++,dF(Math.round((n+E*k)*i)/i,c,mC(c,S,e))&&E++):n<c&&E++);E<a;++E){let e=Math.round((n+E*k)*i)/i;if(x&&e>u)break;s.push({value:e})}return x&&m&&r!==u?s.length&&dF(s[s.length-1].value,u,mC(u,S,e))?s[s.length-1].value=u:s.push({value:u}):x&&r!==u||s.push({value:r}),s}({maxTicks:i=Math.max(2,i),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&dV(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return pp(e,this.chart.options.locale,this.options.ticks.format)}}class mA extends mP{static id="linear";static defaults={ticks:{callback:pf.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=dd(e)?e:0,this.max=dd(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=dz(this.options.ticks.minRotation);return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/((e?Math.sin(i):Math.cos(i))||.001)))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let mO=e=>Math.floor(dq(e)),mI=(e,t)=>Math.pow(10,mO(e)+t);function mN(e){return 1==e/Math.pow(10,mO(e))}function mj(e,t,i){let n=Math.pow(10,i);return Math.ceil(t/n)-Math.floor(e/n)}class mL extends fR{static id="logarithmic";static defaults={ticks:{callback:pf.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=mP.prototype.parse.apply(this,[e,t]);if(0===i){this._zero=!0;return}return dd(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=dd(e)?Math.max(0,e):null,this.max=dd(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!dd(this._userMin)&&(this.min=e===mI(this.min,0)?mI(this.min,-1):mI(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,n=this.max,r=t=>i=e?i:t,a=e=>n=t?n:e;i===n&&(i<=0?(r(1),a(10)):(r(mI(i,-1)),a(mI(n,1)))),i<=0&&r(mI(n,-1)),n<=0&&a(mI(i,1)),this.min=i,this.max=n}buildTicks(){let e=this.options,t=function(e,{min:t,max:i}){t=dp(e.min,t);let n=[],r=mO(t),a=function(e,t){let i=mO(t-e);for(;mj(e,t,i)>10;)i++;for(;10>mj(e,t,i);)i--;return Math.min(i,mO(e))}(t,i),s=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),l=r>a?Math.pow(10,r):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/o/10)*o*10,d=Math.floor((c-u)/Math.pow(10,a)),p=dp(e.min,Math.round((l+u+d*Math.pow(10,a))*s)/s);for(;p<i;)n.push({value:p,major:mN(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,s=++a>=0?1:s),p=Math.round((l+u+d*Math.pow(10,a))*s)/s;let h=dp(e.max,p);return n.push({value:h,major:mN(h),significand:d}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&dV(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":pp(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=dq(e),this._valueRange=dq(this.max)-dq(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(dq(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function mD(e){let t=e.ticks;if(t.display&&e.display){let e=pU(t.backdropPadding);return dh(t.font&&t.font.size,pw.font.size)+e.height}return 0}function mM(e,t,i,n,r){return e===n||e===r?{start:t-i/2,end:t+i/2}:e<n||e>r?{start:t-i,end:t}:{start:t,end:t+i}}function mU(e,t,i,n){let{ctx:r}=e;if(i)r.arc(e.xCenter,e.yCenter,t,0,dI);else{let i=e.getPointPosition(0,t);r.moveTo(i.x,i.y);for(let a=1;a<n;a++)i=e.getPointPosition(a,t),r.lineTo(i.x,i.y)}}class mq extends mP{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=pU(mD(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=dd(e)&&!isNaN(e)?e:0,this.max=dd(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mD(this.options))}generateTickLabels(e){mP.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let i=dg(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],r=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?dO/a:0;for(let u=0;u<a;u++){var l,c;let a=s.setContext(e.getPointLabelContext(u));r[u]=a.padding;let d=e.getPointPosition(u,e.drawingArea+r[u],o),p=pq(a.font),h=(l=e.ctx,c=dc(c=e._pointLabels[u])?c:[c],{w:function(e,t,i,n){let r,a,s,o,l;let c=(n=n||{}).data=n.data||{},u=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(c=n.data={},u=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let d=0,p=i.length;for(r=0;r<p;r++)if(null==(o=i[r])||dc(o)){if(dc(o))for(a=0,s=o.length;a<s;a++)null==(l=o[a])||dc(l)||(d=px(e,c,u,d,l))}else d=px(e,c,u,d,o);e.restore();let h=u.length/2;if(h>i.length){for(r=0;r<h;r++)delete c[u[r]];u.splice(0,h)}return d}(l,p.string,c),h:c.length*p.lineHeight});n[u]=h;let f=dY(e.getIndexAngle(u)+o),m=Math.round(180/dO*f);(function(e,t,i,n,r){let a=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),o=0,l=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),r.start<t.t?(l=(t.t-r.start)/s,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,e.b=Math.max(e.b,t.b+l))})(i,t,f,mM(m,d.x,h.w,0,180),mM(m,d.y,h.h,90,270))}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){let n;let r=[],a=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:mD(s)/2,additionalAngle:o?dO/a:0};for(let s=0;s<a;s++){c.padding=i[s],c.size=t[s];let a=function(e,t,i){var n,r,a,s;let o=e.drawingArea,{extra:l,additionalAngle:c,padding:u,size:d}=i,p=e.getPointPosition(t,o+l+u,c),h=Math.round(180/dO*dY(p.angle+dD)),f=(n=p.y,r=d.h,90===h||270===h?n-=r/2:(h>270||h<90)&&(n-=r),n),m=0===h||180===h?"center":h<180?"left":"right",g=(a=p.x,s=d.w,"right"===m?a-=s:"center"===m&&(a-=s/2),a);return{visible:!0,x:p.x,y:f,textAlign:m,left:g,top:f,right:g+d.w,bottom:f+d.h}}(e,s,c);r.push(a),"auto"===l&&(a.visible=function(e,t){if(!t)return!0;let{left:i,top:n,right:r,bottom:a}=e;return!(pR({x:i,y:n},t)||pR({x:i,y:a},t)||pR({x:r,y:n},t)||pR({x:r,y:a},t))}(a,n),a.visible&&(n=a))}return r}(e,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){return dY(dI/(this._pointLabels.length||1)*e+dz(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(dl(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(dl(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return pF(this.getContext(),{label:i,index:e,type:"pointLabel"})}}getPointPosition(e,t,i=0){let n=this.getIndexAngle(e)-dD+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:n,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:r}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),mU(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e,t,i;let n=this.ctx,r=this.options,{angleLines:a,grid:s,border:o}=r,l=this._pointLabels.length;if(r.pointLabels.display&&function(e,t){let{ctx:i,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){let t=e._pointLabelItems[r];if(!t.visible)continue;let a=n.setContext(e.getPointLabelContext(r));!function(e,t,i){let{left:n,top:r,right:a,bottom:s}=i,{backdropColor:o}=t;if(!dl(o)){let i=pM(t.borderRadius),l=pU(t.backdropPadding);e.fillStyle=o;let c=n-l.left,u=r-l.top,d=a-n+l.width,p=s-r+l.height;Object.values(i).some(e=>0!==e)?(e.beginPath(),pO(e,{x:c,y:u,w:d,h:p,radius:i}),e.fill()):e.fillRect(c,u,d,p)}}(i,a,t);let s=pq(a.font),{x:o,y:l,textAlign:c}=t;pA(i,e._pointLabels[r],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,l),s.display&&this.ticks.forEach((e,i)=>{if(0!==i||0===i&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let n=this.getContext(i),r=s.setContext(n),a=o.setContext(n);!function(e,t,i,n,r){let a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;(s||n)&&o&&l&&!(i<0)&&(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),mU(e,i,s,n),a.closePath(),a.stroke(),a.restore())}(this,r,t,l,a)}}),a.display){for(n.save(),e=l-1;e>=0;e--){let s=a.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:l}=s;l&&o&&(n.lineWidth=l,n.strokeStyle=o,n.setLineDash(s.borderDash),n.lineDashOffset=s.borderDashOffset,t=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),i=this.getPointPosition(e,t),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(i.x,i.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let e,t;let i=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;let a=this.getIndexAngle(0);i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(a),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((a,s)=>{if(0===s&&this.min>=0&&!n.reverse)return;let o=r.setContext(this.getContext(s)),l=pq(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){i.font=l.string,t=i.measureText(a.label).width,i.fillStyle=o.backdropColor;let n=pU(o.backdropPadding);i.fillRect(-t/2-n.left,-e-l.size/2-n.top,t+n.width,l.size+n.height)}pA(i,a.label,0,-e,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),i.restore()}drawTitle(){}}let m$={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mF=Object.keys(m$);function mK(e,t){return e-t}function mB(e,t){if(dl(t))return null;let i=e._adapter,{parser:n,round:r,isoWeekday:a}=e._parseOpts,s=t;return("function"==typeof n&&(s=n(s)),dd(s)||(s="string"==typeof n?i.parse(s,n):i.parse(s)),null===s)?null:(r&&(s="week"===r&&(dB(a)||!0===a)?i.startOf(s,"isoWeek",a):i.startOf(s,r)),+s)}function mV(e,t,i,n){let r=mF.length;for(let a=mF.indexOf(e);a<r-1;++a){let e=m$[mF[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(r*e.size))<=n)return mF[a]}return mF[r-1]}function mz(e,t,i){if(i){if(i.length){let{lo:n,hi:r}=d0(i,t);e[i[n]>=t?i[n]:i[r]]=!0}}else e[t]=!0}function mW(e,t,i){let n,r;let a=[],s={},o=t.length;for(n=0;n<o;++n)s[r=t[n]]=n,a.push({value:r,major:!1});return 0!==o&&i?function(e,t,i,n){let r,a;let s=e._adapter,o=+s.startOf(t[0].value,n),l=t[t.length-1].value;for(r=o;r<=l;r=+s.add(r,1,n))(a=i[r])>=0&&(t[a].major=!0);return t}(e,a,s,i):a}class mH extends fR{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let i=e.time||(e.time={}),n=this._adapter=new hJ._date(e.adapters.date);n.init(t),dS(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:mB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,i=e.time.unit||"day",{min:n,max:r,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),s||isNaN(e.max)||(r=Math.max(r,e.max))}a&&s||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),n=dd(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),r=dd(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){let e=this.options,t=e.time,i=e.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);let r=this.min,a=function(e,t,i){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>i;)r--;return n>0||r<e.length?e.slice(n,r):e}(n,r,this.max);return this._unit=t.unit||(i.autoSkip?mV(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,i,n,r){for(let a=mF.length-1;a>=mF.indexOf(i);a--){let i=mF[a];if(m$[i].common&&e._adapter.diff(r,n,i)>=t-1)return i}return mF[i?mF.indexOf(i):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=mF.indexOf(e)+1,i=mF.length;t<i;++t)if(m$[mF[t]].common)return mF[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),mW(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,i,n=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),n=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),r=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=dZ(n,0,a),r=dZ(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e,t;let i=this._adapter,n=this.min,r=this.max,a=this.options,s=a.time,o=s.unit||mV(s.minUnit,n,r,this._getLabelCapacity(n)),l=dh(a.ticks.stepSize,1),c="week"===o&&s.isoWeekday,u=dB(c)||!0===c,d={},p=n;if(u&&(p=+i.startOf(p,"isoWeek",c)),p=+i.startOf(p,u?"day":o),i.diff(r,n,o)>1e5*l)throw Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);let h="data"===a.ticks.source&&this.getDataTimestamps();for(e=p,t=0;e<r;e=+i.add(e,l,o),t++)mz(d,e,h);return(e===r||"ticks"===a.bounds||1===t)&&mz(d,e,h),Object.keys(d).sort(mK).map(e=>+e)}getLabelForValue(e){let t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){let i=this.options.time.displayFormats,n=this._unit,r=t||i[n];return this._adapter.format(e,r)}_tickFormatFunction(e,t,i,n){let r=this.options,a=r.ticks.callback;if(a)return dg(a,[e,t,i],this);let s=r.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],u=l&&s[l],d=i[t],p=l&&u&&d&&d.major;return this._adapter.format(e,n||(p?u:c))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)(n=e[t]).label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,i=this.ctx.measureText(e).width,n=dz(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),a=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*r+s*a,h:i*a+s*r}}_getLabelCapacity(e){let t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,mW(this,[e],this._majorUnit),n),a=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;let n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)i=i.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let e,t;let i=this._cache.labels||[];if(i.length)return i;let n=this.getLabels();for(e=0,t=n.length;e<t;++e)i.push(mB(this,n[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(e){return d6(e.sort(mK))}}function mG(e,t,i){let n,r,a,s,o=0,l=e.length-1;i?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=d1(e,"pos",t)),{pos:n,time:a}=e[o],{pos:r,time:s}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=d1(e,"time",t)),{time:n,pos:a}=e[o],{time:r,pos:s}=e[l]);let c=r-n;return c?a+(s-a)*(t-n)/c:a}class mJ extends mH{static id="timeseries";static defaults=mH.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=mG(t,this.min),this._tableRange=mG(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,i,n;let{min:r,max:a}=this,s=[],o=[];for(t=0,i=e.length;t<i;++t)(n=e[t])>=r&&n<=a&&s.push(n);if(s.length<2)return[{time:r,pos:0},{time:a,pos:1}];for(t=0,i=s.length;t<i;++t)Math.round((s[t+1]+s[t-1])/2)!==(n=s[t])&&o.push({time:n,pos:t/(i-1)});return o}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e}getDecimalForValue(e){return(mG(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return mG(this._table,i*this._tableRange+this._minPos,!0)}}let mY="label";function mX(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function mZ(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mY,n=[];e.datasets=t.map(t=>{let r=e.datasets.find(e=>e[i]===t[i]);return!r||!t.data||n.includes(r)?{...t}:(n.push(r),Object.assign(r,t),r)})}let mQ=(0,cM.forwardRef)(function(e,t){let{height:i=150,width:n=300,redraw:r=!1,datasetIdKey:a,type:s,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...p}=e,h=(0,cM.useRef)(null),f=(0,cM.useRef)(),m=()=>{h.current&&(f.current=new fZ(h.current,{type:s,data:function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mY,n={labels:[],datasets:[]};return t=e.labels,n.labels=t,mZ(n,e.datasets,i),n}(o,a),options:l&&{...l},plugins:c}),mX(t,f.current))},g=()=>{mX(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,cM.useEffect)(()=>{!r&&f.current&&l&&function(e,t){let i=e.options;i&&t&&Object.assign(i,t)}(f.current,l)},[r,l]),(0,cM.useEffect)(()=>{if(!r&&f.current){var e,t;e=f.current.config.data,t=o.labels,e.labels=t}},[r,o.labels]),(0,cM.useEffect)(()=>{!r&&f.current&&o.datasets&&mZ(f.current.config.data,o.datasets,a)},[r,o.datasets]),(0,cM.useEffect)(()=>{f.current&&(r?(g(),setTimeout(m)):f.current.update(d))},[r,l,o.labels,o.datasets,d]),(0,cM.useEffect)(()=>{f.current&&(g(),setTimeout(m))},[s]),(0,cM.useEffect)(()=>(m(),()=>g()),[]),cM.createElement("canvas",Object.assign({ref:h,role:"img",height:i,width:n},p),u)}),m0=(fZ.register(hK),(0,cM.forwardRef)((e,t)=>cM.createElement(mQ,Object.assign({},e,{ref:t,type:"line"})))),m1=({participant:e,trackType:t="audioTrack",...i})=>{let n=um(),[r,a]=(0,cM.useState)(null),{userId:s,sessionId:o}=e;return(0,cM.useEffect)(()=>{if(!n||!r)return;let e=n.bindAudioElement(r,o,t);return()=>{e?.()}},[n,o,r,t]),(0,cD.jsx)("audio",{autoPlay:!0,...i,ref:a,"data-user-id":s,"data-session-id":o,"data-track-type":t})},m2=e=>{let{participants:t,audioProps:i}=e;return(0,cD.jsx)(cD.Fragment,{children:t.map(e=>{if(e.isLocalParticipant)return null;let{publishedTracks:t,audioStream:n,screenShareAudioStream:r,sessionId:a}=e,s=t.includes(aD.TrackType.AUDIO)&&n&&(0,cD.jsx)(m1,{...i,trackType:"audioTrack",participant:e}),o=t.includes(aD.TrackType.SCREEN_SHARE_AUDIO)&&r&&(0,cD.jsx)(m1,{...i,trackType:"screenShareAudioTrack",participant:e});return(0,cD.jsxs)(cM.Fragment,{children:[s,o]},a)})})},m3=(0,cM.createContext)(void 0),m4=()=>(0,cM.useContext)(m3),m6=({imageSrc:e,name:t,style:i,className:n,...r})=>{let[a,s]=(0,cM.useState)(!1);return(0,cD.jsxs)(cD.Fragment,{children:[(!e||a)&&t&&(0,cD.jsx)(m5,{className:n,style:i,names:[t]}),e&&!a&&(0,cD.jsx)("img",{onError:()=>s(!0),alt:"avatar",className:(0,uD.Z)("str-video__avatar",n),src:e,style:i,...r})]})},m5=({className:e,names:t,style:i})=>(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__avatar--initials-fallback",e),style:i,children:(0,cD.jsxs)("div",{children:[t[0][0],t[1]?.[0]]})}),m8=({placement:e,strategy:t,offset:i=10})=>{let{refs:n,x:r,y:a,update:s,elements:{domReference:o,floating:l}}=(0,uM.YF)({placement:e,strategy:t,middleware:[(0,uU.cv)(i),(0,uq.uY)(),(0,uq.RR)(),(0,uq.dp)({padding:10,apply:({availableHeight:e,elements:t})=>{Object.assign(t.floating.style,{maxHeight:`${e}px`})}})]});return(0,cM.useEffect)(()=>{if(!o||!l)return;let e=(0,uq.Me)(o,l,s);return()=>e()},[o,l,s]),{refs:n,x:r,y:a,domReference:o,floating:l,strategy:t}},m7=10,m9=(e,t=m7)=>{let[i,n]=(0,cM.useState)(null);return(0,cM.useEffect)(()=>{if(!e)return;let i=()=>e.scrollHeight>e.clientHeight?e.scrollTop<=t?n("top"):Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<=t?n("bottom"):void n("between"):n(null),r=new ResizeObserver(i);return r.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),r.disconnect()}},[e,t]),i},ge=(e,t=m7)=>{let[i,n]=(0,cM.useState)(null);return(0,cM.useEffect)(()=>{if(!e)return;let i=()=>e.scrollWidth>e.clientWidth?e.scrollLeft<=t?n("start"):Math.abs(e.scrollWidth-e.scrollLeft-e.clientWidth)<=t?n("end"):void n("between"):n(null),r=new ResizeObserver(i);return r.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),r.disconnect()}},[e,t]),i},gt=()=>{let e=um(),{useIsCallRecordingInProgress:t}=uj(),i=t(),[n,r]=(0,cM.useState)(!1);return(0,cM.useEffect)(()=>{r(e=>!e&&e)},[i]),{toggleCallRecording:(0,cM.useCallback)(async()=>{try{r(!0),i?await e?.stopRecording():await e?.startRecording()}catch(e){console.error("Failed start recording",e)}},[e,i]),isAwaitingResponse:n,isCallRecordingInProgress:i}},gi=e=>{let t=um(),{useHasPermissions:i}=uj(),n=i(e),[r,a]=(0,cM.useState)(!1);return(0,cM.useEffect)(()=>{n&&a(!1)},[n]),{requestPermission:(0,cM.useCallback)(async()=>{if(n)return!0;let i=!!t?.permissionsContext.canRequest(e);if(r||!i)return!1;a(!0);try{await t?.requestPermissions({permissions:[e]})}catch(e){throw a(!1),Error(`requestPermission failed: ${e}`)}return!1},[t,n,r,e]),hasPermission:n,canRequestPermission:!!t?.permissionsContext.canRequest(e),isAwaitingPermission:r}};!function(e){e.PORTAL="portal",e.MENU="menu"}(N||(N={}));let gn=(0,cM.createContext)({}),gr=()=>(0,cM.useContext)(gn),ga=({children:e,refs:t})=>{let i=(0,cM.useMemo)(()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`,[]);return(0,cD.jsxs)(cD.Fragment,{children:[(0,cD.jsx)("div",{id:i,className:"str-video__portal"}),(0,cD.jsx)(uM.y0,{children:(0,cD.jsx)(uM.ll,{id:i,children:(0,cD.jsx)("div",{className:"str-video__portal-content",ref:t.setFloating,children:e})})})]})},gs=({ToggleButton:e,placement:t="top-start",strategy:i="absolute",offset:n,visualType:r=N.MENU,children:a})=>{let[s,o]=(0,cM.useState)(!1),{floating:l,domReference:c,refs:u,x:d,y:p}=m8({placement:t,strategy:i,offset:n});return(0,cM.useEffect)(()=>{let e=e=>{!l&&c?.contains(e.target)?o(!0):l&&!l?.contains(e.target)&&o(!1)},t=e=>{"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||o(!1)};return document?.addEventListener("click",e,{capture:!0}),document?.addEventListener("keydown",t),()=>{document?.removeEventListener("click",e,{capture:!0}),document?.removeEventListener("keydown",t)}},[l,c]),(0,cD.jsxs)(cD.Fragment,{children:[s&&(0,cD.jsx)(gn.Provider,{value:{close:()=>o(!1)},children:r===N.PORTAL?(0,cD.jsx)(ga,{refs:u,children:a}):r===N.MENU?(0,cD.jsx)("div",{className:"str-video__menu-container",ref:u.setFloating,style:{position:i,top:p??0,left:d??0,overflowY:"auto"},children:a}):null}),(0,cD.jsx)(e,{menuShown:s,ref:u.setReference})]})},go=({children:e,onItemClick:t})=>{let i=(0,cM.useRef)(null);return(0,cD.jsx)("ul",{className:"str-video__generic-menu",ref:i,onClick:e=>{t&&e.target!==i.current&&i.current?.contains(e.target)&&t(e)},children:e})},gl=({children:e,...t})=>(0,cD.jsx)("li",{className:"str-video__generic-menu--item",children:(0,cD.jsx)("button",{...t,children:e})}),gc=({className:e,icon:t})=>(0,cD.jsx)("span",{className:(0,uD.Z)("str-video__icon",t&&`str-video__icon--${t}`,e)}),gu=(0,cM.forwardRef)(function(e,t){let{icon:i,enabled:n,variant:r,onClick:a,className:s,...o}=e;return(0,cD.jsx)("button",{className:(0,uD.Z)("str-video__call-controls__button",s,{[`str-video__call-controls__button--variant-${r}`]:r,"str-video__call-controls__button--enabled":n}),onClick:e=>{e.preventDefault(),a?.(e)},ref:t,...o,children:(0,cD.jsx)(gc,{icon:i})})}),gd=e=>null!==e&&!(0,cM.isValidElement)(e),gp=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(i,n)=>e.slice(t*n,t*n+t)),gh=(e,t)=>{if(e){if("function"==typeof e)return e(t);e.current=t}},gf=(0,cM.forwardRef)(function({caption:e,children:t,className:i,active:n,Menu:r,menuPlacement:a,menuOffset:s,title:o,ToggleMenuButton:l=gm,variant:c,onClick:u,...d},p){return(0,cD.jsxs)("div",{className:(0,uD.Z)("str-video__composite-button",i,{"str-video__composite-button--caption":e,"str-video__composite-button--menu":r}),title:o,ref:p,children:[(0,cD.jsxs)("div",{className:(0,uD.Z)("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":n,"str-video__composite-button__button-group--active-primary":n&&"primary"===c,"str-video__composite-button__button-group--active-secondary":n&&"secondary"===c}),children:[(0,cD.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),u?.(e)},...d,children:t}),r&&(0,cD.jsx)(gs,{offset:s,placement:a,ToggleButton:l,children:gd(r)?(0,cD.jsx)(r,{}):r})]}),e&&(0,cD.jsx)("div",{className:"str-video__composite-button__caption",children:e})]})}),gm=(0,cM.forwardRef)(function({menuShown:e},t){return(0,cD.jsx)(gu,{className:(0,uD.Z)("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":e}),icon:e?"caret-down":"caret-up",ref:t})}),gg=({children:e,...t})=>(0,cD.jsx)("button",{...t,className:"str-video__text-button",children:e}),gy=e=>{let{isVisible:t,message:i,children:n,visibilityTimeout:r,resetIsVisible:a,placement:s="top",iconClassName:o="str-video__notification__icon",close:l}=e,{refs:c,x:u,y:d,strategy:p}=m8({placement:s,strategy:"absolute"});return(0,cM.useEffect)(()=>{if(!t||!r||!a)return;let e=setTimeout(()=>{a()},r);return()=>clearTimeout(e)},[t,a,r]),(0,cD.jsxs)("div",{ref:c.setReference,children:[t&&(0,cD.jsxs)("div",{className:"str-video__notification",ref:c.setFloating,style:{position:p,top:d??0,left:u??0,overflowY:"auto"},children:[o&&(0,cD.jsx)("i",{className:o}),(0,cD.jsx)("span",{className:"str-video__notification__message",children:i}),l?(0,cD.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:l}):null]}),n]})},gv=e=>{let{permission:t,isAwaitingApproval:i,messageApproved:n,messageAwaitingApproval:r,messageRevoked:a,visibilityTimeout:s=3500,children:o}=e,{useHasPermissions:l}=uj(),c=l(t),u=(0,cM.useRef)(c),[d,p]=(0,cM.useState)();(0,cM.useEffect)(()=>{c&&!u.current?(p("granted"),u.current=!0):!c&&u.current&&(p("revoked"),u.current=!1)},[c]);let h=(0,cM.useCallback)(()=>p(void 0),[]);return i?(0,cD.jsx)(gy,{isVisible:i&&!c,message:r,children:o}):(0,cD.jsx)(gy,{isVisible:!!d,visibilityTimeout:s,resetIsVisible:h,message:"granted"===d?n:a,children:o})},gb=({children:e,text:t,placement:i})=>{let{useMicrophoneState:n}=uj(),{isSpeakingWhileMuted:r}=n(),{t:a}=uk(),s=t??a("You are muted. Unmute to speak.");return(0,cD.jsx)(gy,{message:s,isVisible:r,placement:i||"top-start",children:e})},gw=({className:e,type:t="spinner",text:i,tooltip:n})=>(0,cD.jsxs)("div",{className:(0,uD.Z)("str-video__loading-indicator",e),title:n,children:[(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__loading-indicator__icon",t)}),i&&(0,cD.jsx)("p",{className:"str-video__loading-indicator-text",children:i})]});(0,cM.forwardRef)(function(e,t){return(0,cD.jsx)(gf,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,cD.jsx)(gc,{icon:"recording-off"})})});let gx=({caption:e})=>{let{t}=uk(),{toggleCallRecording:i,isAwaitingResponse:n,isCallRecordingInProgress:r}=gt(),a=e||t("Record call");return n&&(a=t(r?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,cD.jsx)(uL,{requiredGrants:[r2.START_RECORD_CALL,r2.STOP_RECORD_CALL],children:(0,cD.jsx)(gf,{active:r,caption:e,variant:"secondary","data-testid":r?"recording-stop-button":"recording-start-button",title:a,onClick:n?void 0:i,children:n?(0,cD.jsx)(gw,{}):(0,cD.jsx)(gc,{icon:r?"recording-on":"recording-off"})})})},g_={":like:":"\uD83D\uDC4D",":raise-hand:":"✋",":fireworks:":"\uD83C\uDF89",":dislike:":"\uD83D\uDC4E",":heart:":"❤️",":smile:":"\uD83D\uDE00"},gS=({participant:{reaction:e,sessionId:t},hideAfterTimeoutInMs:i=5500,emojiReactionMap:n=g_})=>{let r=um();if((0,cM.useEffect)(()=>{if(!r||!e)return;let n=setTimeout(()=>{r.resetReaction(t)},i);return()=>{clearTimeout(n)}},[r,i,e,t]),!e)return null;let{emoji_code:a}=e;return(0,cD.jsx)("div",{className:"str-video__reaction",children:(0,cD.jsx)("span",{className:"str-video__reaction__emoji",children:a&&n[a]})})},gk=[{type:"reaction",emoji_code:":like:"},{type:"raised-hand",emoji_code:":raise-hand:"},{type:"reaction",emoji_code:":fireworks:"},{type:"reaction",emoji_code:":dislike:"},{type:"reaction",emoji_code:":heart:"},{type:"reaction",emoji_code:":smile:"}],gR=({reactions:e=gk})=>(0,cD.jsx)(uL,{requiredGrants:[r2.CREATE_REACTION],children:(0,cD.jsx)(gs,{placement:"top",ToggleButton:gE,visualType:N.MENU,children:(0,cD.jsx)(gT,{reactions:e})})}),gE=(0,cM.forwardRef)(function({menuShown:e},t){let{t:i}=uk();return(0,cD.jsx)(gf,{ref:t,active:e,variant:"primary",title:i("Reactions"),children:(0,cD.jsx)(gc,{icon:"reactions"})})}),gT=({reactions:e,layout:t="horizontal"})=>{let i=um();return(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__reactions-menu",{"str-video__reactions-menu--horizontal":"horizontal"===t,"str-video__reactions-menu--vertical":"vertical"===t}),children:e.map(e=>(0,cD.jsx)("button",{type:"button",className:"str-video__reactions-menu__button",onClick:()=>{i?.sendReaction(e)},children:e.emoji_code&&g_[e.emoji_code]},e.emoji_code))})},gC=e=>{let{t}=uk(),{caption:i}=e,{useHasOngoingScreenShare:n,useScreenShareState:r,useCallSettings:a}=uj(),s=n(),{hasPermission:o,requestPermission:l,isAwaitingPermission:c}=gi(r2.SCREENSHARE),u=a(),d=u?.screensharing.enabled,{screenShare:p,isMute:h}=r(),f=!!h&&(s||!1===d);return(0,cD.jsx)(uL,{requiredGrants:[r2.SCREENSHARE],children:(0,cD.jsx)(gv,{permission:r2.SCREENSHARE,isAwaitingApproval:c,messageApproved:t("You can now share your screen."),messageAwaitingApproval:t("Awaiting for an approval to share screen."),messageRevoked:t("You can no longer share your screen."),children:(0,cD.jsx)(gf,{active:s,caption:i,title:i||t("Share screen"),variant:"primary","data-testid":s?"screen-share-stop-button":"screen-share-start-button",disabled:f,onClick:async()=>{o?await p.toggle():await l()},children:(0,cD.jsx)(gc,{icon:s?"screen-share-on":"screen-share-off"})})})})},gP=(0,cM.createContext)({}),gA=e=>{let{children:t,icon:i,defaultSelectedLabel:n,defaultSelectedIndex:r,handleSelect:a}=e,[s,o]=(0,cM.useState)(!1),[l,c]=(0,cM.useState)(null),[u,d]=(0,cM.useState)(r),[p,h]=(0,cM.useState)(n),{refs:f,context:m}=(0,uM.YF)({placement:"bottom-start",open:s,onOpenChange:o,whileElementsMounted:uq.Me,middleware:[(0,uq.RR)()]}),g=(0,cM.useRef)([]),y=(0,cM.useRef)([]),v=(0,cM.useCallback)(e=>{d(e),a(e||0),o(!1),null!==e&&h(y.current[e])},[a]),b=(0,uM.c0)(m,{listRef:g,activeIndex:l,selectedIndex:u,onNavigate:c}),w=(0,uM.ox)(m,{listRef:y,activeIndex:l,selectedIndex:u,onMatch:e=>{s?c(e):v(e)}}),x=(0,uM.eS)(m),_=(0,uM.bQ)(m),S=(0,uM.qs)(m,{role:"listbox"}),{getReferenceProps:k,getFloatingProps:R,getItemProps:E}=(0,uM.NI)([b,w,x,_,S]),T=(0,cM.useMemo)(()=>({activeIndex:l,selectedIndex:u,getItemProps:E,handleSelect:v}),[l,u,E,v]);return(0,cD.jsxs)("div",{className:"str-video__dropdown",children:[(0,cD.jsxs)("div",{className:"str-video__dropdown-selected",ref:f.setReference,tabIndex:0,...k(),children:[(0,cD.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[i&&(0,cD.jsx)(gc,{className:"str-video__dropdown-selected__icon",icon:i}),p]}),(0,cD.jsx)(gc,{className:"str-video__dropdown-selected__chevron",icon:s?"chevron-up":"chevron-down"})]}),(0,cD.jsx)(gP.Provider,{value:T,children:s&&(0,cD.jsx)(uM.wD,{context:m,modal:!1,children:(0,cD.jsx)("div",{className:"str-video__dropdown-list",ref:f.setFloating,...R(),children:(0,cD.jsx)(uM.vs,{elementsRef:g,labelsRef:y,children:t})})})})]})},gO=e=>{let{selected:t,label:i,icon:n}=e,{getItemProps:r,handleSelect:a}=(0,cM.useContext)(gP),{ref:s,index:o}=(0,uM.JA)();return(0,cD.jsxs)("div",{className:(0,uD.Z)("str-video__dropdown-option",{"str-video__dropdown-option--selected":t}),ref:s,...r({onClick:()=>a(o)}),children:[(0,cD.jsx)(gc,{className:"str-video__dropdown-icon",icon:n}),(0,cD.jsx)("span",{className:"str-video__dropdown-label",children:i})]})},gI=e=>{let{children:t,icon:i,handleSelect:n,defaultSelectedLabel:r,defaultSelectedIndex:a}=e;return(0,cD.jsx)(gA,{icon:i,handleSelect:n,defaultSelectedIndex:a,defaultSelectedLabel:r,children:t})},gN=({disabled:e,id:t,label:i,onChange:n,name:r,selected:a,defaultChecked:s,value:o})=>(0,cD.jsxs)("label",{className:(0,uD.Z)("str-video__device-settings__option",{"str-video__device-settings__option--selected":a,"str-video__device-settings__option--disabled":e}),htmlFor:t,children:[(0,cD.jsx)("input",{type:"radio",name:r,onChange:n,value:o,id:t,checked:a,defaultChecked:s,disabled:e}),i]}),gj=e=>{let{devices:t=[],selectedDeviceId:i,title:n,type:r,onChange:a}=e,s=i;return t.length>0&&!t.find(e=>e.deviceId===s)&&(s=t[0].deviceId),(0,cD.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[n&&(0,cD.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),t.length?t.map(e=>(0,cD.jsx)(gN,{id:`${r}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{a?.(e.target.value)},name:r,selected:e.deviceId===s||1===t.length},e.deviceId)):(0,cD.jsx)(gN,{id:`${r}--default`,label:"Default",name:r,defaultChecked:!0,value:"default"})]})},gL=e=>{let{devices:t=[],selectedDeviceId:i,title:n,onChange:r,icon:a}=e,s=i;t.length>0&&!t.find(e=>e.deviceId===s)&&(s=t[0].deviceId);let o=t.findIndex(e=>e.deviceId===s),l=(0,cM.useCallback)(e=>{r?.(t[e].deviceId)},[t,r]);return(0,cD.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,cD.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),(0,cD.jsx)(gI,{icon:a,defaultSelectedIndex:o,defaultSelectedLabel:t[o]?.label,handleSelect:l,children:t.map(e=>(0,cD.jsx)(gO,{icon:a,label:e.label,selected:e.deviceId===s||1===t.length},e.deviceId))})]})},gD=e=>{let{visualType:t="list",icon:i,placeholder:n,...r}=e;return"list"===t?(0,cD.jsx)(gj,{...r}):(0,cD.jsx)(gL,{...r,icon:i,placeholder:n})},gM=({title:e,visualType:t})=>{let{useMicrophoneState:i}=uj(),{microphone:n,selectedDevice:r,devices:a}=i();return(0,cD.jsx)(gD,{devices:a||[],selectedDeviceId:r,type:"audioinput",onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"mic"})},gU=({title:e,visualType:t})=>{let{useSpeakerState:i}=uj(),{speaker:n,selectedDevice:r,devices:a,isDeviceSelectionSupported:s}=i();return s?(0,cD.jsx)(gD,{devices:a,type:"audiooutput",selectedDeviceId:r,onChange:e=>{n.select(e)},title:e,visualType:t,icon:"speaker"}):null},gq=({title:e,visualType:t})=>{let{useCameraState:i}=uj(),{camera:n,devices:r,selectedDevice:a}=i();return(0,cD.jsx)(gD,{devices:r||[],type:"videoinput",selectedDeviceId:a,onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"camera"})},g$=({visualType:e=N.MENU})=>(0,cD.jsx)(gs,{placement:"bottom-end",ToggleButton:gK,visualType:e,children:(0,cD.jsx)(gF,{})}),gF=()=>{let{t:e}=uk();return(0,cD.jsxs)("div",{className:"str-video__device-settings",children:[(0,cD.jsx)(gq,{title:e("Select a Camera")}),(0,cD.jsx)(gM,{title:e("Select a Mic")}),(0,cD.jsx)(gU,{title:e("Select Speakers")})]})},gK=(0,cM.forwardRef)(function({menuShown:e},t){let{t:i}=uk();return(0,cD.jsx)(gu,{className:(0,uD.Z)("str-video__device-settings__button",{"str-video__device-settings__button--active":e}),title:i("Toggle device menu"),icon:"device-settings",ref:t})}),gB=e=>{let{t}=uk(),{caption:i,Menu:n=(0,cD.jsx)(gM,{visualType:"list"}),menuPlacement:r="top",...a}=e,{hasPermission:s,requestPermission:o,isAwaitingPermission:l}=gi(r2.SEND_AUDIO),{useMicrophoneState:c}=uj(),{microphone:u,isMute:d,hasBrowserPermission:p}=c();return(0,cD.jsx)(uL,{requiredGrants:[r2.SEND_AUDIO],children:(0,cD.jsx)(gv,{permission:r2.SEND_AUDIO,isAwaitingApproval:l,messageApproved:t("You can now speak."),messageAwaitingApproval:t("Awaiting for an approval to speak."),messageRevoked:t("You can no longer speak."),children:(0,cD.jsxs)(gf,{active:d,caption:i,title:s?p?i||t("Mic"):t("Check your browser mic permissions"):t("You have no permission to share your audio"),variant:"secondary",disabled:!p||!s,"data-testid":d?"audio-unmute-button":"audio-mute-button",onClick:async()=>{s?await u.toggle():await o()},Menu:n,menuPlacement:r,menuOffset:16,...a,children:[(0,cD.jsx)(gc,{icon:d?"mic-off":"mic"}),(!p||!s)&&(0,cD.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})},gV=e=>{let{t}=uk(),{caption:i,Menu:n=(0,cD.jsx)(gq,{visualType:"list"}),menuPlacement:r="top",...a}=e,{hasPermission:s,requestPermission:o,isAwaitingPermission:l}=gi(r2.SEND_VIDEO),{useCameraState:c,useCallSettings:u}=uj(),{camera:d,isMute:p,hasBrowserPermission:h}=c(),f=u(),m=f?.video.enabled;return(0,cD.jsx)(uL,{requiredGrants:[r2.SEND_VIDEO],children:(0,cD.jsx)(gv,{permission:r2.SEND_VIDEO,isAwaitingApproval:l,messageApproved:t("You can now share your video."),messageAwaitingApproval:t("Awaiting for an approval to share your video."),messageRevoked:t("You can no longer share your video."),children:(0,cD.jsxs)(gf,{active:p,caption:i,variant:"secondary",title:s?h?m?i||t("Video"):t("Video publishing is disabled by the system"):t("Check your browser video permissions"):t("You have no permission to share your video"),disabled:!h||!s||!m,"data-testid":p?"video-unmute-button":"video-mute-button",onClick:async()=>{s?await d.toggle():await o()},Menu:n,menuPlacement:r,menuOffset:16,...a,children:[(0,cD.jsx)(gc,{icon:p?"camera-off":"camera"}),(!h||!s||!m)&&(0,cD.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})};(0,cM.forwardRef)(function(e,t){let{t:i}=uk();return(0,cD.jsx)(gu,{icon:"call-end",variant:"danger",title:i("Leave call"),"data-testid":"leave-call-button",ref:t})});let gz=({disabled:e,onClick:t,onLeave:i})=>{let n=um(),{t:r}=uk(),a=(0,cM.useCallback)(async e=>{t?t(e):n&&(await n.leave(),i?.())},[t,i,n]);return(0,cD.jsx)(gu,{disabled:e,icon:"call-end",variant:"danger",title:r("Leave call"),"data-testid":"cancel-call-button",onClick:a})},gW=({onLeave:e})=>(0,cD.jsxs)("div",{className:"str-video__call-controls",children:[(0,cD.jsx)(gx,{}),(0,cD.jsx)(gR,{}),(0,cD.jsx)(gC,{}),(0,cD.jsx)(gb,{children:(0,cD.jsx)(gB,{})}),(0,cD.jsx)(gV,{}),(0,cD.jsx)(gz,{onLeave:e})]});fZ.register(mT,mA,me,mi);let gH=e=>{let{values:t}=e,i=0,n={labels:t.map(e=>{let t=new Date(1e3*e.x);return`${t.getHours()}:${t.getMinutes()}`}),datasets:[{data:t.map(e=>{let{y:t}=e;return i=Math.max(i,t),e}),borderColor:"#00e2a1",backgroundColor:"#00e2a1"}]},r=(0,cM.useMemo)(()=>({maintainAspectRatio:!1,animation:{duration:0},elements:{line:{borderWidth:1},point:{radius:2}},scales:{y:{position:"right",stacked:!0,min:0,max:Math.max(180,10*Math.ceil((i+10)/10)),grid:{display:!0,color:"#979ca0"},ticks:{stepSize:30}},x:{grid:{display:!1},ticks:{display:!1}}}}),[i]);return(0,cD.jsx)("div",{className:"str-video__call-stats-line-chart-container",children:(0,cD.jsx)(m0,{options:r,data:n,className:"str-video__call-stats__latencychart"})})};!function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(j||(j={}));let gG=({value:e,lowBound:t,highBound:i})=>e<=t?j.GOOD:e>=t&&e<=i?j.OK:e>=i?j.BAD:j.GOOD,gJ=e=>{let{latencyLowBound:t=75,latencyHighBound:i=400}=e,[n,r]=(0,cM.useState)(()=>{let e=Date.now();return Array.from({length:20},(t,i)=>({x:e+i,y:0}))}),{t:a}=uk(),[s,o]=(0,cM.useState)("-"),[l,c]=(0,cM.useState)("-"),u=(0,cM.useRef)(),{useCallStatsReport:d}=uj(),p=d();(0,cM.useEffect)(()=>{if(!p)return;if(!u.current){u.current=p;return}let e=u.current;o(()=>g0(e,p)),c(()=>g1(e,p)),r(e=>{let t=e.slice(-19);return t.push({x:p.timestamp,y:p.publisherStats.averageRoundTripTimeInMs}),t}),u.current=p},[p]);let h={lowBound:t,highBound:i,value:p?.publisherStats.averageRoundTripTimeInMs||0};return(0,cD.jsx)("div",{className:"str-video__call-stats",children:p&&(0,cD.jsxs)(cD.Fragment,{children:[(0,cD.jsxs)("div",{className:"str-video__call-stats__header",children:[(0,cD.jsxs)("h3",{className:"str-video__call-stats__heading",children:[(0,cD.jsx)(gc,{className:"str-video__call-stats__icon",icon:"call-latency"}),a("Call Latency")]}),(0,cD.jsx)("p",{className:"str-video__call-stats__description",children:a("Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.")})]}),(0,cD.jsx)("div",{className:"str-video__call-stats__latencychart",children:(0,cD.jsx)(gH,{values:n})}),(0,cD.jsxs)("div",{className:"str-video__call-stats__header",children:[(0,cD.jsxs)("h3",{className:"str-video__call-stats__heading",children:[(0,cD.jsx)(gc,{className:"str-video__call-stats__icon",icon:"network-quality"}),a("Call performance")]}),(0,cD.jsx)("p",{className:"str-video__call-stats__description",children:a("Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.")})]}),(0,cD.jsxs)("div",{className:"str-video__call-stats__card-container",children:[(0,cD.jsx)(gZ,{label:"Region",value:p.datacenter}),(0,cD.jsx)(gZ,{label:"Latency",value:`${p.publisherStats.averageRoundTripTimeInMs} ms.`,comparison:h}),(0,cD.jsx)(gZ,{label:"Receive jitter",value:`${p.subscriberStats.averageJitterInMs} ms.`,comparison:{...h,value:p.subscriberStats.averageJitterInMs}}),(0,cD.jsx)(gZ,{label:"Publish jitter",value:`${p.publisherStats.averageJitterInMs} ms.`,comparison:{...h,value:p.publisherStats.averageJitterInMs}}),(0,cD.jsx)(gZ,{label:"Publish resolution",value:gQ(p.publisherStats)}),(0,cD.jsx)(gZ,{label:"Publish quality drop reason",value:p.publisherStats.qualityLimitationReasons}),(0,cD.jsx)(gZ,{label:"Receiving resolution",value:gQ(p.subscriberStats)}),(0,cD.jsx)(gZ,{label:"Receive quality drop reason",value:p.subscriberStats.qualityLimitationReasons}),(0,cD.jsx)(gZ,{label:"Publish bitrate",value:s}),(0,cD.jsx)(gZ,{label:"Receiving bitrate",value:l})]})]})})},gY=e=>{let{description:t}=e,[i,n]=(0,cM.useState)(!1),{refs:r,floatingStyles:a,context:s}=(0,uM.YF)({open:i,onOpenChange:n}),o=(0,uM.XI)(s),{getReferenceProps:l,getFloatingProps:c}=(0,uM.NI)([o]);return(0,cD.jsxs)(cD.Fragment,{children:[(0,cD.jsx)("div",{className:"str-video__call-explanation",ref:r.setReference,...l(),children:(0,cD.jsx)(gc,{className:"str-video__call-explanation__icon",icon:"info"})}),i&&(0,cD.jsx)("div",{className:"str-video__call-explanation__description",ref:r.setFloating,style:a,...c(),children:t})]})},gX=({children:e,status:t=j.GOOD})=>(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__call-stats__tag",{"str-video__call-stats__tag--good":t===j.GOOD,"str-video__call-stats__tag--ok":t===j.OK,"str-video__call-stats__tag--bad":t===j.BAD}),children:(0,cD.jsx)("div",{className:"str-video__call-stats__tag__text",children:e})}),gZ=e=>{let{label:t,value:i,description:n,comparison:r}=e,{t:a}=uk(),s=r?gG(r):void 0;return(0,cD.jsxs)("div",{className:"str-video__call-stats__card",children:[(0,cD.jsxs)("div",{className:"str-video__call-stats__card-content",children:[(0,cD.jsxs)("div",{className:"str-video__call-stats__card-label",children:[t,n&&(0,cD.jsx)(gY,{description:n})]}),(0,cD.jsx)("div",{className:"str-video__call-stats__card-value",children:i})]}),r&&s&&(0,cD.jsx)(gX,{status:s,children:a(s)})]})},gQ=e=>{let{highestFrameWidth:t,highestFrameHeight:i,highestFramesPerSecond:n}=e,r="-";return t&&i&&(r=`${t}x${i}`,n&&(r+=`@${n}fps.`)),r},g0=(e,t)=>{let{publisherStats:{totalBytesSent:i,timestamp:n}}=e,{publisherStats:{totalBytesSent:r,timestamp:a}}=t;return`${(8*(r-i)/(a-n)).toFixed(2)} kbps`},g1=(e,t)=>{let{subscriberStats:{totalBytesReceived:i,timestamp:n}}=e,{subscriberStats:{totalBytesReceived:r,timestamp:a}}=t;return`${(8*(r-i)/(a-n)).toFixed(2)} kbps`},g2=()=>(0,cD.jsx)(gs,{placement:"top-end",ToggleButton:g3,children:(0,cD.jsx)(gJ,{})}),g3=(0,cM.forwardRef)(function(e,t){let{t:i}=uk(),{caption:n,menuShown:r}=e;return(0,cD.jsx)(gf,{ref:t,active:r,caption:n,title:n||i("Statistics"),"data-testid":"stats-button",children:(0,cD.jsx)(gc,{icon:"stats"})})}),g4=({data:e})=>e.length?(0,cD.jsx)(cD.Fragment,{children:(0,cD.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,cD.jsx)(g6,{userId:e},e))})}):null,g6=({userId:e})=>{let t=um();return(0,cD.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,cD.jsx)("div",{className:"str-video__participant-listing-item__display-name",children:e}),(0,cD.jsx)(uL,{requiredGrants:[r2.BLOCK_USERS],children:(0,cD.jsx)(gg,{onClick:()=>{e&&t?.unblockUser(e)},children:"Unblock"})})]})},g5=({onClose:e})=>{let{useParticipants:t,useAnonymousParticipantCount:i}=uj(),n=t(),r=i(),{t:a}=uk();return(0,cD.jsxs)("div",{className:"str-video__participant-list-header",children:[(0,cD.jsxs)("div",{className:"str-video__participant-list-header__title",children:[a("Participants")," ",(0,cD.jsxs)("span",{className:"str-video__participant-list-header__title-count",children:["[",n.length,"]"]}),r>0&&(0,cD.jsx)("span",{className:"str-video__participant-list-header__title-anonymous",children:a("Anonymous",{count:r})})]}),(0,cD.jsx)(gu,{onClick:e,className:"str-video__participant-list-header__close-button",icon:"close"})]})},g8=({children:e,referenceElement:t,tooltipClassName:i,tooltipPlacement:n="top",visible:r=!1})=>{let{refs:a,x:s,y:o,strategy:l}=m8({placement:n,strategy:"absolute"});return((0,cM.useEffect)(()=>{a.setReference(t)},[t,a]),r)?(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__tooltip",i),ref:a.setFloating,style:{position:l,top:o??0,left:s??0,overflowY:"auto"},children:e}):null},g7=({onMouseEnter:e,onMouseLeave:t}={})=>{let[i,n]=(0,cM.useState)(!1);return{handleMouseEnter:(0,cM.useCallback)(t=>{n(!0),e?.(t)},[e]),handleMouseLeave:(0,cM.useCallback)(e=>{n(!1),t?.(e)},[t]),tooltipVisible:i}},g9=({title:e,tooltipClassName:t,tooltipPlacement:i,...n})=>{let{handleMouseEnter:r,handleMouseLeave:a,tooltipVisible:s}=g7(),[o,l]=(0,cM.useState)(null);return(0,cD.jsxs)(cD.Fragment,{children:[(0,cD.jsx)(g8,{referenceElement:o,visible:s,tooltipClassName:t,tooltipPlacement:i,children:e||""}),(0,cD.jsx)("div",{ref:l,onMouseEnter:r,onMouseLeave:a,...n})]})},ye=({participant:e,DisplayName:t=yi})=>{let i=e.publishedTracks.includes(aD.TrackType.AUDIO),n=e.publishedTracks.includes(aD.TrackType.VIDEO),r=!!e.pin,{t:a}=uk();return(0,cD.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,cD.jsx)(m6,{name:e.name,imageSrc:e.image}),(0,cD.jsx)(t,{participant:e}),(0,cD.jsxs)("div",{className:"str-video__participant-listing-item__media-indicator-group",children:[(0,cD.jsx)(yt,{title:a(i?"Microphone on":"Microphone off"),className:(0,uD.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${i?"mic":"mic-off"}`)}),(0,cD.jsx)(yt,{title:a(n?"Camera on":"Camera off"),className:(0,uD.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${n?"camera":"camera-off"}`)}),r&&(0,cD.jsx)(yt,{title:a("Pinned"),className:(0,uD.Z)("str-video__participant-listing-item__icon","str-video__participant-listing-item__icon-pinned")}),(0,cD.jsx)(gs,{placement:"bottom-end",ToggleButton:yn,children:(0,cD.jsx)(m3.Provider,{value:{participant:e,trackType:"none"},children:(0,cD.jsx)(yE,{})})})]})]})},yt=e=>(0,cD.jsx)(g9,{...e}),yi=({participant:e})=>{let t;let i=uN(),{t:n}=uk(),r=e.userId===i?.id?n("Me"):"",a=e.name||e.userId||n("Unknown");return t=e.name?r?`${a} (${r})`:a:r||a||n("Unknown"),(0,cD.jsx)(g9,{className:"str-video__participant-listing-item__display-name",title:t,children:t})},yn=(0,cM.forwardRef)(function(e,t){return(0,cD.jsx)(gu,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),yr=({data:e})=>(0,cD.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,cD.jsx)(ye,{participant:e},e.sessionId))}),ya=()=>{let{t:e}=uk();return(0,cD.jsx)("div",{className:"str-video__participant-list--empty",children:e("No participants found")})},ys=({exitSearch:e,isActive:t,...i})=>{let[n,r]=(0,cM.useState)(null);return(0,cM.useEffect)(()=>{if(!n)return;let t=t=>{"escape"===t.key.toLowerCase()&&e()};return n.addEventListener("keydown",t),()=>{n.removeEventListener("keydown",t)}},[e,n]),(0,cD.jsxs)("div",{className:(0,uD.Z)("str-video__search-input__container",{"str-video__search-input__container--active":t}),children:[(0,cD.jsx)("input",{placeholder:"Search",...i,ref:r}),t?(0,cD.jsx)("button",{className:"str-video__search-input__clear-btn",onClick:e,children:(0,cD.jsx)("span",{className:"str-video__search-input__icon--active"})}):(0,cD.jsx)("span",{className:"str-video__search-input__icon"})]})},yo=({EmptySearchResultComponent:e,LoadingIndicator:t=gw,searchQueryInProgress:i,searchResults:n,SearchResultList:r})=>i?(0,cD.jsx)("div",{className:"str-video__search-results--loading",children:(0,cD.jsx)(t,{})}):n.length?(0,cD.jsx)(r,{data:n}):(0,cD.jsx)(e,{}),yl=({debounceInterval:e,searchFn:t,searchQuery:i=""})=>{let[n,r]=(0,cM.useState)([]),[a,s]=(0,cM.useState)(!1);return(0,cM.useEffect)(()=>{if(!i.length){s(!1),r([]);return}s(!0);let n=setTimeout(async()=>{try{let e=await t(i);r(e)}catch(e){console.error(e)}finally{s(!1)}},e);return()=>{clearTimeout(n)}},[e,t,i]),{searchQueryInProgress:a,searchResults:n}},yc={active:"Active users",blocked:"Blocked users"},yu=200,yd=({onClose:e,activeUsersSearchFn:t,blockedUsersSearchFn:i,debounceSearchInterval:n})=>{let[r,a]=(0,cM.useState)(""),[s,o]=(0,cM.useState)("active"),l=(0,cM.useCallback)(()=>a(""),[]);return(0,cD.jsxs)("div",{className:"str-video__participant-list",children:[(0,cD.jsx)(g5,{onClose:e}),(0,cD.jsx)(ys,{value:r,onChange:({currentTarget:e})=>a(e.value),exitSearch:l,isActive:!!r}),(0,cD.jsx)(yp,{userListType:s,setUserListType:o}),(0,cD.jsxs)("div",{className:"str-video__participant-list__content",children:["active"===s&&(0,cD.jsx)(yh,{searchQuery:r,activeUsersSearchFn:t,debounceSearchInterval:n}),"blocked"===s&&(0,cD.jsx)(yf,{searchQuery:r,blockedUsersSearchFn:i,debounceSearchInterval:n})]})]})},yp=({userListType:e,setUserListType:t})=>{let i=um();return(0,cD.jsxs)("div",{className:"str-video__participant-list__content-header",children:[(0,cD.jsx)("div",{className:"str-video__participant-list__content-header-title",children:"active"===e&&(0,cD.jsx)(uL,{requiredGrants:[r2.MUTE_USERS],hasPermissionsOnly:!0,children:(0,cD.jsx)(gg,{onClick:()=>{i?.muteAllUsers("audio")},children:"Mute all"})})}),(0,cD.jsx)(gs,{placement:"bottom-end",ToggleButton:ym,children:(0,cD.jsx)(go,{children:Object.keys(yc).map(i=>(0,cD.jsx)(gl,{"aria-selected":i===e,onClick:()=>t(i),children:yc[i]},i))})})]})},yh=({searchQuery:e,activeUsersSearchFn:t,debounceSearchInterval:i=yu})=>{let{useParticipants:n}=uj(),r=n({sortBy:oq}),a=(0,cM.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(r.filter(e=>e.name.match(t)))},[r]),{searchQueryInProgress:s,searchResults:o}=yl({searchFn:t??a,debounceInterval:i,searchQuery:e});return(0,cD.jsx)(yo,{EmptySearchResultComponent:ya,LoadingIndicator:gw,searchQueryInProgress:s,searchResults:e?o:r,SearchResultList:yr})},yf=({blockedUsersSearchFn:e,debounceSearchInterval:t=yu,searchQuery:i})=>{let{useCallBlockedUserIds:n}=uj(),r=n(),a=(0,cM.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(r.filter(e=>e.match(t)))},[r]),{searchQueryInProgress:s,searchResults:o}=yl({searchFn:e??a,debounceInterval:t,searchQuery:i});return(0,cD.jsx)(yo,{EmptySearchResultComponent:ya,LoadingIndicator:gw,searchQueryInProgress:s,searchResults:i?o:r,SearchResultList:g4})},ym=(0,cM.forwardRef)(function(e,t){return(0,cD.jsx)(gu,{enabled:e.menuShown,icon:"filter",ref:t})});O.JOINING,O.RINGING,O.MIGRATING,O.RECONNECTING,O.RECONNECTING_FAILED,O.OFFLINE,O.IDLE,O.UNKNOWN,O.JOINED,O.LEFT,(0,cM.forwardRef)(function(e,t){let{permissionRequests:i,handleUpdatePermission:n,...r}=e,{t:a}=uk();return(0,cD.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...r,children:i.map((e,t)=>{let{user:i,permissions:r}=e;return(0,cD.jsx)(cM.Fragment,{children:r.map(t=>(0,cD.jsxs)("div",{className:"str-video__permission-request",children:[(0,cD.jsx)("div",{className:"str-video__permission-request__message",children:yy(i.name||i.id,t,a)}),(0,cD.jsx)(yg,{className:"str-video__permission-request__button--allow",type:"button",onClick:n(e,"grant"),children:a("Allow")}),(0,cD.jsx)(yg,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"revoke"),children:a("Revoke")}),(0,cD.jsx)(yg,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"dismiss"),children:a("Dismiss")})]},t))},`${i.id}/${t}`)})})});let yg=e=>{let{className:t,...i}=e;return(0,cD.jsx)("button",{className:(0,uD.Z)("str-video__permission-request__button",t),...i})},yy=(e,t,i)=>{switch(t){case r2.SEND_AUDIO:return i("{{ userName }} is requesting to speak",{userName:e});case r2.SEND_VIDEO:return i("{{ userName }} is requesting to share their camera",{userName:e});case r2.SCREENSHARE:return i("{{ userName }} is requesting to present their screen",{userName:e});default:return i("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},yv=({as:e="div",className:t,children:i,...n})=>(0,cD.jsx)(e,{...n,className:(0,uD.Z)("str-video",t),children:i}),yb=(0,cM.forwardRef)(function({participant:e,style:t},i){let{t:n}=uk(),[r,a]=(0,cM.useState)(!1),s=e.name||e.userId;return(0,cD.jsxs)("div",{className:"str-video__video-placeholder",style:t,ref:i,children:[(!e.image||r)&&(s?(0,cD.jsx)(yw,{name:s}):(0,cD.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:n("Video is disabled")})),e.image&&!r&&(0,cD.jsx)("img",{onError:()=>a(!0),alt:"video-placeholder",className:"str-video__video-placeholder__avatar",src:e.image})]})}),yw=e=>{let{name:t}=e,i=t.split(" ").slice(0,2).map(e=>e[0]).join("");return(0,cD.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:i})},yx=({trackType:e,participant:t,className:i,VideoPlaceholder:n=yb,refs:r,...a})=>{let{sessionId:s,videoStream:o,screenShareStream:l,publishedTracks:c,viewportVisibilityState:u,isLocalParticipant:d,userId:p}=t,h=um(),[f,m]=(0,cM.useState)(null),[g,y]=(0,cM.useState)(!0),[v,b]=(0,cM.useState)(!0),w="videoTrack"===e?o:"screenShareTrack"===e?l:void 0;if((0,cM.useLayoutEffect)(()=>{if(!h||!f||"none"===e)return;let t=h.bindVideoElement(f,s,e);return()=>{t?.()}},[h,e,s,f]),(0,cM.useEffect)(()=>{if(!w||!f)return;let[e]=w.getVideoTracks();if(!e)return;let t=()=>{y(f.paused);let{width:t=0,height:i=0}=e.getSettings();b(t>=i)};return y(f.paused),f.addEventListener("play",t),f.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{f.removeEventListener("play",t),f.removeEventListener("pause",t),e.removeEventListener("unmute",t),y(!0)}},[w,f]),!h)return null;let x="videoTrack"===e?c.includes(aD.TrackType.VIDEO):"screenShareTrack"===e&&c.includes(aD.TrackType.SCREEN_SHARE),_="none"===e||u?.[e]===P.INVISIBLE,S=!x||_,k=d&&"videoTrack"===e,R="screenShareTrack"===e;return(0,cD.jsxs)(cD.Fragment,{children:[!S&&(0,cD.jsx)("video",{...a,className:(0,uD.Z)("str-video__video",i,{"str-video__video--not-playing":g,"str-video__video--tall":!v,"str-video__video--mirror":k,"str-video__video--screen-share":R}),"data-user-id":p,"data-session-id":s,ref:e=>{m(e),r?.setVideoElement?.(e)}}),(S||g)&&n&&(0,cD.jsx)(n,{style:{position:"absolute"},participant:t,ref:r?.setVideoPlaceholderElement})]})},y_=(0,cM.forwardRef)(function({stream:e,...t},i){let[n,r]=(0,cM.useState)(null);return(0,cM.useEffect)(()=>{if(n&&e&&e!==n.srcObject)return n.srcObject=e,(lF.isSafari()||lF.isFirefox())&&setTimeout(()=>{n.srcObject=e,n.play().catch(e=>{console.error("Failed to play stream",e)})},0),()=>{n.pause(),n.srcObject=null}},[e,n]),(0,cD.jsx)("video",{autoPlay:!0,playsInline:!0,...t,ref:e=>{gh(i,e),r(e)}})}),yS=()=>{let{t:e}=uk();return(0,cD.jsx)("div",{className:"str_video__video-preview__disabled-video-preview",children:e("Video is disabled")})},yk=()=>{let{t:e}=uk();return(0,cD.jsx)("div",{className:"str_video__video-preview__no-camera-preview",children:e("No camera found")})},yR=({className:e,mirror:t=!0,DisabledVideoPreview:i=yS,NoCameraPreview:n=yk,StartingCameraPreview:r=gw})=>{let a;let{useCameraState:s}=uj(),{devices:o,status:l,isMute:c,mediaStream:u}=s();if(c&&o?.length===0)a=(0,cD.jsx)(n,{});else if("enabled"===l){let e=!u;a=(0,cD.jsxs)(cD.Fragment,{children:[u&&(0,cD.jsx)(y_,{stream:u,className:(0,uD.Z)("str-video__video-preview",{"str-video__video-preview--mirror":t,"str-video__video-preview--loading":e})}),e&&(0,cD.jsx)(r,{})]})}else a=(0,cD.jsx)(i,{});return(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__video-preview-container",e),children:a})},yE=()=>{let{participant:e,participantViewElement:t,videoElement:i}=m4(),[n,r]=(0,cM.useState)(!!document.fullscreenElement),[a,s]=(0,cM.useState)(document.pictureInPictureElement),o=um(),{t:l}=uk(),{pin:c,publishedTracks:u,sessionId:d,userId:p}=e,h=u.includes(aD.TrackType.AUDIO),f=u.includes(aD.TrackType.VIDEO),m=u.includes(aD.TrackType.SCREEN_SHARE),g=u.includes(aD.TrackType.SCREEN_SHARE_AUDIO),y=e=>()=>{o?.updateUserPermissions({user_id:p,grant_permissions:[e]})},v=e=>()=>{o?.updateUserPermissions({user_id:p,revoke_permissions:[e]})};(0,cM.useEffect)(()=>{let e=()=>{r(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,cM.useEffect)(()=>{if(!i)return;let e=()=>{s(document.pictureInPictureElement)};return i.addEventListener("enterpictureinpicture",e),i.addEventListener("leavepictureinpicture",e),()=>{i.removeEventListener("enterpictureinpicture",e),i.removeEventListener("leavepictureinpicture",e)}},[i]);let{close:b}=gr()||{};return(0,cD.jsxs)(go,{onItemClick:b,children:[(0,cD.jsxs)(gl,{onClick:()=>{c?o?.unpin(d):o?.pin(d)},disabled:c&&!c.isLocalPin,children:[(0,cD.jsx)(gc,{icon:"pin"}),l(c?"Unpin":"Pin")]}),(0,cD.jsxs)(uL,{requiredGrants:[r2.PIN_FOR_EVERYONE],children:[(0,cD.jsxs)(gl,{onClick:()=>{o?.pinForEveryone({user_id:p,session_id:d}).catch(e=>{console.error(`Failed to pin participant ${p}`,e)})},disabled:c&&!c.isLocalPin,children:[(0,cD.jsx)(gc,{icon:"pin"}),l("Pin for everyone")]}),(0,cD.jsxs)(gl,{onClick:()=>{o?.unpinForEveryone({user_id:p,session_id:d}).catch(e=>{console.error(`Failed to unpin participant ${p}`,e)})},disabled:!c||c.isLocalPin,children:[(0,cD.jsx)(gc,{icon:"pin"}),l("Unpin for everyone")]})]}),(0,cD.jsx)(uL,{requiredGrants:[r2.BLOCK_USERS],children:(0,cD.jsxs)(gl,{onClick:()=>o?.blockUser(p),children:[(0,cD.jsx)(gc,{icon:"not-allowed"}),l("Block")]})}),(0,cD.jsxs)(uL,{requiredGrants:[r2.MUTE_USERS],children:[f&&(0,cD.jsxs)(gl,{onClick:()=>o?.muteUser(p,"video"),children:[(0,cD.jsx)(gc,{icon:"camera-off-outline"}),l("Turn off video")]}),m&&(0,cD.jsxs)(gl,{onClick:()=>o?.muteUser(p,"screenshare"),children:[(0,cD.jsx)(gc,{icon:"screen-share-off"}),l("Turn off screen share")]}),h&&(0,cD.jsxs)(gl,{onClick:()=>o?.muteUser(p,"audio"),children:[(0,cD.jsx)(gc,{icon:"no-audio"}),l("Mute audio")]}),g&&(0,cD.jsxs)(gl,{onClick:()=>o?.muteUser(p,"screenshare_audio"),children:[(0,cD.jsx)(gc,{icon:"no-audio"}),l("Mute screen share audio")]})]}),t&&(0,cD.jsx)(gl,{onClick:()=>n?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:l("{{ direction }} fullscreen",{direction:l(n?"Leave":"Enter")})}),i&&document.pictureInPictureEnabled&&(0,cD.jsx)(gl,{onClick:()=>i&&a!==i?i.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:l("{{ direction }} picture-in-picture",{direction:l(a===i?"Leave":"Enter")})}),(0,cD.jsxs)(uL,{requiredGrants:[r2.UPDATE_CALL_PERMISSIONS],children:[(0,cD.jsx)(gl,{onClick:y(r2.SEND_AUDIO),children:l("Allow audio")}),(0,cD.jsx)(gl,{onClick:y(r2.SEND_VIDEO),children:l("Allow video")}),(0,cD.jsx)(gl,{onClick:y(r2.SCREENSHARE),children:l("Allow screen sharing")}),(0,cD.jsx)(gl,{onClick:v(r2.SEND_AUDIO),children:l("Disable audio")}),(0,cD.jsx)(gl,{onClick:v(r2.SEND_VIDEO),children:l("Disable video")}),(0,cD.jsx)(gl,{onClick:v(r2.SCREENSHARE),children:l("Disable screen sharing")})]})]})},yT=({trackedElement:e,dynascaleManager:t,sessionId:i,trackType:n})=>{let r=um(),a=t??r?.dynascaleManager;(0,cM.useEffect)(()=>{if(!e||!a||!r||"none"===n)return;let t=a.trackElementVisibility(e,i,n);return()=>{t()}},[e,a,r,i,n])},yC=(0,cM.forwardRef)(function(e,t){return(0,cD.jsx)(gu,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),yP=()=>{let e=um(),{t}=uk();return(0,cD.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,cD.jsx)(gc,{icon:"screen-share-off"}),(0,cD.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,cD.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,cD.jsx)(gc,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},yA=({indicatorsVisible:e=!0,menuPlacement:t="bottom-start",showMenuButton:i=!0,ParticipantActionsContextMenu:n=yE})=>{let{participant:r,trackType:a}=m4(),{publishedTracks:s}=r,o=s.includes(aD.TrackType.SCREEN_SHARE);return r.isLocalParticipant&&o&&"screenShareTrack"===a?(0,cD.jsxs)(cD.Fragment,{children:[(0,cD.jsx)(yP,{}),(0,cD.jsx)(yO,{indicatorsVisible:e})]}):(0,cD.jsxs)(cD.Fragment,{children:[i&&(0,cD.jsx)(gs,{strategy:"fixed",placement:t,ToggleButton:yC,children:(0,cD.jsx)(n,{})}),(0,cD.jsx)(gS,{participant:r}),(0,cD.jsx)(yO,{indicatorsVisible:e})]})},yO=({indicatorsVisible:e=!0})=>{let{participant:t}=m4(),{isLocalParticipant:i,connectionQuality:n,publishedTracks:r,pin:a,sessionId:s,name:o,userId:l}=t,c=um(),{t:u}=uk(),d=!!n&&aD.ConnectionQuality[n].toLowerCase(),p=r.includes(aD.TrackType.AUDIO),h=r.includes(aD.TrackType.VIDEO),f=!!a&&a.isLocalPin;return(0,cD.jsxs)(cD.Fragment,{children:[(0,cD.jsx)("div",{className:"str-video__participant-details",children:(0,cD.jsxs)("span",{className:"str-video__participant-details__name",children:[o||l,e&&!p&&(0,cD.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),e&&!h&&(0,cD.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),e&&f&&(0,cD.jsx)("span",{title:u("Unpin"),onClick:()=>c?.unpin(s),className:"str-video__participant-details__name--pinned"}),e&&(0,cD.jsx)(yI,{})]})}),e&&(0,cD.jsx)(gy,{isVisible:i&&n===aD.ConnectionQuality.POOR,message:u("Poor connection quality"),children:d&&(0,cD.jsx)("span",{className:(0,uD.Z)("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${d}`),title:d})})]})},yI=()=>{let{participant:e}=m4(),{isSpeaking:t,isDominantSpeaker:i}=e;return(0,cD.jsxs)("span",{className:(0,uD.Z)("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",i&&"str-video__speech-indicator--dominant"),children:[(0,cD.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,cD.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,cD.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},yN=(0,cM.forwardRef)(function({participant:e,trackType:t="videoTrack",muteAudio:i,refs:{setVideoElement:n,setVideoPlaceholderElement:r}={},className:a,VideoPlaceholder:s,ParticipantViewUI:o=yA},l){let{isLocalParticipant:c,isSpeaking:u,isDominantSpeaker:d,publishedTracks:p,sessionId:h}=e,f=p.includes(aD.TrackType.AUDIO),m=p.includes(aD.TrackType.VIDEO),g=p.includes(aD.TrackType.SCREEN_SHARE_AUDIO),[y,v]=(0,cM.useState)(null),[b,w]=(0,cM.useState)(null),[x,_]=(0,cM.useState)(null);yT({sessionId:h,trackedElement:y,trackType:t});let S=(0,cM.useMemo)(()=>({participant:e,participantViewElement:y,videoElement:b,videoPlaceholderElement:x,trackType:t}),[b,x,e,y,t]),k=(0,cM.useMemo)(()=>({setVideoElement:e=>{n?.(e),w(e)},setVideoPlaceholderElement:e=>{r?.(e),_(e)}}),[n,r]);return(0,cD.jsx)("div",{"data-testid":"participant-view",ref:e=>{gh(l,e),v(e)},className:(0,uD.Z)("str-video__participant-view",d&&"str-video__participant-view--dominant-speaker",u&&"str-video__participant-view--speaking",!m&&"str-video__participant-view--no-video",!f&&"str-video__participant-view--no-audio",a),children:(0,cD.jsxs)(m3.Provider,{value:S,children:[!c&&!i&&(0,cD.jsxs)(cD.Fragment,{children:[f&&(0,cD.jsx)(m1,{participant:e,trackType:"audioTrack"}),g&&(0,cD.jsx)(m1,{participant:e,trackType:"screenShareAudioTrack"})]}),(0,cD.jsx)(yx,{VideoPlaceholder:s,participant:e,trackType:t,refs:k,autoPlay:!0}),gd(o)?(0,cD.jsx)(o,{}):o]})})}),yj=e=>{let{call:t,children:i}=e;return(0,cD.jsx)(uf.Provider,{value:t,children:i})},yL={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},yD=e=>(0,cD.jsx)(uE,{translationsOverrides:yL,...e}),yM=e=>{(0,cM.useEffect)(()=>{if(e)return e.setSortParticipantsBy(oG),()=>{yq(e)}},[e])},yU=(e,t)=>{(0,cM.useEffect)(()=>{if(e)return t?e.setSortParticipantsBy(oA(oj,y$)):e.setSortParticipantsBy(oH),()=>{yq(e)}},[e,t])},yq=e=>{let t=lH.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||oW)},y$=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,yF=16,yK=({group:e,VideoPlaceholder:t,ParticipantViewUI:i})=>(0,cD.jsx)("div",{className:(0,uD.Z)("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===e.length,"str-video__paginated-grid-layout--two-four":e.length>=2&&e.length<=4,"str-video__paginated-grid-layout--five-nine":e.length>=5&&e.length<=9}),children:e.map(e=>(0,cD.jsx)(yN,{participant:e,muteAudio:!0,VideoPlaceholder:t,ParticipantViewUI:i},e.sessionId))}),yB=({groupSize:e=yF,excludeLocalParticipant:t=!1,pageArrowsVisible:i=!0,VideoPlaceholder:n,ParticipantViewUI:r=yA})=>{let[a,s]=(0,cM.useState)(0),[o,l]=(0,cM.useState)(null),c=um(),{useParticipants:u,useRemoteParticipants:d}=uj(),p=u(),h=d();yM(c),(0,cM.useEffect)(()=>{if(!o||!c)return;let e=c.setViewport(o);return()=>e()},[o,c]);let f=(0,cM.useMemo)(()=>gp(t?h:p,e),[t,h,p,e]),m=f.length;(0,cM.useEffect)(()=>{a>m-1&&s(Math.max(0,m-1))},[a,m]);let g=f[a];return c?(0,cD.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:l,children:[(0,cD.jsx)(m2,{participants:h}),(0,cD.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[i&&m>1&&(0,cD.jsx)(gu,{icon:"caret-left",disabled:0===a,onClick:()=>s(e=>Math.max(0,e-1))}),g&&(0,cD.jsx)(yK,{group:f[a],VideoPlaceholder:n,ParticipantViewUI:r}),i&&m>1&&(0,cD.jsx)(gu,{disabled:a===m-1,icon:"caret-right",onClick:()=>s(e=>Math.min(m-1,e+1))})]})]}):null},yV=(e,t,i)=>{let[n,r]=(0,cM.useState)({vertical:"number"==typeof i?i:null,horizontal:"number"==typeof i?i:null});return(0,cM.useEffect)(()=>{if(!t||!e||"number"==typeof i||void 0===i)return;let n=null,a=null,s=new ResizeObserver((i,s)=>{if(i.length>1){let e=t.firstChild;e&&(a=e.clientHeight,n=e.clientWidth,s.unobserve(t))}if(null===a||null===n)return;let o=Math.floor(e.clientHeight/a),l=Math.floor(e.clientWidth/n);r(e=>e.vertical!==o||e.horizontal!==l?{vertical:o,horizontal:l}:e)});return s.observe(e),s.observe(t),()=>{s.disconnect()}},[t,i,e]),n},yz=()=>(0,cD.jsx)(yA,{menuPlacement:"top-end"}),yW=()=>(0,cD.jsx)(yA,{}),yH=({ParticipantViewUIBar:e=yz,ParticipantViewUISpotlight:t=yW,VideoPlaceholder:i,participantsBarPosition:n="bottom",participantsBarLimit:r})=>{let a=um(),{useParticipants:s,useRemoteParticipants:o}=uj(),[l,...c]=s(),u=o(),[d,p]=(0,cM.useState)(null),[h,f]=(0,cM.useState)(null),[m,g]=(0,cM.useState)(null),y=yY(l),v=yV(m,h,r),b="left"===n||"right"===n,w="top"===n||"bottom"===n;(0,cM.useEffect)(()=>{if(!d||!a)return;let e=a.setViewport(d);return()=>e()},[d,a]),yU(a,1===c.length);let x=c,_=b?v.vertical:v.horizontal;return(void 0!==r&&null!==_&&(x=c.slice(0,_-(y?1:0))),a)?(0,cD.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[(0,cD.jsx)(m2,{participants:u}),(0,cD.jsxs)("div",{className:(0,uD.Z)("str-video__speaker-layout",n&&`str-video__speaker-layout--variant-${n}`),children:[(0,cD.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:l&&(0,cD.jsx)(yN,{participant:l,muteAudio:!0,trackType:y?"screenShareTrack":"videoTrack",ParticipantViewUI:t,VideoPlaceholder:i})}),x.length>0&&n&&(0,cD.jsxs)("div",{ref:g,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,cD.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:p,children:(0,cD.jsxs)("div",{ref:f,className:"str-video__speaker-layout__participants-bar",children:[y&&(0,cD.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,cD.jsx)(yN,{participant:l,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},l.sessionId),x.map(t=>(0,cD.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,cD.jsx)(yN,{participant:t,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},t.sessionId))]})}),b&&(0,cD.jsx)(yJ,{scrollWrapper:d}),w&&(0,cD.jsx)(yG,{scrollWrapper:d})]})]})]}):null},yG=({scrollWrapper:e})=>{let t=ge(e);return(0,cD.jsxs)(cD.Fragment,{children:[t&&"start"!==t&&(0,cD.jsx)(gu,{onClick:()=>{e?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),t&&"end"!==t&&(0,cD.jsx)(gu,{onClick:()=>{e?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},yJ=({scrollWrapper:e})=>{let t=m9(e);return(0,cD.jsxs)(cD.Fragment,{children:[t&&"top"!==t&&(0,cD.jsx)(gu,{onClick:()=>{e?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),t&&"bottom"!==t&&(0,cD.jsx)(gu,{onClick:()=>{e?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},yY=e=>!!e?.publishedTracks.includes(aD.TrackType.SCREEN_SHARE),[yX,yZ,yQ]="0.5.1".split(".");a={type:aD.SdkType.REACT,major:yX,minor:yZ,patch:yQ}},45904:(e,t,i)=>{"use strict";i.d(t,{Ry:()=>c});var n=new WeakMap,r=new WeakMap,a={},s=0,o=function(e){return e&&(e.host||o(e.parentNode))},l=function(e,t,i,l){var c=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var i=o(e);return i&&t.contains(i)?i:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});a[i]||(a[i]=new WeakMap);var u=a[i],d=[],p=new Set,h=new Set(c),f=function(e){!e||p.has(e)||(p.add(e),f(e.parentNode))};c.forEach(f);var m=function(e){!e||h.has(e)||Array.prototype.forEach.call(e.children,function(e){if(p.has(e))m(e);else{var t=e.getAttribute(l),a=null!==t&&"false"!==t,s=(n.get(e)||0)+1,o=(u.get(e)||0)+1;n.set(e,s),u.set(e,o),d.push(e),1===s&&a&&r.set(e,!0),1===o&&e.setAttribute(i,"true"),a||e.setAttribute(l,"true")}})};return m(t),p.clear(),s++,function(){d.forEach(function(e){var t=n.get(e)-1,a=u.get(e)-1;n.set(e,t),u.set(e,a),t||(r.has(e)||e.removeAttribute(l),r.delete(e)),a||e.removeAttribute(i)}),--s||(n=new WeakMap,n=new WeakMap,r=new WeakMap,a={})}},c=function(e,t,i){void 0===i&&(i="data-aria-hidden");var n,r=Array.from(Array.isArray(e)?e:[e]),a=t||(n=e,"undefined"==typeof document?null:(Array.isArray(n)?n[0]:n).ownerDocument.body);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),l(r,a,i,"aria-hidden")):function(){return null}}},54656:(e,t,i)=>{e.exports={parallel:i(23480),serial:i(47186),serialOrdered:i(74345)}},49105:e=>{e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}};function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}},66779:(e,t,i)=>{var n=i(94788);e.exports=function(e){var t=!1;return n(function(){t=!0}),function(i,r){t?e(i,r):n(function(){e(i,r)})}}},94788:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},93354:(e,t,i)=>{var n=i(66779),r=i(49105);e.exports=function(e,t,i,a){var s,o,l=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[l]=(s=e[l],o=function(e,t){l in i.jobs&&(delete i.jobs[l],e?r(i):i.results[l]=t,a(e,i.results))},2==t.length?t(s,n(o)):t(s,l,n(o)))}},19780:e=>{e.exports=function(e,t){var i=!Array.isArray(e),n={index:0,keyedList:i||t?Object.keys(e):null,jobs:{},results:i?{}:[],size:i?Object.keys(e).length:e.length};return t&&n.keyedList.sort(i?t:function(i,n){return t(e[i],e[n])}),n}},136:(e,t,i)=>{var n=i(49105),r=i(66779);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,n(this),r(e)(null,this.results))}},23480:(e,t,i)=>{var n=i(93354),r=i(19780),a=i(136);e.exports=function(e,t,i){for(var s=r(e);s.index<(s.keyedList||e).length;)n(e,t,s,function(e,t){if(e){i(e,t);return}if(0===Object.keys(s.jobs).length){i(null,s.results);return}}),s.index++;return a.bind(s,i)}},47186:(e,t,i)=>{var n=i(74345);e.exports=function(e,t,i){return n(e,t,null,i)}},74345:(e,t,i)=>{var n=i(93354),r=i(19780),a=i(136);function s(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,i,s){var o=r(e,i);return n(e,t,o,function i(r,a){if(r){s(r,a);return}if(o.index++,o.index<(o.keyedList||e).length){n(e,t,o,i);return}s(null,o.results)}),a.bind(o,s)},e.exports.ascending=s,e.exports.descending=function(e,t){return -1*s(e,t)}},93675:(e,t,i)=>{var n=i(11252),r=i(73837),a=i(71017),s=i(13685),o=i(95687),l=i(57310).parse,c=i(57147),u=i(12781).Stream,d=i(63830),p=i(54656),h=i(51054);function f(e){if(!(this instanceof f))return new f(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=f,r.inherits(f,n),f.LINE_BREAK="\r\n",f.DEFAULT_CONTENT_TYPE="application/octet-stream",f.prototype.append=function(e,t,i){"string"==typeof(i=i||{})&&(i={filename:i});var a=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),r.isArray(t)){this._error(Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,i),o=this._multiPartFooter();a(s),a(t),a(o),this._trackLength(s,t,i)},f.prototype._trackLength=function(e,t,i){var n=0;null!=i.knownLength?n+=+i.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+f.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(i.knownLength||this._valuesToMeasure.push(t))},f.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):c.stat(e.path,function(i,n){if(i){t(i);return}t(null,n.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(i){e.pause(),t(null,+i.headers["content-length"])}),e.resume()):t("Unknown stream")},f.prototype._multiPartHeader=function(e,t,i){if("string"==typeof i.header)return i.header;var n,r=this._getContentDisposition(t,i),a=this._getContentType(t,i),s="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(r||[]),"Content-Type":[].concat(a||[])};for(var l in"object"==typeof i.header&&h(o,i.header),o)if(o.hasOwnProperty(l)){if(null==(n=o[l]))continue;Array.isArray(n)||(n=[n]),n.length&&(s+=l+": "+n.join("; ")+f.LINE_BREAK)}return"--"+this.getBoundary()+f.LINE_BREAK+s+f.LINE_BREAK},f.prototype._getContentDisposition=function(e,t){var i,n;return"string"==typeof t.filepath?i=a.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?i=a.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(i=a.basename(e.client._httpMessage.path||"")),i&&(n='filename="'+i+'"'),n},f.prototype._getContentType=function(e,t){var i=t.contentType;return!i&&e.name&&(i=d.lookup(e.name)),!i&&e.path&&(i=d.lookup(e.path)),!i&&e.readable&&e.hasOwnProperty("httpVersion")&&(i=e.headers["content-type"]),!i&&(t.filepath||t.filename)&&(i=d.lookup(t.filepath||t.filename)),i||"object"!=typeof e||(i=f.DEFAULT_CONTENT_TYPE),i},f.prototype._multiPartFooter=function(){return(function(e){var t=f.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},f.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+f.LINE_BREAK},f.prototype.getHeaders=function(e){var t,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(i[t.toLowerCase()]=e[t]);return i},f.prototype.setBoundary=function(e){this._boundary=e},f.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},f.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),i=0,n=this._streams.length;i<n;i++)"function"!=typeof this._streams[i]&&(e=Buffer.isBuffer(this._streams[i])?Buffer.concat([e,this._streams[i]]):Buffer.concat([e,Buffer.from(this._streams[i])]),("string"!=typeof this._streams[i]||this._streams[i].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(f.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},f.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},f.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},f.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},f.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}p.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,n){if(i){e(i);return}n.forEach(function(e){t+=e}),e(null,t)})},f.prototype.submit=function(e,t){var i,n,r={method:"post"};return"string"==typeof e?n=h({port:(e=l(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},r):(n=h(e,r)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),i="https:"==n.protocol?o.request(n):s.request(n),this.getLength((function(e,n){if(e&&"Unknown stream"!==e){this._error(e);return}if(n&&i.setHeader("Content-Length",n),this.pipe(i),t){var r,a=function(e,n){return i.removeListener("error",a),i.removeListener("response",r),t.call(this,e,n)};r=a.bind(this,null),i.on("error",a),i.on("response",r)}}).bind(this)),i},f.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},f.prototype.toString=function(){return"[object FormData]"}},51054:e=>{e.exports=function(e,t){return Object.keys(t).forEach(function(i){e[i]=e[i]||t[i]}),e}},76655:(e,t)=>{"use strict";t.JQ=function(e){for(var t,n=e.length,r=n%3,a=[],s=0,o=n-r;s<o;s+=16383)a.push(function(e,t,n){for(var r,a=[],s=t;s<n;s+=3)a.push(i[(r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===r?a.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&a.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")};for(var i=[],n=[],r=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a=0,s=r.length;a<s;++a)i[a]=r[a],n[r.charCodeAt(a)]=a;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},71364:(e,t,i)=>{"use strict";var n=i(14300).Buffer,r=i(14300).SlowBuffer;function a(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,r=0;r<e.length;r++)i|=e[r]^t[r];return 0===i}e.exports=a,a.install=function(){n.prototype.equal=r.prototype.equal=function(e){return a(this,e)}};var s=n.prototype.equal,o=r.prototype.equal;a.restore=function(){n.prototype.equal=s,r.prototype.equal=o}},11252:(e,t,i)=>{var n=i(73837),r=i(12781).Stream,a=i(890);function s(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=s,n.inherits(s,r),s.create=function(e){var t=new this;for(var i in e=e||{})t[i]=e[i];return t},s.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},s.prototype.append=function(e){if(s.isStreamLike(e)){if(!(e instanceof a)){var t=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},s.prototype.pipe=function(e,t){return r.prototype.pipe.call(this,e,t),this.resume(),e},s.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},s.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){s.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},s.prototype._pipeNext=function(e){if(this._currentStream=e,s.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},s.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},s.prototype.write=function(e){this.emit("data",e)},s.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},s.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},s.prototype.end=function(){this._reset(),this.emit("end")},s.prototype.destroy=function(){this._reset(),this.emit("close")},s.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},s.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},s.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},s.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},60510:(e,t,i)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),t.splice(r,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(60506)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},60506:(e,t,i)=>{e.exports=function(e){function t(e){let i,r,a;let s=null;function o(...e){if(!o.enabled)return;let n=Number(new Date),r=n-(i||n);o.diff=r,o.prev=i,o.curr=n,i=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,n)=>{if("%%"===i)return"%";a++;let r=t.formatters[n];if("function"==typeof r){let t=e[a];i=r.call(o,t),e.splice(a,1),a--}return i}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,i){let n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let i,n;if("*"===e[e.length-1])return!0;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(58476),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t)|0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},62056:(e,t,i)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=i(60510):e.exports=i(12086)},12086:(e,t,i)=>{let n=i(76224),r=i(73837);t.init=function(e){e.inspectOpts={};let i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(r.format(...e)+"\n")},t.formatArgs=function(i){let{namespace:n,useColors:r}=this;if(r){let t=this.color,r="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${r};1m${n} \u001B[0m`;i[0]=a+i[0].split("\n").join("\n"+a),i.push(r+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else i[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=i(60125);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),e.exports=i(60506)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}},890:(e,t,i)=>{var n=i(12781).Stream,r=i(73837);function a(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=a,r.inherits(a,n),a.create=function(e,t){var i=new this;for(var n in t=t||{})i[n]=t[n];i.source=e;var r=e.emit;return e.emit=function(){return i._handleEmit(arguments),r.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(a.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),a.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},a.prototype.resume=function(){this._released||this.release(),this.source.resume()},a.prototype.pause=function(){this.source.pause()},a.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},a.prototype.pipe=function(){var e=n.prototype.pipe.apply(this,arguments);return this.resume(),e},a.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},a.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},99810:(e,t,i)=>{"use strict";var n=i(5299).Buffer,r=i(69754);function a(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,i){for(var n=0;t+n<i&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=a(e);var i=r(t),s=i+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(o-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var p=e[l++];if(o-l!==p)throw Error('"s" specified length of "'+p+'", expected "'+(o-l)+'"');if(s<p)throw Error('"s" specified length of "'+p+'", max of "'+s+'" is acceptable');var h=l;if((l+=p)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var f=i-u,m=i-p,g=n.allocUnsafe(f+u+m+p);for(l=0;l<f;++l)g[l]=0;e.copy(g,l,d+Math.max(-f,0),d+u),l=i;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,h+Math.max(-m,0),h+p),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var i=r(t),o=e.length;if(o!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+o+'"');var l=s(e,0,i),c=s(e,i,e.length),u=i-l,d=i-c,p=2+u+1+1+d,h=p<128,f=n.allocUnsafe((h?2:3)+p),m=0;return f[m++]=48,h?f[m++]=p:(f[m++]=129,f[m++]=255&p),f[m++]=2,f[m++]=u,l<0?(f[m++]=0,m+=e.copy(f,m,0,i)):m+=e.copy(f,m,l,i),f[m++]=2,f[m++]=d,c<0?(f[m++]=0,e.copy(f,m,i)):e.copy(f,m,i+c),f}}},69754:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},82920:(e,t,i)=>{var n;e.exports=function(){if(!n){try{n=i(62056)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},42136:(e,t,i)=>{var n=i(57310),r=n.URL,a=i(13685),s=i(95687),o=i(12781).Writable,l=i(39491),c=i(82920),u=!1;try{l(new r)}catch(e){u="ERR_INVALID_URL"===e.code}var d=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],p=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);p.forEach(function(e){h[e]=function(t,i,n){this._redirectable.emit(e,t,i,n)}});var f=T("ERR_INVALID_URL","Invalid URL",TypeError),m=T("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g=T("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",m),y=T("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),v=T("ERR_STREAM_WRITE_AFTER_END","write after end"),b=o.prototype.destroy||_;function w(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var i=this;this._onNativeResponse=function(e){try{i._processResponse(e)}catch(e){i.emit("error",e instanceof m?e:new m({cause:e}))}},this._performRequest()}function x(e){var t={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(e).forEach(function(n){var a=n+":",s=i[a]=e[n],o=t[n]=Object.create(s);Object.defineProperties(o,{request:{value:function(e,n,s){var o;return(o=e,r&&o instanceof r)?e=R(e):P(e)?e=R(S(e)):(s=n,n=k(e),e={protocol:a}),A(n)&&(s=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=i,P(n.host)||P(n.hostname)||(n.hostname="::1"),l.equal(n.protocol,a,"protocol mismatch"),c("options",n),new w(n,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,i){var n=o.request(e,t,i);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})}),t}function _(){}function S(e){var t;if(u)t=new r(e);else if(!P((t=k(n.parse(e))).protocol))throw new f({input:e});return t}function k(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new f({input:e.href||e});return e}function R(e,t){var i=t||{};for(var n of d)i[n]=e[n];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),""!==i.port&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function E(e,t){var i;for(var n in t)e.test(n)&&(i=t[n],delete t[n]);return null==i?void 0:String(i).trim()}function T(e,t,i){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(i||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function C(e,t){for(var i of p)e.removeListener(i,h[i]);e.on("error",_),e.destroy(t)}function P(e){return"string"==typeof e||e instanceof String}function A(e){return"function"==typeof e}w.prototype=Object.create(o.prototype),w.prototype.abort=function(){C(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},w.prototype.destroy=function(e){return C(this._currentRequest,e),b.call(this,e),this},w.prototype.write=function(e,t,i){if(this._ending)throw new v;if(!P(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(A(t)&&(i=t,t=null),0===e.length){i&&i();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,i)):(this.emit("error",new y),this.abort())},w.prototype.end=function(e,t,i){if(A(e)?(i=e,e=t=null):A(t)&&(i=t,t=null),e){var n=this,r=this._currentRequest;this.write(e,t,function(){n._ended=!0,r.end(null,null,i)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,i)},w.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},w.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},w.prototype.setTimeout=function(e,t){var i=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function r(t){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),a()},e),n(t)}function a(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",a),i.removeListener("error",a),i.removeListener("response",a),i.removeListener("close",a),t&&i.removeListener("timeout",t),i.socket||i._currentRequest.removeListener("socket",r)}return t&&this.on("timeout",t),this.socket?r(this.socket):this._currentRequest.once("socket",r),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this.on("close",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){w.prototype[e]=function(t,i){return this._currentRequest[e](t,i)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(w.prototype,e,{get:function(){return this._currentRequest[e]}})}),w.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},w.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var i=e.slice(0,-1);this._options.agent=this._options.agents[i]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var a of(r._redirectable=this,p))r.on(a,h[a]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,l=this._requestBodyBuffers;!function e(t){if(r===o._currentRequest){if(t)o.emit("error",t);else if(s<l.length){var i=l[s++];r.finished||r.write(i.data,i.encoding,e)}else o._ended&&r.end()}}()}},w.prototype._processResponse=function(e){var t,i,a,s=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:s});var o=e.headers.location;if(!o||!1===this._options.followRedirects||s<300||s>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(C(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g;var d=this._options.beforeRedirect;d&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var p=this._options.method;(301!==s&&302!==s||"POST"!==this._options.method)&&(303!==s||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],E(/^content-/i,this._options.headers));var h=E(/^host$/i,this._options.headers),f=S(this._currentUrl),m=h||f.host,y=/^\w+:/.test(o)?this._currentUrl:n.format(Object.assign(f,{host:m})),v=u?new r(o,y):S(n.resolve(y,o));if(c("redirecting to",v.href),this._isRedirect=!0,R(v,this._options),(v.protocol===f.protocol||"https:"===v.protocol)&&(v.host===m||(l(P(t=v.host)&&P(m)),(i=t.length-m.length-1)>0&&"."===t[i]&&t.endsWith(m)))||E(/^(?:authorization|cookie)$/i,this._options.headers),A(d)){var b={headers:e.headers,statusCode:s},w={url:y,method:p,headers:a};d(this._options,b,w),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=x({http:a,https:s}),e.exports.wrap=x},70814:e=>{"use strict";e.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),r=t.indexOf("--");return -1!==n&&(-1===r||n<r)}},95357:(e,t,i)=>{"use strict";e.exports=i(42659)},83880:(e,t,i)=>{var n=i(75945);e.exports=function(e,t){t=t||{};var i=n.decode(e,t);if(!i)return null;var r=i.payload;if("string"==typeof r)try{var a=JSON.parse(r);null!==a&&"object"==typeof a&&(r=a)}catch(e){}return!0===t.complete?{header:i.header,payload:r,signature:i.signature}:r}},89835:(e,t,i)=>{e.exports={decode:i(83880),verify:i(7738),sign:i(70939),JsonWebTokenError:i(72658),NotBeforeError:i(46951),TokenExpiredError:i(17118)}},72658:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},46951:(e,t,i)=>{var n=i(72658),r=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},17118:(e,t,i)=>{var n=i(72658),r=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},13855:(e,t,i)=>{let n=i(86952);e.exports=n.satisfies(process.version,">=15.7.0")},27771:(e,t,i)=>{var n=i(86952);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},60875:(e,t,i)=>{let n=i(86952);e.exports=n.satisfies(process.version,">=16.9.0")},40425:(e,t,i)=>{var n=i(58476);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var r=n(e);if(void 0===r)return;return Math.floor(i+r/1e3)}if("number"==typeof e)return i+e}},92964:(e,t,i)=>{let n=i(13855),r=i(60875),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let o=a[i];if(!o)throw Error(`Unknown key type "${i}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${o.join(", ")}.`);if(n)switch(i){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(r){let i=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:r,saltLength:a}=t.asymmetricKeyDetails;if(n!==`sha${i}`||r!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},70939:(e,t,i)=>{let n=i(40425),r=i(27771),a=i(92964),s=i(75945),o=i(87127),l=i(89113),c=i(16919),u=i(7124),d=i(23632),p=i(40075),h=i(91453),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=i(6113),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&y.splice(3,0,"PS256","PS384","PS512");let v={expiresIn:{isValid:function(e){return c(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(e,t,i,n){if(!d(i))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(r){let a=e[r];if(!a){if(!t)throw Error('"'+r+'" is not allowed in "'+n+'"');return}if(!a.isValid(i[r]))throw Error(a.message)})}let x={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,r){var o,l;"function"==typeof i?(r=i,i={}):i=i||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:i.algorithm||"HS256",typ:c?"JWT":void 0,kid:i.keyid},i.header);function d(e){if(r)return r(e);throw e}if(!t&&"none"!==i.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!i.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{o=e,w(b,!0,o,"payload")}catch(e){return d(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=_.filter(function(e){return void 0!==i[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=i,w(v,!1,l,"options")}catch(e){return d(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return d(e)}let p=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:c&&(e.iat=p),void 0!==i.notBefore){try{e.nbf=n(i.notBefore,p)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=n(i.expiresIn,p)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(x).forEach(function(t){let n=x[t];if(void 0!==i[t]){if(void 0!==e[n])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});let y=i.encoding||"utf8";if("function"==typeof r)r=r&&h(r),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",r).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return r(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));r(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:y});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},7738:(e,t,i)=>{let n=i(72658),r=i(46951),a=i(17118),s=i(83880),o=i(40425),l=i(92964),c=i(27771),u=i(75945),{KeyObject:d,createSecretKey:p,createPublicKey:h}=i(6113),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,c){let v,b,w;if("function"!=typeof i||c||(c=i,i={}),i||(i={}),i=Object.assign({},i),v=c||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return v(new n("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return v(new n("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let x=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new n("jwt must be provided"));if("string"!=typeof e)return v(new n("jwt must be a string"));let _=e.split(".");if(3!==_.length)return v(new n("jwt malformed"));try{b=s(e,{complete:!0})}catch(e){return v(e)}if(!b)return v(new n("invalid token"));let S=b.header;if("function"==typeof t){if(!c)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,i){return i(null,t)};return w(S,function(t,s){let c;if(t)return v(new n("error in secret or public key callback: "+t.message));let w=""!==_[2].trim();if(!w&&s)return v(new n("jwt signature is required"));if(w&&!s)return v(new n("secret or public key must be provided"));if(!w&&!i.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=h(s)}catch(e){try{s=p("string"==typeof s?Buffer.from(s):s)}catch(e){return v(new n("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===s.type?i.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?i.algorithms=g:"ec"===s.asymmetricKeyType?i.algorithms=m:i.algorithms=f),-1===i.algorithms.indexOf(b.header.alg))return v(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==s.type)return v(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==s.type)return v(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{l(S.alg,s)}catch(e){return v(e)}try{c=u.verify(e,b.header.alg,s)}catch(e){return v(e)}if(!c)return v(new n("invalid signature"));let k=b.payload;if(void 0!==k.nbf&&!i.ignoreNotBefore){if("number"!=typeof k.nbf)return v(new n("invalid nbf value"));if(k.nbf>x+(i.clockTolerance||0))return v(new r("jwt not active",new Date(1e3*k.nbf)))}if(void 0!==k.exp&&!i.ignoreExpiration){if("number"!=typeof k.exp)return v(new n("invalid exp value"));if(x>=k.exp+(i.clockTolerance||0))return v(new a("jwt expired",new Date(1e3*k.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(k.aud)?k.aud:[k.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return v(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&k.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(k.iss)))return v(new n("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&k.sub!==i.subject)return v(new n("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&k.jti!==i.jwtid)return v(new n("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&k.nonce!==i.nonce)return v(new n("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof k.iat)return v(new n("iat required when maxAge is specified"));let e=o(i.maxAge,k.iat);if(void 0===e)return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(x>=e+(i.clockTolerance||0))return v(new a("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?v(null,{header:S,payload:k,signature:b.signature}):v(null,k)})}},14916:(e,t,i)=>{var n=i(71364),r=i(5299).Buffer,a=i(6113),s=i(99810),o=i(73837),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function d(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function p(e){if(!r.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,r.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,i){(function(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(i),t=g(t);var n=a.createHmac("sha"+e,i);return h((n.update(t),n.digest("base64")))}}function v(e){return function(t,i,a){var s=y(e)(t,a);return n(r.from(i),r.from(s))}}function b(e){return function(t,i){p(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(i,"base64")))}}function w(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify(n,i,"base64")}}function x(e){return function(t,i){p(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify({key:n,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function S(e){var t=b(e);return function(){var i=t.apply(null,arguments);return s.derToJose(i,"ES"+e)}}function k(e){var t=w(e);return function(i,n,r){return t(i,n=s.joseToDer(n,"ES"+e).toString("base64"),r)}}function R(){return function(){return""}}function E(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:b,ps:x,es:S,none:R})[i](n),verify:({hs:v,rs:w,ps:_,es:k,none:E})[i](n)}}},75945:(e,t,i)=>{var n=i(55562),r=i(46612);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=r.verify,t.decode=r.decode,t.isValid=r.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new r(e)}},78450:(e,t,i)=>{var n=i(5299).Buffer,r=i(12781);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(73837).inherits(a,r),a.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},55562:(e,t,i)=>{var n=i(5299).Buffer,r=i(78450),a=i(14916),s=i(12781),o=i(55047),l=i(73837);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,i,n,r=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,p=a(r.alg),h=(t=(t=d)||"utf8",i=c(o(r),"binary"),n=c(o(s),t),l.format("%s.%s",i,n)),f=p.sign(h,u);return l.format("%s.%s",h,f)}function d(e){var t=new r(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new r(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},55047:(e,t,i)=>{var n=i(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},46612:(e,t,i)=>{var n=i(5299).Buffer,r=i(78450),a=i(14916),s=i(12781),o=i(55047),l=i(73837),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function p(e){return c.test(e)&&!!u(e)}function h(e,t,i){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var r=d(e=o(e)),s=e.split(".",2).join(".");return a(t).verify(s,r,i)}function f(e,t){if(t=t||{},!p(e=o(e)))return null;var i,r,a=u(e);if(!a)return null;var s=(i=i||"utf8",r=e.split(".")[1],n.from(r,"base64").toString(i));return("JWT"===a.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:a,payload:s,signature:d(e)}}function m(e){var t=new r((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new r(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=p,m.verify=h,e.exports=m},87127:e=>{var t,i,n=1/0,r=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var p=Object.prototype,h=p.hasOwnProperty,f=p.toString,m=p.propertyIsEnumerable,g=(t=Object.keys,i=Object,function(e){return t(i(e))}),y=Math.max,v=Array.isArray;function b(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=w(e)?f.call(e):"")||"[object GeneratorFunction]"==i)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,_){e=b(e)?e:(S=e)?function(e,t){for(var i=-1,n=e?e.length:0,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}(b(S)?function(e,t){var i,n=v(e)||x(e)&&b(e)&&h.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],r=n.length,a=!!r;for(var s in e)h.call(e,s)&&!(a&&("length"==s||(i=null==(i=r)?9007199254740991:i)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<i))&&n.push(s);return n}(S):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||p))return g(e);var t,i=[];for(var n in Object(e))h.call(e,n)&&"constructor"!=n&&i.push(n);return i}(S),function(e){return S[e]}):[],i=i&&!_?(E=(R=(k=i)?(k=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||x(t)&&"[object Symbol]"==f.call(t))return r;if(w(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=w(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?r:+e}(k))===n||k===-n?(k<0?-1:1)*17976931348623157e292:k==k?k:0:0===k?k:0)%1,R==R?E?R-E:R:0):0;var S,k,R,E,T,C=e.length;return i<0&&(i=y(C+i,0)),"string"==typeof(T=e)||!v(T)&&x(T)&&"[object String]"==f.call(T)?i<=C&&e.indexOf(t,i)>-1:!!C&&function(e,t,i){if(t!=t)return function(e,t,i,n){for(var r=e.length,a=i+(n?1:-1);n?a--:++a<r;)if(t(e[a],a,e))return a;return -1}(e,d,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return -1}(e,t,i)>-1}},89113:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},16919:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,p;return"number"==typeof e&&e==(p=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?p?d-p:d:0)}},7124:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},23632:e=>{var t,i,n=Object.prototype,r=Function.prototype.toString,a=n.hasOwnProperty,s=r.call(Object),o=n.toString,l=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var i=a.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&r.call(i)==s}},40075:e=>{var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!i(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},91453:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,p,h,f;if("function"!=typeof u)throw TypeError("Expected a function");return f=(h=(p=e)?(p=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(p))===t||p===-t?(p<0?-1:1)*17976931348623157e292:p==p?p:0:0===p?p:0)%1,e=h==h?f?h-f:h:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},68818:(e,t,i)=>{/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=i(40572)},63830:(e,t,i)=>{"use strict";/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=i(68818),r=i(71017).extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;function o(e){if(!e||"string"!=typeof e)return!1;var t=a.exec(e),i=t&&n[t[1].toLowerCase()];return i&&i.charset?i.charset:!!(t&&s.test(t[1]))&&"UTF-8"}t.charset=o,t.charsets={lookup:o},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var i=-1===e.indexOf("/")?t.lookup(e):e;if(!i)return!1;if(-1===i.indexOf("charset")){var n=t.charset(i);n&&(i+="; charset="+n.toLowerCase())}return i},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var i=a.exec(e),n=i&&t.extensions[i[1].toLowerCase()];return!!n&&!!n.length&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var i=r("x."+e).toLowerCase().substr(1);return!!i&&(t.types[i]||!1)},t.types=Object.create(null),function(e,t){var i=["nginx","apache",void 0,"iana"];Object.keys(n).forEach(function(r){var a=n[r],s=a.extensions;if(s&&s.length){e[r]=s;for(var o=0;o<s.length;o++){var l=s[o];if(t[l]){var c=i.indexOf(n[t[l]].source),u=i.indexOf(a.source);if("application/octet-stream"!==t[l]&&(c>u||c===u&&"application/"===t[l].substr(0,12)))continue}t[l]=r}}})}(t.extensions,t.types)},58476:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,r,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(r=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":r>=36e5?Math.round(e/36e5)+"h":r>=6e4?Math.round(e/6e4)+"m":r>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},89410:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var n=i(37412),r=i.n(n)},56506:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var n=i(61476),r=i.n(n)},28371:(e,t,i)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return r}});let n=i(13664);function r(e){let{createServerReference:t}=i(82228);return t(e,n.callServer)}},41314:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}}),i(19847);let n=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},73055:(e,t,i)=>{"use strict";function n(e,t,i,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),i(19847),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31900:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return b}});let n=i(39694),r=i(17824),a=i(95344),s=r._(i(3729)),o=n._(i(81202)),l=n._(i(1758)),c=i(83855),u=i(73053),d=i(74187);i(70837);let p=i(66150),h=n._(i(74931)),f={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e,t,i,n,r,a){let s=null==e?void 0:e.src;e&&e["data-loaded-src"]!==s&&(e["data-loaded-src"]=s,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&r(!0),null==i?void 0:i.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,r=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{r=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function g(e){let[t,i]=s.version.split(".",2),n=parseInt(t,10),r=parseInt(i,10);return n>18||18===n&&r>=3?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let y=(0,s.forwardRef)((e,t)=>{let{src:i,srcSet:n,sizes:r,height:o,width:l,decoding:c,className:u,style:d,fetchPriority:p,placeholder:h,loading:f,unoptimized:y,fill:v,onLoadRef:b,onLoadingCompleteRef:w,setBlurComplete:x,setShowAltText:_,onLoad:S,onError:k,...R}=e;return(0,a.jsx)("img",{...R,...g(p),loading:f,width:l,height:o,decoding:c,"data-nimg":v?"fill":"1",className:u,style:d,sizes:r,srcSet:n,src:i,ref:(0,s.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(k&&(e.src=e.src),e.complete&&m(e,h,b,w,x,y))},[i,h,b,w,x,k,y,t]),onLoad:e=>{m(e.currentTarget,h,b,w,x,y)},onError:e=>{_(!0),"empty"!==h&&x(!0),k&&k(e)}})});function v(e){let{isAppRouter:t,imgAttributes:i}=e,n={as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy,...g(i.fetchPriority)};return t&&o.default.preload?(o.default.preload(i.src,n),null):(0,a.jsx)(l.default,{children:(0,a.jsx)("link",{rel:"preload",href:i.srcSet?void 0:i.src,...n},"__nimg-"+i.src+i.srcSet+i.sizes)})}let b=(0,s.forwardRef)((e,t)=>{let i=(0,s.useContext)(p.RouterContext),n=(0,s.useContext)(d.ImageConfigContext),r=(0,s.useMemo)(()=>{let e=f||n||u.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),i=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:i}},[n]),{onLoad:o,onLoadingComplete:l}=e,m=(0,s.useRef)(o);(0,s.useEffect)(()=>{m.current=o},[o]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[b,w]=(0,s.useState)(!1),[x,_]=(0,s.useState)(!1),{props:S,meta:k}=(0,c.getImgProps)(e,{defaultLoader:h.default,imgConf:r,blurComplete:b,showAltText:x});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{...S,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:m,onLoadingCompleteRef:g,setBlurComplete:w,setShowAltText:_,ref:t}),k.priority?(0,a.jsx)(v,{isAppRouter:!i,imgAttributes:S}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61476:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let n=i(39694),r=i(95344),a=n._(i(3729)),s=i(26656),o=i(76737),l=i(92421),c=i(10853),u=i(41314),d=i(66150),p=i(46860),h=i(3470),f=i(73055),m=i(88928),g=i(8085);function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let v=a.default.forwardRef(function(e,t){let i,n;let{href:l,as:v,children:b,prefetch:w=null,passHref:x,replace:_,shallow:S,scroll:k,locale:R,onClick:E,onMouseEnter:T,onTouchStart:C,legacyBehavior:P=!1,...A}=e;i=b,P&&("string"==typeof i||"number"==typeof i)&&(i=(0,r.jsx)("a",{children:i}));let O=a.default.useContext(d.RouterContext),I=a.default.useContext(p.AppRouterContext),N=null!=O?O:I,j=!O,L=!1!==w,D=null===w?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:M,as:U}=a.default.useMemo(()=>{if(!O){let e=y(l);return{href:e,as:v?y(v):e}}let[e,t]=(0,s.resolveHref)(O,l,!0);return{href:e,as:v?(0,s.resolveHref)(O,v):t||e}},[O,l,v]),q=a.default.useRef(M),$=a.default.useRef(U);P&&(n=a.default.Children.only(i));let F=P?n&&"object"==typeof n&&n.ref:t,[K,B,V]=(0,h.useIntersection)({rootMargin:"200px"}),z=a.default.useCallback(e=>{($.current!==U||q.current!==M)&&(V(),$.current=U,q.current=M),K(e),F&&("function"==typeof F?F(e):"object"==typeof F&&(F.current=e))},[U,F,M,V,K]);a.default.useEffect(()=>{},[U,M,B,R,L,null==O?void 0:O.locale,N,j,D]);let W={ref:z,onClick(e){P||"function"!=typeof E||E(e),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),N&&!e.defaultPrevented&&function(e,t,i,n,r,s,l,c,u){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,o.isLocalURL)(i)))return;e.preventDefault();let p=()=>{let e=null==l||l;"beforePopState"in t?t[r?"replace":"push"](i,n,{shallow:s,locale:c,scroll:e}):t[r?"replace":"push"](n||i,{scroll:e})};u?a.default.startTransition(p):p()}(e,N,M,U,_,S,k,R,j)},onMouseEnter(e){P||"function"!=typeof T||T(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e)},onTouchStart(e){P||"function"!=typeof C||C(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e)}};if((0,c.isAbsoluteUrl)(U))W.href=U;else if(!P||x||"a"===n.type&&!("href"in n.props)){let e=void 0!==R?R:null==O?void 0:O.locale,t=(null==O?void 0:O.isLocaleDomain)&&(0,f.getDomainLocale)(U,e,null==O?void 0:O.locales,null==O?void 0:O.domainLocales);W.href=t||(0,m.addBasePath)((0,u.addLocale)(U,e,null==O?void 0:O.defaultLocale))}return P?a.default.cloneElement(n,W):(0,r.jsx)("a",{...A,...W,children:i})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},66252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{requestIdleCallback:function(){return i},cancelIdleCallback:function(){return n}});let i="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26656:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return d}});let n=i(77043),r=i(92421),a=i(60663),s=i(10853),o=i(19847),l=i(76737),c=i(44831),u=i(78729);function d(e,t,i){let d;let p="string"==typeof t?t:(0,r.formatWithValidation)(t),h=p.match(/^[a-zA-Z]{1,}:\/\//),f=h?p.slice(h[0].length):p;if((f.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+p+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,s.normalizeRepeatedSlashes)(f);p=(h?h[0]:"")+t}if(!(0,l.isLocalURL)(p))return i?[p]:p;try{d=new URL(p.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){d=new URL("/","http://n")}try{let e=new URL(p,d);e.pathname=(0,o.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&i){let i=(0,n.searchParamsToUrlQuery)(e.searchParams),{result:s,params:o}=(0,u.interpolateAs)(e.pathname,e.pathname,i);s&&(t=(0,r.formatWithValidation)({pathname:s,hash:e.hash,query:(0,a.omit)(i,o)}))}let s=e.origin===d.origin?e.href.slice(e.origin.length):e.href;return i?[s,t||s]:s}catch(e){return i?[p]:p}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3470:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let n=i(3729),r=i(66252),a="function"==typeof IntersectionObserver,s=new Map,o=[];function l(e){let{rootRef:t,rootMargin:i,disabled:l}=e,c=l||!a,[u,d]=(0,n.useState)(!1),p=(0,n.useRef)(null),h=(0,n.useCallback)(e=>{p.current=e},[]);return(0,n.useEffect)(()=>{if(a){if(c||u)return;let e=p.current;if(e&&e.tagName)return function(e,t,i){let{id:n,observer:r,elements:a}=function(e){let t;let i={root:e.root||null,margin:e.rootMargin||""},n=o.find(e=>e.root===i.root&&e.margin===i.margin);if(n&&(t=s.get(n)))return t;let r=new Map;return t={id:i,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=r.get(e.target),i=e.isIntersecting||e.intersectionRatio>0;t&&i&&t(i)})},e),elements:r},o.push(i),s.set(i,t),t}(i);return a.set(e,t),r.observe(e),function(){if(a.delete(e),r.unobserve(e),0===a.size){r.disconnect(),s.delete(n);let e=o.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:i})}else if(!u){let e=(0,r.requestIdleCallback)(()=>d(!0));return()=>(0,r.cancelIdleCallback)(e)}},[c,i,t,u,p.current]),[h,u,(0,n.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7637:(e,t,i)=>{"use strict";e.exports=i(16372).vendored.contexts.AmpContext},32158:(e,t,i)=>{"use strict";e.exports=i(16372).vendored.contexts.HeadManagerContext},74187:(e,t,i)=>{"use strict";e.exports=i(16372).vendored.contexts.ImageConfigContext},13126:(e,t)=>{"use strict";function i(e){let{ampFirst:t=!1,hybrid:i=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||i&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return i}})},77866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return r}});let i=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function r(e){return i.test(e)?e.replace(n,"\\$&"):e}},83855:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return o}}),i(70837);let n=i(86358),r=i(73053);function a(e){return void 0!==e.default}function s(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o(e,t){var i;let o,l,c,{src:u,sizes:d,unoptimized:p=!1,priority:h=!1,loading:f,className:m,quality:g,width:y,height:v,fill:b=!1,style:w,onLoad:x,onLoadingComplete:_,placeholder:S="empty",blurDataURL:k,fetchPriority:R,layout:E,objectFit:T,objectPosition:C,lazyBoundary:P,lazyRoot:A,...O}=e,{imgConf:I,showAltText:N,blurComplete:j,defaultLoader:L}=t,D=I||r.imageConfigDefault;if("allSizes"in D)o=D;else{let e=[...D.deviceSizes,...D.imageSizes].sort((e,t)=>e-t),t=D.deviceSizes.sort((e,t)=>e-t);o={...D,allSizes:e,deviceSizes:t}}let M=O.loader||L;delete O.loader,delete O.srcSet;let U="__next_img_default"in M;if(U){if("custom"===o.loader)throw Error('Image with src "'+u+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=M;M=t=>{let{config:i,...n}=t;return e(n)}}if(E){"fill"===E&&(b=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];e&&(w={...w,...e});let t={responsive:"100vw",fill:"100vw"}[E];t&&!d&&(d=t)}let q="",$=s(y),F=s(v);if("object"==typeof(i=u)&&(a(i)||void 0!==i.src)){let e=a(u)?u.default:u;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(l=e.blurWidth,c=e.blurHeight,k=k||e.blurDataURL,q=e.src,!b){if($||F){if($&&!F){let t=$/e.width;F=Math.round(e.height*t)}else if(!$&&F){let t=F/e.height;$=Math.round(e.width*t)}}else $=e.width,F=e.height}}let K=!h&&("lazy"===f||void 0===f);(!(u="string"==typeof u?u:q)||u.startsWith("data:")||u.startsWith("blob:"))&&(p=!0,K=!1),o.unoptimized&&(p=!0),U&&u.endsWith(".svg")&&!o.dangerouslyAllowSVG&&(p=!0),h&&(R="high");let B=s(g),V=Object.assign(b?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:T,objectPosition:C}:{},N?{}:{color:"transparent"},w),z=j||"empty"===S?null:"blur"===S?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:$,heightInt:F,blurWidth:l,blurHeight:c,blurDataURL:k||"",objectFit:V.objectFit})+'")':'url("'+S+'")',W=z?{backgroundSize:V.objectFit||"cover",backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:z}:{},H=function(e){let{config:t,src:i,unoptimized:n,width:r,quality:a,sizes:s,loader:o}=e;if(n)return{src:i,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,i){let{deviceSizes:n,allSizes:r}=e;if(i){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(i);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:r.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:r,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>r.find(t=>t>=e)||r[r.length-1]))],kind:"x"}}(t,r,s),u=l.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:l.map((e,n)=>o({config:t,src:i,quality:a,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:o({config:t,src:i,quality:a,width:l[u]})}}({config:o,src:u,unoptimized:p,width:$,quality:B,sizes:d,loader:M});return{props:{...O,loading:K?"lazy":f,fetchPriority:R,width:$,height:F,decoding:"async",className:m,style:{...V,...W},sizes:H.sizes,srcSet:H.srcSet,src:H.src},meta:{unoptimized:p,priority:h,placeholder:S,fill:b}}}},1758:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{defaultHead:function(){return d},default:function(){return m}});let n=i(39694),r=i(17824),a=i(95344),s=r._(i(3729)),o=n._(i(27984)),l=i(7637),c=i(32158),u=i(13126);function d(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}i(70837);let h=["name","httpEquiv","charSet","itemProp"];function f(e,t){let{inAmpMode:i}=t;return e.reduce(p,[]).reverse().concat(d(i).reverse()).filter(function(){let e=new Set,t=new Set,i=new Set,n={};return r=>{let a=!0,s=!1;if(r.key&&"number"!=typeof r.key&&r.key.indexOf("$")>0){s=!0;let t=r.key.slice(r.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(r.type){case"title":case"base":t.has(r.type)?a=!1:t.add(r.type);break;case"meta":for(let e=0,t=h.length;e<t;e++){let t=h[e];if(r.props.hasOwnProperty(t)){if("charSet"===t)i.has(t)?a=!1:i.add(t);else{let e=r.props[t],i=n[t]||new Set;("name"!==t||!s)&&i.has(e)?a=!1:(i.add(e),n[t]=i)}}}}return a}}()).reverse().map((e,t)=>{let n=e.key||t;if(!i&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:n})})}let m=function(e){let{children:t}=e,i=(0,s.useContext)(l.AmpStateContext),n=(0,s.useContext)(c.HeadManagerContext);return(0,a.jsx)(o.default,{reduceComponentsToState:f,headManager:n,inAmpMode:(0,u.isInAmpMode)(i),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86358:(e,t)=>{"use strict";function i(e){let{widthInt:t,heightInt:i,blurWidth:n,blurHeight:r,blurDataURL:a,objectFit:s}=e,o=n?40*n:t,l=r?40*r:i,c=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},73053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},37412:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getImageProps:function(){return o},default:function(){return l}});let n=i(39694),r=i(83855),a=i(31900),s=n._(i(74931)),o=e=>{let{props:t}=(0,r.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}},l=a.Image},74931:(e,t)=>{"use strict";function i(e){let{config:t,src:i,width:n,quality:r}=e;return t.path+"?url="+encodeURIComponent(i)+"&w="+n+"&q="+(r||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),i.__next_img_default=!0;let n=i},92421:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{formatUrl:function(){return a},urlObjectKeys:function(){return s},formatWithValidation:function(){return o}});let n=i(17824)._(i(77043)),r=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:i}=e,a=e.protocol||"",s=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:i&&(c=t+(~i.indexOf(":")?"["+i+"]":i),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||r.test(a))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),""+a+c+(s=s.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+o}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return a(e)}},44831:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getSortedRoutes:function(){return n.getSortedRoutes},isDynamicRoute:function(){return r.isDynamicRoute}});let n=i(46177),r=i(25508)},78729:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return a}});let n=i(82694),r=i(76603);function a(e,t,i){let a="",s=(0,r.getRouteRegex)(e),o=s.groups,l=(t!==e?(0,n.getRouteMatcher)(s)(t):"")||i;a=e;let c=Object.keys(o);return c.every(e=>{let t=l[e]||"",{repeat:i,optional:n}=o[e],r="["+(i?"...":"")+e+"]";return n&&(r=(t?"":"/")+"["+r+"]"),i&&!Array.isArray(t)&&(t=[t]),(n||e in l)&&(a=a.replace(r,i?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(a=""),{params:c,result:a}}},25508:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return a}});let n=i(45767),r=/\/\[[^/]+?\](?=\/|$)/;function a(e){return(0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),r.test(e)}},76737:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return a}});let n=i(10853),r=i(96411);function a(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),i=new URL(e,t);return i.origin===t&&(0,r.hasBasePath)(i.pathname)}catch(e){return!1}}},60663:(e,t)=>{"use strict";function i(e,t){let i={};return Object.keys(e).forEach(n=>{t.includes(n)||(i[n]=e[n])}),i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return i}})},77043:(e,t)=>{"use strict";function i(e){let t={};return e.forEach((e,i)=>{void 0===t[i]?t[i]=e:Array.isArray(t[i])?t[i].push(e):t[i]=[t[i],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function r(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[i,r]=e;Array.isArray(r)?r.forEach(e=>t.append(i,n(e))):t.set(i,n(r))}),t}function a(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,i)=>e.append(i,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return r},assign:function(){return a}})},82694:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return r}});let n=i(10853);function r(e){let{re:t,groups:i}=e;return e=>{let r=t.exec(e);if(!r)return!1;let a=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},s={};return Object.keys(i).forEach(e=>{let t=i[e],n=r[t.pos];void 0!==n&&(s[e]=~n.indexOf("/")?n.split("/").map(e=>a(e)):t.repeat?[a(n)]:a(n))}),s}}},76603:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getRouteRegex:function(){return l},getNamedRouteRegex:function(){return d},getNamedMiddlewareRegex:function(){return p}});let n=i(45767),r=i(77866),a=i(74310);function s(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let i=e.startsWith("...");return i&&(e=e.slice(3)),{key:e,repeat:i,optional:t}}function o(e){let t=(0,a.removeTrailingSlash)(e).slice(1).split("/"),i={},o=1;return{parameterizedRoute:t.map(e=>{let t=n.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&a){let{key:e,optional:n,repeat:l}=s(a[1]);return i[e]={pos:o++,repeat:l,optional:n},"/"+(0,r.escapeStringRegexp)(t)+"([^/]+?)"}if(!a)return"/"+(0,r.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:n}=s(a[1]);return i[e]={pos:o++,repeat:t,optional:n},t?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:i}}function l(e){let{parameterizedRoute:t,groups:i}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:i}}function c(e){let{interceptionMarker:t,getSafeRouteKey:i,segment:n,routeKeys:a,keyPrefix:o}=e,{key:l,optional:c,repeat:u}=s(n),d=l.replace(/\W/g,"");o&&(d=""+o+d);let p=!1;(0===d.length||d.length>30)&&(p=!0),isNaN(parseInt(d.slice(0,1)))||(p=!0),p&&(d=i()),o?a[d]=""+o+l:a[d]=l;let h=t?(0,r.escapeStringRegexp)(t):"";return u?c?"(?:/"+h+"(?<"+d+">.+?))?":"/"+h+"(?<"+d+">.+?)":"/"+h+"(?<"+d+">[^/]+?)"}function u(e,t){let i;let s=(0,a.removeTrailingSlash)(e).slice(1).split("/"),o=(i=0,()=>{let e="",t=++i;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:s.map(e=>{let i=n.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(i&&a){let[i]=e.split(a[0]);return c({getSafeRouteKey:o,interceptionMarker:i,segment:a[1],routeKeys:l,keyPrefix:t?"nxtI":void 0})}return a?c({getSafeRouteKey:o,segment:a[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+(0,r.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function d(e,t){let i=u(e,t);return{...l(e),namedRegex:"^"+i.namedParameterizedRoute+"(?:/)?$",routeKeys:i.routeKeys}}function p(e,t){let{parameterizedRoute:i}=o(e),{catchAll:n=!0}=t;if("/"===i)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:r}=u(e,!1);return{namedRegex:"^"+r+(n?"(?:(/.*)?)":"")+"$"}}},46177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return n}});class i{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let i=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&i.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');i.unshift(t)}return null!==this.restSlugName&&i.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&i.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),i}_insert(e,t,n){if(0===e.length){this.placeholder=!1;return}if(n)throw Error("Catch-all must be the last part of the URL.");let r=e[0];if(r.startsWith("[")&&r.endsWith("]")){let i=r.slice(1,-1),s=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),s=!0),i.startsWith("...")&&(i=i.substring(3),n=!0),i.startsWith("[")||i.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+i+"').");if(i.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+i+"').");function a(e,i){if(null!==e&&e!==i)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+i+"').");t.forEach(e=>{if(e===i)throw Error('You cannot have the same slug name "'+i+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===r.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+i+'" differ only by non-word symbols within a single dynamic path')}),t.push(i)}if(n){if(s){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');a(this.optionalRestSlugName,i),this.optionalRestSlugName=i,r="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');a(this.restSlugName,i),this.restSlugName=i,r="[...]"}}else{if(s)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');a(this.slugName,i),this.slugName=i,r="[]"}}this.children.has(r)||this.children.set(r,new i),this.children.get(r)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function n(e){let t=new i;return e.forEach(e=>t.insert(e)),t.smoosh()}},27984:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=i(3729),r=()=>{},a=()=>{};function s(e){var t;let{headManager:i,reduceComponentsToState:s}=e;function o(){if(i&&i.mountedInstances){let t=n.Children.toArray(Array.from(i.mountedInstances).filter(Boolean));i.updateHead(s(t,e))}}return null==i||null==(t=i.mountedInstances)||t.add(e.children),o(),r(()=>{var t;return null==i||null==(t=i.mountedInstances)||t.add(e.children),()=>{var t;null==i||null==(t=i.mountedInstances)||t.delete(e.children)}}),r(()=>(i&&(i._pendingUpdate=o),()=>{i&&(i._pendingUpdate=o)})),a(()=>(i&&i._pendingUpdate&&(i._pendingUpdate(),i._pendingUpdate=null),()=>{i&&i._pendingUpdate&&(i._pendingUpdate(),i._pendingUpdate=null)})),null}},10853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{WEB_VITALS:function(){return i},execOnce:function(){return n},isAbsoluteUrl:function(){return a},getLocationOrigin:function(){return s},getURL:function(){return o},getDisplayName:function(){return l},isResSent:function(){return c},normalizeRepeatedSlashes:function(){return u},loadGetInitialProps:function(){return d},SP:function(){return p},ST:function(){return h},DecodeError:function(){return f},NormalizeError:function(){return m},PageNotFoundError:function(){return g},MissingStaticPage:function(){return y},MiddlewareNotFoundError:function(){return v},stringifyError:function(){return b}});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,i=!1;return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return i||(i=!0,t=e(...r)),t}}let r=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=e=>r.test(e);function s(){let{protocol:e,hostname:t,port:i}=window.location;return e+"//"+t+(i?":"+i:"")}function o(){let{href:e}=window.location,t=s();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let i=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(i&&c(i))return n;if(!n)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let p="undefined"!=typeof performance,h=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},86886:(e,t,i)=>{"use strict";var n=i(57310).parse,r={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},a=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t,i,o,l="string"==typeof e?n(e):e||{},c=l.protocol,u=l.host,d=l.port;if("string"!=typeof u||!u||"string"!=typeof c||(c=c.split(":",1)[0],t=u=u.replace(/:\d*$/,""),i=d=parseInt(d)||r[c]||0,!(!(o=(s("npm_config_no_proxy")||s("no_proxy")).toLowerCase())||"*"!==o&&o.split(/[,\s]/).every(function(e){if(!e)return!0;var n=e.match(/^(.+):(\d+)$/),r=n?n[1]:e,s=n?parseInt(n[2]):0;return!!s&&s!==i||(/^[.*]/.test(r)?("*"===r.charAt(0)&&(r=r.slice(1)),!a.call(t,r)):t!==r)}))))return"";var p=s("npm_config_"+c+"_proxy")||s(c+"_proxy")||s("npm_config_proxy")||s("all_proxy");return p&&-1===p.indexOf("://")&&(p=c+"://"+p),p}},37792:(e,t,i)=>{"use strict";i.d(t,{Z:()=>F});var n,r=i(62824),a=i(3729),s="right-scroll-bar-position",o="width-before-scroll-bar";function l(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var c=new WeakMap;function u(e){return e}var d=function(e){void 0===e&&(e={});var t,i,n,a=(void 0===t&&(t=u),i=[],n=!1,{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:null},useMedium:function(e){var r=t(e,n);return i.push(r),function(){i=i.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(n=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){n=!0;var t=[];if(i.length){var r=i;i=[],r.forEach(e),t=i}var a=function(){var i=t;t=[],i.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),i={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),i}}}});return a.options=(0,r.pi)({async:!0,ssr:!1},e),a}(),p=function(){},h=a.forwardRef(function(e,t){var i,n,s,o,u=a.useRef(null),h=a.useState({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:p}),f=h[0],m=h[1],g=e.forwardProps,y=e.children,v=e.className,b=e.removeScrollBar,w=e.enabled,x=e.shards,_=e.sideCar,S=e.noIsolation,k=e.inert,R=e.allowPinchZoom,E=e.as,T=(0,r._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=(i=[u,t],n=function(e){return i.forEach(function(t){return l(t,e)})},(s=(0,a.useState)(function(){return{value:null,callback:n,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=n,o=s.facade,a.useLayoutEffect(function(){var e=c.get(o);if(e){var t=new Set(e),n=new Set(i),r=o.current;t.forEach(function(e){n.has(e)||l(e,null)}),n.forEach(function(e){t.has(e)||l(e,r)})}c.set(o,i)},[i]),o),P=(0,r.pi)((0,r.pi)({},T),f);return a.createElement(a.Fragment,null,w&&a.createElement(_,{sideCar:d,removeScrollBar:b,shards:x,noIsolation:S,inert:k,setCallbacks:m,allowPinchZoom:!!R,lockRef:u}),g?a.cloneElement(a.Children.only(y),(0,r.pi)((0,r.pi)({},P),{ref:C})):a.createElement(void 0===E?"div":E,(0,r.pi)({},P,{className:v,ref:C}),y))});h.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},h.classNames={fullWidth:o,zeroRight:s};var f=function(e){var t=e.sideCar,i=(0,r._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return a.createElement(n,(0,r.pi)({},i))};f.isSideCarExport=!0;var m=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||i.nc;return t&&e.setAttribute("nonce",t),e}())){var a,s;(a=t).styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},g=function(){var e=m();return function(t,i){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},y=function(){var e=g();return function(t){return e(t.styles,t.dynamic),null}},v={left:0,top:0,right:0,gap:0},b=function(e){return parseInt(e||"",10)||0},w=function(e){var t=window.getComputedStyle(document.body),i=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[b(i),b(n),b(r)]},x=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return v;var t=w(e),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-i+t[2]-t[0])}},_=y(),S="data-scroll-locked",k=function(e,t,i,n){var r=e.left,a=e.top,l=e.right,c=e.gap;return void 0===i&&(i="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(c,"px ").concat(n,";\n  }\n  body[").concat(S,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===i&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(n,";\n    "),"padding"===i&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(s," {\n    right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(o," {\n    margin-right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(s," .").concat(s," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(o," .").concat(o," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(S,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},R=function(e){var t=e.noRelative,i=e.noImportant,n=e.gapMode,r=void 0===n?"margin":n,s=a.useMemo(function(){return x(r)},[r]);return a.useEffect(function(){return document.body.setAttribute(S,""),function(){document.body.removeAttribute(S)}},[]),a.createElement(_,{styles:k(s,!t,r,i?"":"!important")})},E=!1;if("undefined"!=typeof window)try{var T=Object.defineProperty({},"passive",{get:function(){return E=!0,!0}});window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch(e){E=!1}var C=!!E&&{passive:!1},P=function(e,t){var i=window.getComputedStyle(e);return"hidden"!==i[t]&&!(i.overflowY===i.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===i[t])},A=function(e,t){var i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),O(e,i)){var n=I(e,i);if(n[1]>n[2])return!0}i=i.parentNode}while(i&&i!==document.body);return!1},O=function(e,t){return"v"===e?P(t,"overflowY"):P(t,"overflowX")},I=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},N=function(e,t,i,n,r){var a,s=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),o=s*n,l=i.target,c=t.contains(l),u=!1,d=o>0,p=0,h=0;do{var f=I(e,l),m=f[0],g=f[1]-f[2]-s*m;(m||g)&&O(e,l)&&(p+=g,h+=m),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(r&&0===p||!r&&o>p)?u=!0:!d&&(r&&0===h||!r&&-o>h)&&(u=!0),u},j=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},L=function(e){return[e.deltaX,e.deltaY]},D=function(e){return e&&"current"in e?e.current:e},M=0,U=[];let q=(d.useMedium(function(e){var t=a.useRef([]),i=a.useRef([0,0]),n=a.useRef(),s=a.useState(M++)[0],o=a.useState(function(){return y()})[0],l=a.useRef(e);a.useEffect(function(){l.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,r.ev)([e.lockRef.current],(e.shards||[]).map(D),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=a.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!l.current.allowPinchZoom;var r,a=j(e),s=i.current,o="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var p=A(d,u);if(!p)return!0;if(p?r=d:(r="v"===d?"h":"v",p=A(d,u)),!p)return!1;if(!n.current&&"changedTouches"in e&&(o||c)&&(n.current=r),!r)return!0;var h=n.current||r;return N(h,t,e,"h"===h?o:c,!0)},[]),u=a.useCallback(function(e){if(U.length&&U[U.length-1]===o){var i="deltaY"in e?L(e):j(e),n=t.current.filter(function(t){var n;return t.name===e.type&&t.target===e.target&&(n=t.delta)[0]===i[0]&&n[1]===i[1]})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var r=(l.current.shards||[]).map(D).filter(Boolean).filter(function(t){return t.contains(e.target)});(r.length>0?c(e,r[0]):!l.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=a.useCallback(function(e,i,n,r){var a={name:e,delta:i,target:n,should:r};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),p=a.useCallback(function(e){i.current=j(e),n.current=void 0},[]),h=a.useCallback(function(t){d(t.type,L(t),t.target,c(t,e.lockRef.current))},[]),f=a.useCallback(function(t){d(t.type,j(t),t.target,c(t,e.lockRef.current))},[]);a.useEffect(function(){return U.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,C),document.addEventListener("touchmove",u,C),document.addEventListener("touchstart",p,C),function(){U=U.filter(function(e){return e!==o}),document.removeEventListener("wheel",u,C),document.removeEventListener("touchmove",u,C),document.removeEventListener("touchstart",p,C)}},[]);var m=e.removeScrollBar,g=e.inert;return a.createElement(a.Fragment,null,g?a.createElement(o,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,m?a.createElement(R,{gapMode:"margin"}):null)}),f);var $=a.forwardRef(function(e,t){return a.createElement(h,(0,r.pi)({},e,{ref:t,sideCar:q}))});$.classNames=h.classNames;let F=$},5299:(e,t,i)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=i(14300),r=n.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(r.prototype),a(r,s),s.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},14819:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},37242:(e,t,i)=>{var n=i(63986),r=i(2216);t.cW=r,t.Qc=n.parse,n.parseParams,n.parseFmtpConfig,n.parsePayloads,n.parseRemoteCandidates,n.parseImageAttributes,n.parseSimulcastStreamList},63986:(e,t,i)=>{var n=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,i,r){if(r&&!i)t[r]=n(e[1]);else for(var a=0;a<i.length;a+=1)null!=e[a+1]&&(t[i[a]]=n(e[a+1]))},a=function(e,t,i){var n=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:n&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:n?t[e.name]:t;r(i.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},s=i(14819),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},i=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var t=e[0],r=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),n=i[i.length-1]);for(var o=0;o<(s[t]||[]).length;o+=1){var l=s[t][o];if(l.reg.test(r))return a(l,n,r)}}),t.media=i,t};var l=function(e,t){var i=t.split(/=(.+)/,2);return 2===i.length?e[i[0]]=n(i[1]):1===i.length&&t.length>1&&(e[i[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(l,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],i=e.split(" ").map(n),r=0;r<i.length;r+=3)t.push({component:i[r],ip:i[r+1],port:i[r+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(l,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,i=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),i=!0),{scid:t,paused:i}})})}},2216:(e,t,i)=>{var n=i(14819),r=/%[sdv%]/g,a=function(e){var t=1,i=arguments,n=i.length;return e.replace(r,function(e){if(t>=n)return e;var r=i[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}})},s=function(e,t,i){var n=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var r=0;r<t.names.length;r+=1){var s=t.names[r];t.name?n.push(i[t.name][s]):n.push(i[t.names[r]])}else n.push(i[t.name]);return a.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],l=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var i=t.outerOrder||o,r=t.innerOrder||l,a=[];return i.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?a.push(s(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){a.push(s(t,i,e))})})}),e.media.forEach(function(e){a.push(s("m",n.m[0],e)),r.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?a.push(s(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){a.push(s(t,i,e))})})})}),a.join("\r\n")+"\r\n"}},1388:e=>{"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){let i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(e=>0===e.indexOf(i))},t.parseCandidate=function(e){let t;let i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":i.relatedAddress=t[e+1];break;case"rport":i.relatedPort=parseInt(t[e+1],10);break;case"tcptype":i.tcpType=t[e+1];break;case"ufrag":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let i=e.component;"rtp"===i?t.push(1):"rtcp"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let i={},n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)i[(t=n[e].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){let t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let n=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+i+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),i},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){let n=t.matchPrefix(e+i,"a=ice-ufrag:")[0],r=t.matchPrefix(e+i,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");i.profile=n[2];for(let r=3;r<n.length;r++){let a=n[r],s=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){let n=t.parseRtpMap(s),r=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{i.headerExtensions.push(t.parseExtmap(e))});let r=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return i.codecs.forEach(e=>{r.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),i},t.writeRtpDescription=function(e,i){let n="";n+="m="+e+" "+(i.codecs.length>0?"9":"0")+" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" "+i.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach(e=>{n+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let r=0;return i.codecs.forEach(e=>{e.maxptime>r&&(r=e.maxptime)}),r>0&&(n+="a=maxptime:"+r+"\r\n"),i.headerExtensions&&i.headerExtensions.forEach(e=>{n+=t.writeExtmap(e)}),n},t.parseRtpEncodingParameters=function(e){let i;let n=[],r=t.parseRtpParameters(e),a=-1!==r.fecMechanisms.indexOf("RED"),s=-1!==r.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),l=o.length>0&&o[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(i=c[0][1]),r.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&i&&(t.rtx={ssrc:i}),n.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&l&&n.push({ssrc:l});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?950*parseInt(u[0].substring(5),10)-16e3:void 0,n.forEach(e=>{e.maxBitrate=u})),n},t.parseRtcpParameters=function(e){let i={},n=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);let r=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=r.length>0,i.compound=0===r.length;let a=t.matchPrefix(e,"a=rtcp-mux");return i.mux=a.length>0,i},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let i;let n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(i=n[0].substring(7).split(" "))[0],track:i[1]};let r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(r.length>0)return{stream:(i=r[0].value.split(" "))[0],track:i[1]}},t.parseSctpDescription=function(e){let i;let n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);let a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};let s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){let e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==i?i:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,i){let n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let i=t.splitLines(e)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){let i=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||"="!==i[e].charAt(1))return!1;return!0},e.exports=t},55778:(e,t,i)=>{let n=Symbol("SemVer ANY");class r{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof r){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new u(i[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=r;let a=i(52275),{safeRe:s,t:o}=i(81770),l=i(2015),c=i(61472),u=i(88331),d=i(41037)},41037:(e,t,i)=>{class n{constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,i=r.get(t);if(i)return i;let n=this.options.loose,a=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,P(this.options.includePrerelease))),o("comparator trim",e=e.replace(c[u.COMPARATORTRIM],d)),o("tilde trim",e=e.replace(c[u.TILDETRIM],p)),o("caret trim",e=e.replace(c[u.CARETTRIM],h));let l=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));n&&(l=l.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),o("range list",l);let y=new Map;for(let e of l.map(e=>new s(e,this.options))){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");let v=[...y.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(i=>v(i,t)&&e.set.some(e=>v(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let r=new(i(47671))({max:1e3}),a=i(52275),s=i(55778),o=i(61472),l=i(88331),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=i(81770),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=i(2169),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let i=!0,n=e.slice(),r=n.pop();for(;i&&n.length;)i=n.every(e=>r.intersects(e,t)),r=n.pop();return i},b=(e,t)=>(o("comp",e,t),o("caret",e=S(e,t)),o("tildes",e=x(e,t)),o("xrange",e=R(e,t)),o("stars",e=T(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{let i=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(i,(t,i,n,r,a)=>{let s;return o("tilde",e,t,i,n,r,a),w(i)?s="":w(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:w(r)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${i}.${n}.${r}-${a} <${i}.${+n+1}.0-0`):s=`>=${i}.${n}.${r} <${i}.${+n+1}.0-0`,o("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{o("caret",e,t);let i=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,(t,i,r,a,s)=>{let l;return o("caret",e,t,i,r,a,s),w(i)?l="":w(r)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:w(a)?l="0"===i?`>=${i}.${r}.0${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.0${n} <${+i+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===i?"0"===r?`>=${i}.${r}.${a}-${s} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}-${s} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a}-${s} <${+i+1}.0.0-0`):(o("no pr"),l="0"===i?"0"===r?`>=${i}.${r}.${a}${n} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a} <${+i+1}.0.0-0`),o("caret return",l),l})},R=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();let i=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(i,(i,n,r,a,s,l)=>{o("xRange",e,i,n,r,a,s,l);let c=w(r),u=c||w(a),d=u||w(s);return"="===n&&d&&(n=""),l=t.includePrerelease?"-0":"",c?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(a=0),s=0,">"===n?(n=">=",u?(r=+r+1,a=0):a=+a+1,s=0):"<="===n&&(n="<",u?r=+r+1:a=+a+1),"<"===n&&(l="-0"),i=`${n+r}.${a}.${s}${l}`):u?i=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(i=`>=${r}.${a}.0${l} <${r}.${+a+1}.0-0`),o("xRange return",i),i})},T=(e,t)=>(o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),C=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=e=>(t,i,n,r,a,s,o,l,c,u,d,p,h)=>(i=w(n)?"":w(r)?`>=${n}.0.0${e?"-0":""}`:w(a)?`>=${n}.${r}.0${e?"-0":""}`:s?`>=${i}`:`>=${i}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${i} ${l}`.trim()),A=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(o(e[i].semver),e[i].semver!==s.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},88331:(e,t,i)=>{let n=i(61472),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=i(2169),{safeRe:s,t:o}=i(81770),l=i(52275),{compareIdentifiers:c}=i(37651);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw TypeError(`version is longer than ${r} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let i=this.build[t],r=e.build[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},65292:(e,t,i)=>{let n=i(66360);e.exports=(e,t)=>{let i=n(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},2015:(e,t,i)=>{let n=i(9637),r=i(12401),a=i(22650),s=i(17140),o=i(49759),l=i(77038);e.exports=(e,t,i,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return n(e,i,c);case"!=":return r(e,i,c);case">":return a(e,i,c);case">=":return s(e,i,c);case"<":return o(e,i,c);case"<=":return l(e,i,c);default:throw TypeError(`Invalid operator: ${t}`)}}},29688:(e,t,i)=>{let n=i(88331),r=i(66360),{safeRe:a,t:s}=i(81770);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let n;let r=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(n=r.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),r.lastIndex=n.index+n[1].length+n[2].length;r.lastIndex=-1}else i=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===i)return null;let o=i[2],l=i[3]||"0",c=i[4]||"0",u=t.includePrerelease&&i[5]?`-${i[5]}`:"",d=t.includePrerelease&&i[6]?`+${i[6]}`:"";return r(`${o}.${l}.${c}${u}${d}`,t)}},23820:(e,t,i)=>{let n=i(88331);e.exports=(e,t,i)=>{let r=new n(e,i),a=new n(t,i);return r.compare(a)||r.compareBuild(a)}},30944:(e,t,i)=>{let n=i(76637);e.exports=(e,t)=>n(e,t,!0)},76637:(e,t,i)=>{let n=i(88331);e.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},18011:(e,t,i)=>{let n=i(66360);e.exports=(e,t)=>{let i=n(e,null,!0),r=n(t,null,!0),a=i.compare(r);if(0===a)return null;let s=a>0,o=s?i:r,l=s?r:i,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=c?"pre":"";return i.major!==r.major?u+"major":i.minor!==r.minor?u+"minor":i.patch!==r.patch?u+"patch":"prerelease"}},9637:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>0===n(e,t,i)},22650:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>n(e,t,i)>0},17140:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>n(e,t,i)>=0},1451:(e,t,i)=>{let n=i(88331);e.exports=(e,t,i,r,a)=>{"string"==typeof i&&(a=r,r=i,i=void 0);try{return new n(e instanceof n?e.version:e,i).inc(t,r,a).version}catch(e){return null}}},49759:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>0>n(e,t,i)},77038:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>0>=n(e,t,i)},4082:(e,t,i)=>{let n=i(88331);e.exports=(e,t)=>new n(e,t).major},42323:(e,t,i)=>{let n=i(88331);e.exports=(e,t)=>new n(e,t).minor},12401:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>0!==n(e,t,i)},66360:(e,t,i)=>{let n=i(88331);e.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!i)return null;throw e}}},86527:(e,t,i)=>{let n=i(88331);e.exports=(e,t)=>new n(e,t).patch},9722:(e,t,i)=>{let n=i(66360);e.exports=(e,t)=>{let i=n(e,t);return i&&i.prerelease.length?i.prerelease:null}},92131:(e,t,i)=>{let n=i(76637);e.exports=(e,t,i)=>n(t,e,i)},15349:(e,t,i)=>{let n=i(23820);e.exports=(e,t)=>e.sort((e,i)=>n(i,e,t))},45044:(e,t,i)=>{let n=i(41037);e.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},95760:(e,t,i)=>{let n=i(23820);e.exports=(e,t)=>e.sort((e,i)=>n(e,i,t))},5047:(e,t,i)=>{let n=i(66360);e.exports=(e,t)=>{let i=n(e,t);return i?i.version:null}},86952:(e,t,i)=>{let n=i(81770),r=i(2169),a=i(88331),s=i(37651),o=i(66360),l=i(5047),c=i(65292),u=i(1451),d=i(18011),p=i(4082),h=i(42323),f=i(86527),m=i(9722),g=i(76637),y=i(92131),v=i(30944),b=i(23820),w=i(95760),x=i(15349),_=i(22650),S=i(49759),k=i(9637),R=i(12401),E=i(17140),T=i(77038),C=i(2015),P=i(29688),A=i(55778),O=i(41037),I=i(45044),N=i(94342),j=i(82261),L=i(92419),D=i(19039),M=i(12531),U=i(36937),q=i(36677),$=i(6390),F=i(80107),K=i(60947),B=i(66762);e.exports={parse:o,valid:l,clean:c,inc:u,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:x,gt:_,lt:S,eq:k,neq:R,gte:E,lte:T,cmp:C,coerce:P,Comparator:A,Range:O,satisfies:I,toComparators:N,maxSatisfying:j,minSatisfying:L,minVersion:D,validRange:M,outside:U,gtr:q,ltr:$,intersects:F,simplifyRange:K,subset:B,SemVer:a,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},2169:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},61472:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},37651:e=>{let t=/^[0-9]+$/,i=(e,i)=>{let n=t.test(e),r=t.test(i);return n&&r&&(e=+e,i=+i),e===i?0:n&&!r?-1:r&&!n?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},52275:e=>{let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},81770:(e,t,i)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=i(2169),s=i(61472),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={},d=0,p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[p,r]],f=e=>{for(let[t,i]of h)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},m=(e,t,i)=>{let n=f(t),r=d++;s(e,r,t),u[e]=r,c[r]=t,o[r]=new RegExp(t,i?"g":void 0),l[r]=new RegExp(n,i?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${p}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},47671:(e,t,i)=>{"use strict";let n=i(33207),r=Symbol("max"),a=Symbol("length"),s=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[r]=e.max||1/0;let t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[r]=e||1/0,v(this)}get max(){return this[r]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[a]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[a]+=e.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let i=this[d].tail;null!==i;){let n=i.prev;x(this,e,i,t),i=n}}forEach(e,t){t=t||this;for(let i=this[d].head;null!==i;){let n=i.next;x(this,e,i,t),i=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,i){if((i=i||this[l])&&"number"!=typeof i)throw TypeError("maxAge must be a number");let n=i?Date.now():0,o=this[s](t,e);if(this[p].has(e)){if(o>this[r])return b(this,this[p].get(e)),!1;let s=this[p].get(e).value;return this[c]&&!this[u]&&this[c](e,s.value),s.now=n,s.maxAge=i,s.value=t,this[a]+=o-s.length,s.length=o,this.get(e),v(this),!0}let h=new w(e,t,o,n,i);return h.length>this[r]?(this[c]&&this[c](e,t),!1):(this[a]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),v(this),!0)}has(e){return!!this[p].has(e)&&!y(this,this[p].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[p].get(e))}load(e){this.reset();let t=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],r=n.e||0;if(0===r)this.set(n.k,n.v);else{let e=r-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,i)=>{let n=e[p].get(t);if(n){let t=n.value;if(y(e,t)){if(b(e,n),!e[o])return}else i&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:e[l]&&i>e[l]},v=e=>{if(e[a]>e[r])for(let t=e[d].tail;e[a]>e[r]&&null!==t;){let i=t.prev;b(e,t),t=i}},b=(e,t)=>{if(t){let i=t.value;e[c]&&e[c](i.key,i.value),e[a]-=i.length,e[p].delete(i.key),e[d].removeNode(t)}};class w{constructor(e,t,i,n,r){this.key=e,this.value=t,this.length=i,this.now=n,this.maxAge=r||0}}let x=(e,t,i,n)=>{let r=i.value;y(e,r)&&(b(e,i),e[o]||(r=void 0)),r&&t.call(n,r.value,r.key,e)};e.exports=m},36677:(e,t,i)=>{let n=i(36937);e.exports=(e,t,i)=>n(e,t,">",i)},80107:(e,t,i)=>{let n=i(41037);e.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},6390:(e,t,i)=>{let n=i(36937);e.exports=(e,t,i)=>n(e,t,"<",i)},82261:(e,t,i)=>{let n=i(88331),r=i(41037);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new n(a=e,i))}),a}},92419:(e,t,i)=>{let n=i(88331),r=i(41037);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new n(a=e,i))}),a}},19039:(e,t,i)=>{let n=i(88331),r=i(41037),a=i(22650);e.exports=(e,t)=>{e=new r(e,t);let i=new n("0.0.0");if(e.test(i)||(i=new n("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let r=e.set[t],s=null;r.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!i||a(i,s))&&(i=s)}return i&&e.test(i)?i:null}},36937:(e,t,i)=>{let n=i(88331),r=i(55778),{ANY:a}=r,s=i(41037),o=i(45044),l=i(22650),c=i(49759),u=i(77038),d=i(17140);e.exports=(e,t,i,p)=>{let h,f,m,g,y;switch(e=new n(e,p),t=new s(t,p),i){case">":h=l,f=u,m=c,g=">",y=">=";break;case"<":h=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,p))return!1;for(let i=0;i<t.set.length;++i){let n=t.set[i],s=null,o=null;if(n.forEach(e=>{e.semver===a&&(e=new r(">=0.0.0")),s=s||e,o=o||e,h(e.semver,s.semver,p)?s=e:m(e.semver,o.semver,p)&&(o=e)}),s.operator===g||s.operator===y||(!o.operator||o.operator===g)&&f(e,o.semver)||o.operator===y&&m(e,o.semver))return!1}return!0}},60947:(e,t,i)=>{let n=i(45044),r=i(76637);e.exports=(e,t,i)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>r(e,t,i));for(let e of l)n(e,t,i)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},66762:(e,t,i)=>{let n=i(41037),r=i(55778),{ANY:a}=r,s=i(45044),o=i(76637),l=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],u=(e,t,i)=>{let n,r,u,h,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=i.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(i.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=d(n,t,i):"<"===t.operator||"<="===t.operator?r=p(r,t,i):y.add(t.semver);if(y.size>1||n&&r&&((u=o(n.semver,r.semver,i))>0||0===u&&(">="!==n.operator||"<="!==r.operator)))return null;for(let e of y){if(n&&!s(e,String(n),i)||r&&!s(e,String(r),i))return null;for(let n of t)if(!s(e,String(n),i))return!1;return!0}let v=!!r&&!i.includePrerelease&&!!r.semver.prerelease.length&&r.semver,b=!!n&&!i.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(v&&1===v.prerelease.length&&"<"===r.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((h=d(n,e,i))===e&&h!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),i))return!1}if(r){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=p(r,e,i))===e&&f!==r)return!1}else if("<="===r.operator&&!s(r.semver,String(e),i))return!1}if(!e.operator&&(r||n)&&0!==u)return!1}return(!n||!m||!!r||0===u)&&(!r||!g||!!n||0===u)&&!b&&!v},d=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},p=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new n(e,i),t=new n(t,i);let r=!1;e:for(let n of e.set){for(let e of t.set){let t=u(n,e,i);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},94342:(e,t,i)=>{let n=i(41037);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},12531:(e,t,i)=>{let n=i(41037);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},60125:(e,t,i)=>{"use strict";let n;let r=i(22037),a=i(76224),s=i(70814),{env:o}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let i=n||0;if("dumb"===o.TERM)return i;if("win32"===process.platform){let e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,a.isatty(1))),stderr:l(c(!0,a.isatty(2)))}},12903:function(e,t,i){var n;!function(r,a){"use strict";var s="function",o="undefined",l="object",c="string",u="major",d="model",p="name",h="type",f="vendor",m="version",g="architecture",y="console",v="mobile",b="tablet",w="smarttv",x="wearable",_="embedded",S="Amazon",k="Apple",R="ASUS",E="BlackBerry",T="Browser",C="Chrome",P="Firefox",A="Google",O="Huawei",I="Microsoft",N="Motorola",j="Opera",L="Samsung",D="Sharp",M="Sony",U="Xiaomi",q="Zebra",$="Facebook",F="Chromium OS",K="Mac OS",B=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},V=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},z=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},G=function(e,t){for(var i,n,r,o,c,u,d=0;d<t.length&&!c;){var p=t[d],h=t[d+1];for(i=n=0;i<p.length&&!c&&p[i];)if(c=p[i++].exec(e))for(r=0;r<h.length;r++)u=c[++n],typeof(o=h[r])===l&&o.length>0?2===o.length?typeof o[1]==s?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==s||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):a:this[o[0]]=u?o[1].call(this,u,o[2]):a:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):a):this[o]=u||a;d+=2}},J=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(z(t[i][n],e))return"?"===i?a:i}else if(z(t[i],e))return"?"===i?a:i;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[p,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[p,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+T],m],[/\bfocus\/([\w\.]+)/i],[m,[p,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[m,[p,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+T]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+T],m],[/samsungbrowser\/([\w\.]+)/i],[m,[p,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,$],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,C+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,m],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,L],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,L],[h,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,k],[h,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,k],[h,b]],[/(macintosh);/i],[d,[f,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,D],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,O],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,O],[h,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,U],[h,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,U],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[h,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[h,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[h,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,N],[h,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,N],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,"LG"],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,"LG"],[h,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[h,v]],[/(pixel c)\b/i],[d,[f,A],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,A],[h,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,M],[h,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,M],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,S],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,S],[h,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,E],[h,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,R],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,R],[h,v]],[/(nexus 9)/i],[d,[f,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[h,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[h,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[h,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[h,b]],[/(surface duo)/i],[d,[f,I],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[h,v]],[/(u304aa)/i],[d,[f,"AT&T"],[h,v]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[h,v]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[h,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[h,v]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[h,v]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[h,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[h,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[h,v]],[/\b(ph-1) /i],[d,[f,"Essential"],[h,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[f,d,[h,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,I],[h,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,q],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,q],[h,v]],[/smart-tv.+(samsung)/i],[f,[h,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,L],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[h,w]],[/(apple) ?tv/i],[f,[d,k+" TV"],[h,w]],[/crkey/i],[[d,C+"cast"],[f,A],[h,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,S],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,D],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,M],[h,w]],[/(mitv-\w{5}) bui/i],[d,[f,U],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,H],[d,H],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[h,y]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[h,y]],[/(playstation [345portablevi]+)/i],[d,[f,M],[h,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,I],[h,y]],[/((pebble))app/i],[f,d,[h,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,k],[h,x]],[/droid.+; (glass) \d/i],[d,[f,A],[h,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,q],[h,x]],[/(quest( 2| pro)?)/i],[d,[f,$],[h,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,_]],[/(aeobc)\b/i],[d,[f,S],[h,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[m,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,J,Y],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,K],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,F],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},Z=function(e,t){if(typeof e===l&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var i=typeof r!==o&&r.navigator?r.navigator:a,n=e||(i&&i.userAgent?i.userAgent:""),y=i&&i.userAgentData?i.userAgentData:a,w=t?B(X,t):X,x=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=a,t[m]=a,G.call(t,n,w.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,x&&i&&i.brave&&typeof i.brave.isBrave==s&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,G.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[h]=a,G.call(e,n,w.device),x&&!e[h]&&y&&y.mobile&&(e[h]=v),x&&"Macintosh"==e[d]&&i&&typeof i.standalone!==o&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[d]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[p]=a,e[m]=a,G.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[p]=a,e[m]=a,G.call(e,n,w.os),x&&!e[p]&&y&&"Unknown"!=y.platform&&(e[p]=y.platform.replace(/chrome os/i,F).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?H(e,500):e,this},this.setUA(n),this};Z.VERSION="1.0.37",Z.BROWSER=V([p,m,u]),Z.CPU=V([g]),Z.DEVICE=V([d,f,h,y,v,w,b,x,_]),Z.ENGINE=Z.OS=V([p,m]),typeof t!==o?(e.exports&&(t=e.exports=Z),t.UAParser=Z):i.amdO?a!==(n=(function(){return Z}).call(t,i,t,e))&&(e.exports=n):typeof r!==o&&(r.UAParser=Z);var Q=typeof r!==o&&(r.jQuery||r.Zepto);if(Q&&!Q.ua){var ee=new Z;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var i in t)Q.ua[i]=t[i]}}}("object"==typeof window?window:this)},42659:(e,t,i)=>{"use strict";let n=i(46458);n.createWebSocketStream=i(69057),n.Server=i(33054),n.Receiver=i(41250),n.Sender=i(38022),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},14602:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:n}=i(2710),r=Buffer[Symbol.species];function a(e,t,i,n,r){for(let a=0;a<r;a++)i[n+a]=e[a]^t[3&a]}function s(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),a=0;for(let t=0;t<e.length;t++){let n=e[t];i.set(n,a),a+=n.length}return a<t?new r(i.buffer,i.byteOffset,a):i},mask:a,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let i;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?i=new r(t):ArrayBuffer.isView(t)?i=new r(t.buffer,t.byteOffset,t.byteLength):(i=Buffer.from(t),e.readOnly=!1),i)},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let t=i(58359);e.exports.mask=function(e,i,n,r,s){s<48?a(e,i,n,r,s):t.mask(e,i,n,r,s)},e.exports.unmask=function(e,i){e.length<32?s(e,i):t.unmask(e,i)}}catch(e){}},2710:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},24208:(e,t,i)=>{"use strict";let{kForOnEventAttribute:n,kListener:r}=i(2710),a=Symbol("kCode"),s=Symbol("kData"),o=Symbol("kError"),l=Symbol("kMessage"),c=Symbol("kReason"),u=Symbol("kTarget"),d=Symbol("kType"),p=Symbol("kWasClean");class h{constructor(e){this[u]=null,this[d]=e}get target(){return this[u]}get type(){return this[d]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[a]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[a]}get reason(){return this[c]}get wasClean(){return this[p]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[l]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}function y(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:{addEventListener(e,t,i={}){let a;for(let a of this.listeners(e))if(!i[n]&&a[r]===t&&!a[n])return;if("message"===e)a=function(e,i){let n=new g("message",{data:i?e:e.toString()});n[u]=this,y(t,this,n)};else if("close"===e)a=function(e,i){let n=new f("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[u]=this,y(t,this,n)};else if("error"===e)a=function(e){let i=new m("error",{error:e,message:e.message});i[u]=this,y(t,this,i)};else{if("open"!==e)return;a=function(){let e=new h("open");e[u]=this,y(t,this,e)}}a[n]=!!i[n],a[r]=t,i.once?this.once(e,a):this.on(e,a)},removeEventListener(e,t){for(let i of this.listeners(e))if(i[r]===t&&!i[n]){this.removeListener(e,i);break}}},MessageEvent:g}},58581:(e,t,i)=>{"use strict";let{tokenChars:n}=i(98591);function r(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,i;let a=Object.create(null),s=Object.create(null),o=!1,l=!1,c=!1,u=-1,d=-1,p=-1,h=0;for(;h<e.length;h++)if(d=e.charCodeAt(h),void 0===t){if(-1===p&&1===n[d])-1===u&&(u=h);else if(0!==h&&(32===d||9===d))-1===p&&-1!==u&&(p=h);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let i=e.slice(u,p);44===d?(r(a,i,s),s=Object.create(null)):t=i,u=p=-1}else throw SyntaxError(`Unexpected character at index ${h}`)}else if(void 0===i){if(-1===p&&1===n[d])-1===u&&(u=h);else if(32===d||9===d)-1===p&&-1!==u&&(p=h);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),r(s,e.slice(u,p),!0),44===d&&(r(a,t,s),s=Object.create(null),t=void 0),u=p=-1}else if(61===d&&-1!==u&&-1===p)i=e.slice(u,h),u=p=-1;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(l){if(1!==n[d])throw SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:o||(o=!0),l=!1}else if(c){if(1===n[d])-1===u&&(u=h);else if(34===d&&-1!==u)c=!1,p=h;else if(92===d)l=!0;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(34===d&&61===e.charCodeAt(h-1))c=!0;else if(-1===p&&1===n[d])-1===u&&(u=h);else if(-1!==u&&(32===d||9===d))-1===p&&(p=h);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let n=e.slice(u,p);o&&(n=n.replace(/\\/g,""),o=!1),r(s,i,n),44===d&&(r(a,t,s),s=Object.create(null),t=void 0),i=void 0,u=p=-1}else throw SyntaxError(`Unexpected character at index ${h}`);if(-1===u||c||32===d||9===d)throw SyntaxError("Unexpected end of input");-1===p&&(p=h);let f=e.slice(u,p);return void 0===t?r(a,f,s):(void 0===i?r(s,f,!0):o?r(s,i,f.replace(/\\/g,"")):r(s,i,f),r(a,t,s)),a}}},44059:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},58617:(e,t,i)=>{"use strict";let n;let r=i(59796),a=i(14602),s=i(44059),{kStatusCode:o}=i(2710),l=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),p=Symbol("callback"),h=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new s(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){n.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[h]=[],this._inflate.on("error",v),this._inflate.on("data",y)}this._inflate[p]=i,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,i(e);return}let r=a.concat(this._inflate[h],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,r)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[h]=[],this._deflate.on("data",g)}this._deflate[p]=i,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=a.concat(this._deflate[h],this._deflate[d]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[p]=null,this._deflate[d]=0,this._deflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function g(e){this[h].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload){this[h].push(e);return}this[f]=RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][o]=1009,this.removeListener("data",y),this.reset()}function v(e){this[u]._inflate=null,e[o]=1007,this[p](e)}e.exports=m},41250:(e,t,i)=>{"use strict";let{Writable:n}=i(12781),r=i(58617),{BINARY_TYPES:a,EMPTY_BUFFER:s,kStatusCode:o,kWebSocket:l}=i(2710),{concat:c,toArrayBuffer:u,unmask:d}=i(14602),{isValidStatusCode:p,isValidUTF8:h}=i(98591),f=Buffer[Symbol.species],m=Promise.resolve(),g="function"==typeof queueMicrotask?queueMicrotask:function(e){m.then(e).catch(b)};class y extends n{constructor(e={}){super(),this._allowSynchronousEvents=!!e.allowSynchronousEvents,this._binaryType=e.binaryType||a[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new f(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let i=(64&t[0])==64;if(i&&!this._extensions[r.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);if(i>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*i+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&d(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[r.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(i)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?c(i,t):"arraybuffer"===this._binaryType?u(c(i,t)):i,5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,g(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=c(i,t);if(!this._skipUTF8Validation&&!h(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,g(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let i=e.readUInt16BE(0);if(!p(i)){t(this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,g(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,i,n,r){this._loop=!1,this._errored=!0;let a=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(a,this.createError),a.code=r,a[o]=n,a}}function v(e){throw e}function b(e){process.nextTick(v,e)}e.exports=y},38022:(e,t,i)=>{"use strict";let{Duplex:n}=i(12781),{randomFillSync:r}=i(6113),a=i(58617),{EMPTY_BUFFER:s}=i(2710),{isValidStatusCode:o}=i(98591),{mask:l,toBuffer:c}=i(14602),u=Symbol("kByteLength"),d=Buffer.alloc(4);class p{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i,n;let a=!1,s=2,o=!1;t.mask&&(i=t.maskBuffer||d,t.generateMask?t.generateMask(i):r(i,0,4),o=(i[0]|i[1]|i[2]|i[3])==0,s=6),"string"==typeof e?n=(!t.mask||o)&&void 0!==t[u]?t[u]:(e=Buffer.from(e)).length:(n=e.length,a=t.mask&&t.readOnly&&!o);let c=n;n>=65536?(s+=8,c=127):n>125&&(s+=2,c=126);let p=Buffer.allocUnsafe(a?n+s:s);return(p[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(p[0]|=64),p[1]=c,126===c?p.writeUInt16BE(n,2):127===c&&(p[2]=p[3]=0,p.writeUIntBE(n,4,6)),t.mask)?(p[1]|=128,p[s-4]=i[0],p[s-3]=i[1],p[s-2]=i[2],p[s-1]=i[3],o)?[p,e]:a?(l(e,i,p,s,n),[p]):(l(e,i,e,0,n),[p,e]):[p,e]}close(e,t,i,n){let r;if(void 0===e)r=s;else if("number"==typeof e&&o(e)){if(void 0!==t&&t.length){let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(r=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),"string"==typeof t?r.write(t,2):r.set(t,2)}else(r=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let a={[u]:r.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,r,!1,a,n]):this.sendFrame(p.frame(r,a),n)}ping(e,t,i){let n,r;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):(n=(e=c(e)).length,r=c.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:r,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(p.frame(e,a),i)}pong(e,t,i){let n,r;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):(n=(e=c(e)).length,r=c.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:r,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(p.frame(e,a),i)}send(e,t,i){let n,r;let s=this._extensions[a.extensionName],o=t.binary?2:1,l=t.compress;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):(n=(e=c(e)).length,r=c.readOnly),this._firstFragment?(this._firstFragment=!1,l&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=n>=s._threshold),this._compress=l):(l=!1,o=0),t.fin&&(this._firstFragment=!0),s){let a={[u]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:r,rsv1:l};this._deflating?this.enqueue([this.dispatch,e,this._compress,a,i]):this.dispatch(e,this._compress,a,i)}else this.sendFrame(p.frame(e,{[u]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:r,rsv1:!1}),i)}dispatch(e,t,i,n){if(!t){this.sendFrame(p.frame(e,i),n);return}let r=this._extensions[a.extensionName];this._bufferedBytes+=i[u],this._deflating=!0,r.compress(e,i.fin,(e,t)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let i=this._queue[t],n=i[i.length-1];"function"==typeof n&&n(e)}return}this._bufferedBytes-=i[u],this._deflating=!1,i.readOnly=!1,this.sendFrame(p.frame(t,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=p},69057:(e,t,i)=>{"use strict";let{Duplex:n}=i(12781);function r(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0,o=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,i){let n=!i&&o._readableState.objectMode?t.toString():t;o.push(n)||e.pause()}),e.once("error",function(e){o.destroyed||(i=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(r,o);return}let a=!1;e.once("error",function(e){a=!0,n(e)}),e.once("close",function(){a||n(t),process.nextTick(r,o)}),i&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){o._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,i,n){if(e.readyState===e.CONNECTING){e.once("open",function(){o._write(t,i,n)});return}e.send(t,n)},o.on("end",a),o.on("error",s),o}},25626:(e,t,i)=>{"use strict";let{tokenChars:n}=i(98591);e.exports={parse:function(e){let t=new Set,i=-1,r=-1,a=0;for(;a<e.length;a++){let s=e.charCodeAt(a);if(-1===r&&1===n[s])-1===i&&(i=a);else if(0!==a&&(32===s||9===s))-1===r&&-1!==i&&(r=a);else if(44===s){if(-1===i)throw SyntaxError(`Unexpected character at index ${a}`);-1===r&&(r=a);let n=e.slice(i,r);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),i=r=-1}else throw SyntaxError(`Unexpected character at index ${a}`)}if(-1===i||-1!==r)throw SyntaxError("Unexpected end of input");let s=e.slice(i,a);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},98591:(e,t,i)=>{"use strict";let{isUtf8:n}=i(14300);function r(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:r,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?r(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=i(93739);e.exports.isValidUTF8=function(e){return e.length<32?r(e):t(e)}}catch(e){}},33054:(e,t,i)=>{"use strict";let n=i(82361),r=i(13685),{Duplex:a}=i(12781),{createHash:s}=i(6113),o=i(58581),l=i(58617),c=i(25626),u=i(46458),{GUID:d,kWebSocket:p}=i(2710),h=/^[+/0-9A-Za-z]{22}==$/;class f extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!1,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=r.createServer((e,t)=>{let i=r.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",g);let r=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if("GET"!==e.method){v(this,e,t,405,"Invalid HTTP method");return}if("websocket"!==e.headers.upgrade.toLowerCase()){v(this,e,t,400,"Invalid Upgrade header");return}if(!r||!h.test(r)){v(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==a&&13!==a){v(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){y(t,400);return}let s=e.headers["sec-websocket-protocol"],u=new Set;if(void 0!==s)try{u=c.parse(s)}catch(i){v(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let d=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==d){let i=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(d);e[l.extensionName]&&(i.accept(e[l.extensionName]),p[l.extensionName]=i)}catch(i){v(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let s={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(s,(a,s,o,l)=>{if(!a)return y(t,s||401,o,l);this.completeUpgrade(p,r,u,e,t,i,n)});return}if(!this.options.verifyClient(s))return y(t,401)}this.completeUpgrade(p,r,u,e,t,i,n)}completeUpgrade(e,t,i,n,r,a,c){if(!r.readable||!r.writable)return r.destroy();if(r[p])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y(r,503);let u=s("sha1").update(t+d).digest("base64"),h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],f=new this.options.WebSocket(null,void 0,this.options);if(i.size){let e=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;e&&(h.push(`Sec-WebSocket-Protocol: ${e}`),f._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,i=o.format({[l.extensionName]:[t]});h.push(`Sec-WebSocket-Extensions: ${i}`),f._extensions=e}this.emit("headers",h,n),r.write(h.concat("\r\n").join("\r\n")),r.removeListener("error",g),f.setSocket(r,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),c(f,n)}}function m(e){e._state=2,e.emit("close")}function g(){this.destroy()}function y(e,t,i,n){i=i||r.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${r.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)}function v(e,t,i,n,r){if(e.listenerCount("wsClientError")){let n=Error(r);Error.captureStackTrace(n,v),e.emit("wsClientError",n,i,t)}else y(i,n,r)}e.exports=f},46458:(e,t,i)=>{"use strict";let n=i(82361),r=i(95687),a=i(13685),s=i(41808),o=i(24404),{randomBytes:l,createHash:c}=i(6113),{Duplex:u,Readable:d}=i(12781),{URL:p}=i(57310),h=i(58617),f=i(41250),m=i(38022),{BINARY_TYPES:g,EMPTY_BUFFER:y,GUID:v,kForOnEventAttribute:b,kListener:w,kStatusCode:x,kWebSocket:_,NOOP:S}=i(2710),{EventTarget:{addEventListener:k,removeEventListener:R}}=i(24208),{format:E,parse:T}=i(58581),{toBuffer:C}=i(14602),P=Symbol("kAborted"),A=[8,13],O=["CONNECTING","OPEN","CLOSING","CLOSED"],I=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends n{constructor(e,t,i){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),function e(t,i,n,s){let o,u,d,f;let m={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:A[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!A.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${A.join(", ")})`);if(i instanceof p)o=i;else try{o=new p(i)}catch(e){throw SyntaxError(`Invalid URL: ${i}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let g="wss:"===o.protocol,y="ws+unix:"===o.protocol;if("ws:"===o.protocol||g||y?y&&!o.pathname?u="The URL's pathname is empty":o.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){let e=SyntaxError(u);if(0===t._redirects)throw e;j(t,e);return}let b=g?443:80,w=l(16).toString("base64"),x=g?r.request:a.request,_=new Set;if(m.createConnection=g?D:L,m.defaultPort=m.defaultPort||b,m.port=o.port||b,m.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":w,Connection:"Upgrade",Upgrade:"websocket"},m.path=o.pathname+o.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(d=new h(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=E({[h.extensionName]:d.offer()})),n.length){for(let e of n){if("string"!=typeof e||!I.test(e)||_.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");_.add(e)}m.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(o.username||o.password)&&(m.auth=`${o.username}:${o.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?m.socketPath:o.host;let e=s&&s.headers;if(s={...s,headers:{}},e)for(let[t,i]of Object.entries(e))s.headers[t.toLowerCase()]=i}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),f=t._req=x(m),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=x(m);m.timeout&&f.on("timeout",()=>{M(t,f,"Opening handshake has timed out")}),f.on("error",e=>{null===f||f[P]||(f=t._req=null,j(t,e))}),f.on("response",r=>{let a=r.headers.location,o=r.statusCode;if(a&&m.followRedirects&&o>=300&&o<400){let r;if(++t._redirects>m.maxRedirects){M(t,f,"Maximum redirects exceeded");return}f.abort();try{r=new p(a,i)}catch(e){j(t,SyntaxError(`Invalid URL: ${a}`));return}e(t,r,n,s)}else t.emit("unexpected-response",f,r)||M(t,f,`Unexpected server response: ${r.statusCode}`)}),f.on("upgrade",(e,i,n)=>{let r;if(t.emit("upgrade",e),t.readyState!==N.CONNECTING)return;if(f=t._req=null,"websocket"!==e.headers.upgrade.toLowerCase()){M(t,i,"Invalid Upgrade header");return}let a=c("sha1").update(w+v).digest("base64");if(e.headers["sec-websocket-accept"]!==a){M(t,i,"Invalid Sec-WebSocket-Accept header");return}let s=e.headers["sec-websocket-protocol"];if(void 0!==s?_.size?_.has(s)||(r="Server sent an invalid subprotocol"):r="Server sent a subprotocol but none was requested":_.size&&(r="Server sent no subprotocol"),r){M(t,i,r);return}s&&(t._protocol=s);let o=e.headers["sec-websocket-extensions"];if(void 0!==o){let e;if(!d){M(t,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=T(o)}catch(e){M(t,i,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==h.extensionName){M(t,i,"Server indicated an extension that was not requested");return}try{d.accept(e[h.extensionName])}catch(e){M(t,i,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[h.extensionName]=d}t.setSocket(i,n,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(f,t):f.end()}(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new f({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new m(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[_]=this,e[_]=this,n.on("conclude",q),n.on("drain",$),n.on("error",F),n.on("message",B),n.on("ping",V),n.on("pong",z),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",H),e.on("data",G),e.on("end",J),e.on("error",Y),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){M(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===N.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){U(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,i)}pong(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){U(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,i)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){U(this,e,i);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||y,n,i)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){M(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=N.CLOSING,this._socket.destroy())}}}function j(e,t){e._readyState=N.CLOSING,e.emit("error",t),e.emitClose()}function L(e){return e.path=e.socketPath,s.connect(e)}function D(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),o.connect(e)}function M(e,t,i){e._readyState=N.CLOSING;let n=Error(i);Error.captureStackTrace(n,M),t.setHeader?(t[P]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(j,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function U(e,t,i){if(t){let i=C(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`);process.nextTick(i,t)}}function q(e,t){let i=this[_];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[_]&&(i._socket.removeListener("data",G),process.nextTick(W,i._socket),1005===e?i.close():i.close(e,t))}function $(){let e=this[_];e.isPaused||e._socket.resume()}function F(e){let t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",G),process.nextTick(W,t._socket),t.close(e[x])),t.emit("error",e)}function K(){this[_].emitClose()}function B(e,t){this[_].emit("message",e,t)}function V(e){let t=this[_];t._autoPong&&t.pong(e,!this._isServer,S),t.emit("ping",e)}function z(e){this[_].emit("pong",e)}function W(e){e.resume()}function H(){let e;let t=this[_];this.removeListener("close",H),this.removeListener("data",G),this.removeListener("end",J),t._readyState=N.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[_]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",K),t._receiver.on("finish",K))}function G(e){this[_]._receiver.write(e)||this.pause()}function J(){let e=this[_];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function Y(){let e=this[_];this.removeListener("error",Y),this.on("error",S),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[b])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})}),N.prototype.addEventListener=k,N.prototype.removeEventListener=R,e.exports=N},79704:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},33207:(e,t,i)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)t.push(arguments[i]);return t}function r(e,t,i,n){if(!(this instanceof r))return new r(e,t,i,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}e.exports=n,n.Node=r,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.tail=new r(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.head=new r(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,n=0;null!==i;n++)e.call(t,i.value,n,this),i=i.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,n=this.length-1;null!==i;n--)e.call(t,i.value,n,this),i=i.prev},n.prototype.get=function(e){for(var t=0,i=this.head;null!==i&&t<e;t++)i=i.next;if(t===e&&null!==i)return i.value},n.prototype.getReverse=function(e){for(var t=0,i=this.tail;null!==i&&t<e;t++)i=i.prev;if(t===e&&null!==i)return i.value},n.prototype.map=function(e,t){t=t||this;for(var i=new n,r=this.head;null!==r;)i.push(e.call(t,r.value,this)),r=r.next;return i},n.prototype.mapReverse=function(e,t){t=t||this;for(var i=new n,r=this.tail;null!==r;)i.push(e.call(t,r.value,this)),r=r.prev;return i},n.prototype.reduce=function(e,t){var i,n=this.head;if(arguments.length>1)i=t;else if(this.head)n=this.head.next,i=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=0;null!==n;r++)i=e(i,n.value,r),n=n.next;return i},n.prototype.reduceReverse=function(e,t){var i,n=this.tail;if(arguments.length>1)i=t;else if(this.tail)n=this.tail.prev,i=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;null!==n;r--)i=e(i,n.value,r),n=n.prev;return i},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,i=this.head;null!==i;t++)e[t]=i.value,i=i.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,i=this.tail;null!==i;t++)e[t]=i.value,i=i.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;for(;null!==a&&r<t;r++,a=a.next)i.push(a.value);return i},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,a=this.tail;null!==a&&r>t;r--)a=a.prev;for(;null!==a&&r>e;r--,a=a.prev)i.push(a.value);return i},n.prototype.splice=function(e,t,...i){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var s=[],n=0;a&&n<t;n++)s.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<i.length;n++)a=function(e,t,i){var n=t===e.head?new r(i,null,t,e):new r(i,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,a,i[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,i=e;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=t,this.tail=e,this};try{i(79704)(n)}catch(e){}},57859:(e,t,i)=>{"use strict";i.d(t,{auth:()=>d});var n=i(39647),r=i(52810),a=i(27960),s=i(39973),o=i(42397),l=i(99610),c=i(11979),u=i(29679);let d=()=>{let e=(0,u.buildRequestLike)(),t=(0,s.createGetAuth)({debugLoggerName:"auth()",noAuthStatusMessage:(0,o.authAuthHeaderMissing)()})(e),i=(0,c.getAuthKeyFromRequest)(e,"ClerkUrl"),d=(t={})=>(0,n.createRedirect)({redirectAdapter:r.redirect,baseUrl:(0,n.createClerkRequest)(e).clerkUrl.toString(),publishableKey:a.PUBLISHABLE_KEY,signInUrl:a.SIGN_IN_URL,signUpUrl:a.SIGN_UP_URL}).redirectToSignIn({returnBackUrl:null===t.returnBackUrl?"":t.returnBackUrl||i?.toString()}),p=(0,l.createProtect)({request:e,authObject:t,redirectToSignIn:d,notFound:r.notFound,redirect:r.redirect});return Object.assign(t,{protect:p,redirectToSignIn:d})}},91468:(e,t,i)=>{"use strict";i.d(t,{currentUser:()=>a});var n=i(26658),r=i(57859);async function a(){let{userId:e}=(0,r.auth)();return e?n.clerkClient.users.getUser(e):null}},29679:(e,t,i)=>{"use strict";i.d(t,{buildRequestLike:()=>r});var n=i(79351);let r=()=>{try{let{headers:e}=i(77949);return new n.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&"message"in e&&"string"==typeof e.message&&(e.message.toLowerCase().includes("dynamic server usage")||e.message.toLowerCase().includes("this page needs to bail out of prerendering")))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}}},56417:(e,t,i)=>{"use strict";i.d(t,{constants:()=>n});let n={Headers:{NextRewrite:"x-middleware-rewrite",NextResume:"x-middleware-next",NextRedirect:"Location",NextUrl:"next-url",NextAction:"next-action",NextjsData:"x-nextjs-data"}}},26658:(e,t,i)=>{"use strict";i.d(t,{clerkClient:()=>a});var n=i(74176),r=i(27960);let a=(0,n.createClerkClient)({secretKey:r.SECRET_KEY,apiUrl:r.API_URL,apiVersion:r.API_VERSION,userAgent:"@clerk/nextjs@5.0.0-beta.35",proxyUrl:r.PROXY_URL,domain:r.DOMAIN,isSatellite:r.IS_SATELLITE,sdkMetadata:r.SDK_METADATA,telemetry:{disabled:r.TELEMETRY_DISABLED,debug:r.TELEMETRY_DEBUG}})},27960:(e,t,i)=>{"use strict";i.d(t,{API_URL:()=>l,API_VERSION:()=>a,DOMAIN:()=>c,IS_SATELLITE:()=>d,PROXY_URL:()=>u,PUBLISHABLE_KEY:()=>o,SDK_METADATA:()=>f,SECRET_KEY:()=>s,SIGN_IN_URL:()=>p,SIGN_UP_URL:()=>h,TELEMETRY_DEBUG:()=>g,TELEMETRY_DISABLED:()=>m});var n=i(3236),r=i(87666);process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS_URL;let a=process.env.CLERK_API_VERSION||"v1",s=process.env.CLERK_SECRET_KEY||"",o="pk_test_cGVhY2VmdWwtZ251LTExLmNsZXJrLmFjY291bnRzLmRldiQ",l=process.env.CLERK_API_URL||(0,n.apiUrlFromPublishableKey)(o),c=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",u=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",d=(0,r.isTruthy)(process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE)||!1,p=process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",h=process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||"",f={name:"@clerk/nextjs",version:"5.0.0-beta.35",environment:"production"},m=(0,r.isTruthy)(process.env.NEXT_PUBLIC_CLERK_TELEMETRY_DISABLED),g=(0,r.isTruthy)(process.env.NEXT_PUBLIC_CLERK_TELEMETRY_DEBUG)},39973:(e,t,i)=>{"use strict";i.d(t,{createGetAuth:()=>c});var n=i(39647),r=i(83306),a=i(7525),s=i(27960),o=i(42397),l=i(11979);let c=({noAuthStatusMessage:e,debugLoggerName:t})=>(0,a.withLogger)(t,t=>(i,a)=>{"true"===(0,l.getHeader)(i,n.constants.Headers.EnableDebug)&&t.enable();let o=(0,l.getAuthKeyFromRequest)(i,"AuthToken"),c=(0,l.getAuthKeyFromRequest)(i,"AuthMessage"),u=(0,l.getAuthKeyFromRequest)(i,"AuthReason"),d=(0,l.getAuthKeyFromRequest)(i,"AuthStatus");if(t.debug("Headers debug",{authStatus:d,authMessage:c,authReason:u}),!d)throw Error(e);let p={authStatus:d,apiUrl:s.API_URL,apiVersion:s.API_VERSION,authMessage:c,secretKey:a?.secretKey||s.SECRET_KEY,authReason:u};if(t.debug("Options debug",p),d===n.AuthStatus.SignedIn){let e=(0,r.decodeJwt)(o);return t.debug("JWT debug",e.raw.text),(0,n.signedInAuthObject)({...p,sessionToken:e.raw.text},e.payload)}return(0,n.signedOutAuthObject)(p)});c({debugLoggerName:"getAuth()",noAuthStatusMessage:(0,o.getAuthAuthHeaderMissing)()})},42397:(e,t,i)=>{"use strict";i.d(t,{authAuthHeaderMissing:()=>r,getAuthAuthHeaderMissing:()=>n});let n=()=>r("getAuth"),r=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of clerkMiddleware() (or the deprecated authMiddleware()). Please ensure the following:
-  clerkMiddleware() (or the deprecated authMiddleware()) is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`},30804:(e,t,i)=>{"use strict";i.d(t,{currentUser:()=>n.currentUser}),i(74176);var n=i(91468)},99610:(e,t,i)=>{"use strict";i.d(t,{createProtect:()=>a});var n=i(39647),r=i(56417);let a=e=>{let{redirectToSignIn:t,authObject:i,redirect:n,notFound:r,request:a}=e;return(...e)=>{let s=e[0]?.unauthenticatedUrl||e[0]?.unauthorizedUrl?void 0:e[0],l=e[0]?.unauthenticatedUrl||e[1]?.unauthenticatedUrl,c=e[0]?.unauthorizedUrl||e[1]?.unauthorizedUrl,u=()=>c?n(c):r();return i.userId?s?"function"==typeof s?s(i.has)?i:u():i.has(s)?i:u():i:l?n(l):o(a)?t():r()}},s=e=>!!e.headers.get(r.constants.Headers.NextUrl)&&(e.headers.get(n.constants.Headers.Accept)?.includes("text/x-component")||e.headers.get(n.constants.Headers.ContentType)?.includes("multipart/form-data")||!!e.headers.get(r.constants.Headers.NextAction)),o=e=>"document"===e.headers.get(n.constants.Headers.SecFetchDest)||e.headers.get(n.constants.Headers.Accept)?.includes("text/html")||!!e.headers.get(r.constants.Headers.NextUrl)&&!s(e)||!!e.headers.get(r.constants.Headers.NextjsData)},11979:(e,t,i)=>{"use strict";i.d(t,{getAuthKeyFromRequest:()=>r,getHeader:()=>a});var n=i(39647);function r(e,t){var i;return((i=n.constants.Attributes[t])in e?e[i]:void 0)||a(e,n.constants.Headers[t])}function a(e,t){return!function(e){try{let{headers:t,nextUrl:i,cookies:n}=e||{};return"function"==typeof t?.get&&"function"==typeof i?.searchParams.get&&"function"==typeof n?.get}catch(e){return!1}}(e)?e.headers[t]||e.headers[t.toLowerCase()]||e.socket?._httpMessage?.getHeader(t):e.headers.get(t)}i(2933),i(83228),i(62761),i(79351)},7525:(e,t,i)=>{"use strict";i.d(t,{withLogger:()=>s});var n=i(5594),r=i(36669);let a=(e,t)=>()=>{let i=[],r=!1;return{enable:()=>{r=!0},debug:(...e)=>{r&&i.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(r){for(let n of(console.log(`[clerk debug start: ${e}]`),i)){let e=t(n);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let i=new TextEncoder,n=new TextDecoder("utf-8"),r=i.encode(e).slice(0,4096);return n.decode(r).replace(/\uFFFD/g,"")}(e,0)),console.log(e)}console.log(`[clerk debug end: ${e}] (@clerk/nextjs=5.0.0-beta.35,next=${n.version})`)}}}},s=(e,t)=>(...i)=>{let n=("string"==typeof e?a(e,r.logFormatter):e)(),s=t(n);try{let e=s(...i);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(n.commit(),e)).catch(e=>{throw n.commit(),e});return n.commit(),e}catch(e){throw n.commit(),e}}},36669:(e,t,i)=>{"use strict";i.d(t,{logFormatter:()=>r});let n=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},r=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?n(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,n(t)])),null,2)).join(", ")},39440:(e,t,i)=>{"use strict";i.d(t,{StreamClient:()=>J});var n=i(3078),r=i(9410),a=i.n(r),s=i(6113),o=i.n(s);function l(e,t,i,n){return new(i||(i=Promise))(function(r,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}let c="https://chat.stream-io-api.com".replace(/\/+$/,""),u=new class{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:c}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,i=""){return Object.keys(t).map(n=>(function t(i,n,r=""){let a=r+(r.length?`[${i}]`:i);if(n instanceof Array){let e=n.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}return n instanceof Set?t(i,Array.from(n),r):n instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(n.toISOString())}`:n instanceof Object?e(n,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(n))}`})(n,t[n],i)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>l(this,void 0,void 0,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}},d=class e{constructor(e=u){this.configuration=e,this.fetchApi=(e,t)=>l(this,void 0,void 0,function*(){let i,n={url:e,init:t};for(let e of this.middleware)e.pre&&(n=(yield e.pre(Object.assign({fetch:this.fetchApi},n)))||n);try{i=yield(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(e){for(let t of this.middleware)t.onError&&(i=(yield t.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:e,response:i?i.clone():void 0}))||i);if(void 0===i){if(e instanceof Error)throw new h(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(i=(yield e.post({fetch:this.fetchApi,url:n.url,init:n.init,response:i.clone()}))||i);return i}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(t){return!!t&&e.jsonRegex.test(t)}request(e,t){return l(this,void 0,void 0,function*(){let{url:i,init:n}=yield this.createFetchParams(e,t),r=yield this.fetchApi(i,n);if(r&&r.status>=200&&r.status<300)return r;throw new p(r,"Response returned an error code")})}createFetchParams(e,t){return l(this,void 0,void 0,function*(){var i,n;let r=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(r+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let s={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o=Object.assign(Object.assign({},s),(yield("function"==typeof t?t:()=>l(this,void 0,void 0,function*(){return t}))({init:s,context:e})));return{url:r,init:Object.assign(Object.assign({},o),{body:(i=o.body,"undefined"!=typeof FormData&&i instanceof FormData||o.body instanceof URLSearchParams||(n=o.body,"undefined"!=typeof Blob&&n instanceof Blob))?o.body:JSON.stringify(o.body)})}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}};d.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");let p=class extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}},h=class extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}},f=class extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}},m={csv:","};function g(e){for(let t of e)if("multipart/form-data"===t.contentType)return!0;return!1}let y=class{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return l(this,void 0,void 0,function*(){return this.transformer((yield this.raw.json()))})}},v=class{constructor(e){this.raw=e}value(){return l(this,void 0,void 0,function*(){})}};class b extends d{createChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createChannelTypeRequest||void 0===e.createChannelTypeRequest)throw new f("createChannelTypeRequest","Required parameter requestParameters.createChannelTypeRequest was null or undefined when calling createChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"POST",headers:n,query:i,body:e.createChannelTypeRequest},t)))})}createChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createChannelTypeRaw(e,t);return yield i.value()})}deleteChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteChannelTypeRaw(e,t);return yield i.value()})}getChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getChannelTypeRaw(e,t);return yield i.value()})}listChannelTypesRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"GET",headers:i,query:t},e)))})}listChannelTypes(e){return l(this,void 0,void 0,function*(){let t=yield this.listChannelTypesRaw(e);return yield t.value()})}updateChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateChannelType.");if(null===e.updateChannelTypeRequest||void 0===e.updateChannelTypeRequest)throw new f("updateChannelTypeRequest","Required parameter requestParameters.updateChannelTypeRequest was null or undefined when calling updateChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateChannelTypeRequest},t)))})}updateChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateChannelTypeRaw(e,t);return yield i.value()})}}class w extends d{deleteChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteChannel.");let i={};void 0!==e.hardDelete&&(i.hard_delete=e.hardDelete);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteChannelRaw(e,t);return yield i.value()})}deleteChannelsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.deleteChannelsRequest||void 0===e.deleteChannelsRequest)throw new f("deleteChannelsRequest","Required parameter requestParameters.deleteChannelsRequest was null or undefined when calling deleteChannels.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/delete",method:"POST",headers:n,query:i,body:e.deleteChannelsRequest},t)))})}deleteChannels(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteChannelsRaw(e,t);return yield i.value()})}exportChannelsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.exportChannelsRequest||void 0===e.exportChannelsRequest)throw new f("exportChannelsRequest","Required parameter requestParameters.exportChannelsRequest was null or undefined when calling exportChannels.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/export_channels",method:"POST",headers:n,query:i,body:e.exportChannelsRequest},t)))})}exportChannels(e,t){return l(this,void 0,void 0,function*(){let i=yield this.exportChannelsRaw(e,t);return yield i.value()})}getExportChannelsStatusRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getExportChannelsStatus.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/export_channels/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getExportChannelsStatus(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getExportChannelsStatusRaw(e,t);return yield i.value()})}getOrCreateChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling getOrCreateChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getOrCreateChannel.");if(null===e.channelGetOrCreateRequest||void 0===e.channelGetOrCreateRequest)throw new f("channelGetOrCreateRequest","Required parameter requestParameters.channelGetOrCreateRequest was null or undefined when calling getOrCreateChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/query".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.channelGetOrCreateRequest},t)))})}getOrCreateChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getOrCreateChannelRaw(e,t);return yield i.value()})}hideChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling hideChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling hideChannel.");if(null===e.hideChannelRequest||void 0===e.hideChannelRequest)throw new f("hideChannelRequest","Required parameter requestParameters.hideChannelRequest was null or undefined when calling hideChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/hide".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.hideChannelRequest},t)))})}hideChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.hideChannelRaw(e,t);return yield i.value()})}markChannelsReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.markChannelsReadRequest||void 0===e.markChannelsReadRequest)throw new f("markChannelsReadRequest","Required parameter requestParameters.markChannelsReadRequest was null or undefined when calling markChannelsRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/read",method:"POST",headers:n,query:i,body:e.markChannelsReadRequest},t)))})}markChannelsRead(e,t){return l(this,void 0,void 0,function*(){let i=yield this.markChannelsReadRaw(e,t);return yield i.value()})}markReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markRead.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markRead.");if(null===e.markReadRequest||void 0===e.markReadRequest)throw new f("markReadRequest","Required parameter requestParameters.markReadRequest was null or undefined when calling markRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/read".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markReadRequest},t)))})}markRead(e,t){return l(this,void 0,void 0,function*(){let i=yield this.markReadRaw(e,t);return yield i.value()})}markUnreadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markUnread.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markUnread.");if(null===e.markUnreadRequest||void 0===e.markUnreadRequest)throw new f("markUnreadRequest","Required parameter requestParameters.markUnreadRequest was null or undefined when calling markUnread.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/unread".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markUnreadRequest},t)))})}markUnread(e,t){return l(this,void 0,void 0,function*(){let i=yield this.markUnreadRaw(e,t);return yield i.value()})}muteChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.muteChannelRequest||void 0===e.muteChannelRequest)throw new f("muteChannelRequest","Required parameter requestParameters.muteChannelRequest was null or undefined when calling muteChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/mute/channel",method:"POST",headers:n,query:i,body:e.muteChannelRequest},t)))})}muteChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.muteChannelRaw(e,t);return yield i.value()})}queryChannelsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.queryChannelsRequest||void 0===e.queryChannelsRequest)throw new f("queryChannelsRequest","Required parameter requestParameters.queryChannelsRequest was null or undefined when calling queryChannels.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels",method:"POST",headers:n,query:i,body:e.queryChannelsRequest},t)))})}queryChannels(e,t){return l(this,void 0,void 0,function*(){let i=yield this.queryChannelsRaw(e,t);return yield i.value()})}queryMembersRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/members",method:"GET",headers:n,query:i},t)))})}queryMembers(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.queryMembersRaw(e,t);return yield i.value()})}searchRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/search",method:"GET",headers:n,query:i},t)))})}search(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.searchRaw(e,t);return yield i.value()})}showChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling showChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling showChannel.");if(null===e.showChannelRequest||void 0===e.showChannelRequest)throw new f("showChannelRequest","Required parameter requestParameters.showChannelRequest was null or undefined when calling showChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/show".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.showChannelRequest},t)))})}showChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.showChannelRaw(e,t);return yield i.value()})}truncateChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling truncateChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling truncateChannel.");if(null===e.truncateChannelRequest||void 0===e.truncateChannelRequest)throw new f("truncateChannelRequest","Required parameter requestParameters.truncateChannelRequest was null or undefined when calling truncateChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/truncate".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.truncateChannelRequest},t)))})}truncateChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.truncateChannelRaw(e,t);return yield i.value()})}unmuteChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.unmuteChannelRequest||void 0===e.unmuteChannelRequest)throw new f("unmuteChannelRequest","Required parameter requestParameters.unmuteChannelRequest was null or undefined when calling unmuteChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unmute/channel",method:"POST",headers:n,query:i,body:e.unmuteChannelRequest},t)))})}unmuteChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.unmuteChannelRaw(e,t);return yield i.value()})}unreadCountsRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/unread",method:"GET",headers:i,query:t},e)))})}unreadCounts(e){return l(this,void 0,void 0,function*(){let t=yield this.unreadCountsRaw(e);return yield t.value()})}updateChannelRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling updateChannel.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateChannel.");if(null===e.updateChannelRequest||void 0===e.updateChannelRequest)throw new f("updateChannelRequest","Required parameter requestParameters.updateChannelRequest was null or undefined when calling updateChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.updateChannelRequest},t)))})}updateChannel(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateChannelRaw(e,t);return yield i.value()})}updateChannelPartialRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling updateChannelPartial.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateChannelPartial.");if(null===e.updateChannelPartialRequest||void 0===e.updateChannelPartialRequest)throw new f("updateChannelPartialRequest","Required parameter requestParameters.updateChannelPartialRequest was null or undefined when calling updateChannelPartial.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:n,query:i,body:e.updateChannelPartialRequest},t)))})}updateChannelPartial(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateChannelPartialRaw(e,t);return yield i.value()})}}class x extends d{createCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createCommandRequest||void 0===e.createCommandRequest)throw new f("createCommandRequest","Required parameter requestParameters.createCommandRequest was null or undefined when calling createCommand.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands",method:"POST",headers:n,query:i,body:e.createCommandRequest},t)))})}createCommand(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createCommandRaw(e,t);return yield i.value()})}deleteCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteCommand.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteCommand(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteCommandRaw(e,t);return yield i.value()})}getCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getCommand.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getCommand(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getCommandRaw(e,t);return yield i.value()})}listCommandsRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands",method:"GET",headers:i,query:t},e)))})}listCommands(e){return l(this,void 0,void 0,function*(){let t=yield this.listCommandsRaw(e);return yield t.value()})}updateCommandRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateCommand.");if(null===e.updateCommandRequest||void 0===e.updateCommandRequest)throw new f("updateCommandRequest","Required parameter requestParameters.updateCommandRequest was null or undefined when calling updateCommand.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateCommandRequest},t)))})}updateCommand(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateCommandRaw(e,t);return yield i.value()})}}class _ extends d{createDeviceRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createDeviceRequest||void 0===e.createDeviceRequest)throw new f("createDeviceRequest","Required parameter requestParameters.createDeviceRequest was null or undefined when calling createDevice.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/devices",method:"POST",headers:n,query:i,body:e.createDeviceRequest},t)))})}createDevice(e,t){return l(this,void 0,void 0,function*(){yield this.createDeviceRaw(e,t)})}deleteDeviceRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.id&&(i.id=e.id),void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/devices",method:"DELETE",headers:n,query:i},t)))})}deleteDevice(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.deleteDeviceRaw(e,t);return yield i.value()})}listDevicesRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/devices",method:"GET",headers:n,query:i},t)))})}listDevices(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.listDevicesRaw(e,t);return yield i.value()})}}class S extends d{sendEventRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling sendEvent.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling sendEvent.");if(null===e.sendEventRequest||void 0===e.sendEventRequest)throw new f("sendEventRequest","Required parameter requestParameters.sendEventRequest was null or undefined when calling sendEvent.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/event".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.sendEventRequest},t)))})}sendEvent(e,t){return l(this,void 0,void 0,function*(){let i=yield this.sendEventRaw(e,t);return yield i.value()})}sendUserCustomEventRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling sendUserCustomEvent.");if(null===e.sendUserCustomEventRequest||void 0===e.sendUserCustomEventRequest)throw new f("sendUserCustomEventRequest","Required parameter requestParameters.sendUserCustomEventRequest was null or undefined when calling sendUserCustomEvent.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/event".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:n,query:i,body:e.sendUserCustomEventRequest},t)))})}sendUserCustomEvent(e,t){return l(this,void 0,void 0,function*(){let i=yield this.sendUserCustomEventRaw(e,t);return yield i.value()})}}class k extends d{deleteFileRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteFile.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteFile.");let i={};void 0!==e.url&&(i.url=e.url);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/file".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteFile(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteFileRaw(e,t);return yield i.value()})}deleteImageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteImage.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteImage.");let i={};void 0!==e.url&&(i.url=e.url);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/image".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteImage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteImageRaw(e,t);return yield i.value()})}deleteMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteMessage.");let i={};void 0!==e.hard&&(i.hard=e.hard),void 0!==e.deletedBy&&(i.deleted_by=e.deletedBy);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteMessage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteMessageRaw(e,t);return yield i.value()})}deleteReactionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling deleteReaction.");if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deleteReaction.");let i={};void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/reaction/{type}".replace("{id}",encodeURIComponent(String(e.id))).replace("{type}",encodeURIComponent(String(e.type))),method:"DELETE",headers:n,query:i},t)))})}deleteReaction(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteReactionRaw(e,t);return yield i.value()})}flagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling flag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/flag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}flag(e,t){return l(this,void 0,void 0,function*(){let i=yield this.flagRaw(e,t);return yield i.value()})}getManyMessagesRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling getManyMessages.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getManyMessages.");let i={};e.ids&&(i.ids=e.ids.join(","));let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/messages".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getManyMessages(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getManyMessagesRaw(e,t);return yield i.value()})}getMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getMessage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getMessage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getMessageRaw(e,t);return yield i.value()})}getOGRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.url&&(i.url=e.url);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/og",method:"GET",headers:n,query:i},t)))})}getOG(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.getOGRaw(e,t);return yield i.value()})}getReactionsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getReactions.");let i={};void 0!==e.limit&&(i.limit=e.limit),void 0!==e.offset&&(i.offset=e.offset);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/reactions".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getReactions(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getReactionsRaw(e,t);return yield i.value()})}getRepliesRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.parentId||void 0===e.parentId)throw new f("parentId","Required parameter requestParameters.parentId was null or undefined when calling getReplies.");let i={};void 0!==e.idGte&&(i.id_gte=e.idGte),void 0!==e.idGt&&(i.id_gt=e.idGt),void 0!==e.idLte&&(i.id_lte=e.idLte),void 0!==e.idLt&&(i.id_lt=e.idLt),void 0!==e.createdAtAfterOrEqual&&(i.created_at_after_or_equal=e.createdAtAfterOrEqual),void 0!==e.createdAtAfter&&(i.created_at_after=e.createdAtAfter),void 0!==e.createdAtBeforeOrEqual&&(i.created_at_before_or_equal=e.createdAtBeforeOrEqual),void 0!==e.createdAtBefore&&(i.created_at_before=e.createdAtBefore),void 0!==e.idAround&&(i.id_around=e.idAround),void 0!==e.createdAtAround&&(i.created_at_around=e.createdAtAround);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{parent_id}/replies".replace("{parent_id}",encodeURIComponent(String(e.parentId))),method:"GET",headers:n,query:i},t)))})}getReplies(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getRepliesRaw(e,t);return yield i.value()})}markChannelsReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.markChannelsReadRequest||void 0===e.markChannelsReadRequest)throw new f("markChannelsReadRequest","Required parameter requestParameters.markChannelsReadRequest was null or undefined when calling markChannelsRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/read",method:"POST",headers:n,query:i,body:e.markChannelsReadRequest},t)))})}markChannelsRead(e,t){return l(this,void 0,void 0,function*(){let i=yield this.markChannelsReadRaw(e,t);return yield i.value()})}markReadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markRead.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markRead.");if(null===e.markReadRequest||void 0===e.markReadRequest)throw new f("markReadRequest","Required parameter requestParameters.markReadRequest was null or undefined when calling markRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/read".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markReadRequest},t)))})}markRead(e,t){return l(this,void 0,void 0,function*(){let i=yield this.markReadRaw(e,t);return yield i.value()})}markUnreadRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling markUnread.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling markUnread.");if(null===e.markUnreadRequest||void 0===e.markUnreadRequest)throw new f("markUnreadRequest","Required parameter requestParameters.markUnreadRequest was null or undefined when calling markUnread.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/unread".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markUnreadRequest},t)))})}markUnread(e,t){return l(this,void 0,void 0,function*(){let i=yield this.markUnreadRaw(e,t);return yield i.value()})}queryMessageFlagsRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/flags/message",method:"GET",headers:n,query:i},t)))})}queryMessageFlags(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.queryMessageFlagsRaw(e,t);return yield i.value()})}runMessageActionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling runMessageAction.");if(null===e.messageActionRequest||void 0===e.messageActionRequest)throw new f("messageActionRequest","Required parameter requestParameters.messageActionRequest was null or undefined when calling runMessageAction.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/action".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.messageActionRequest},t)))})}runMessageAction(e,t){return l(this,void 0,void 0,function*(){let i=yield this.runMessageActionRaw(e,t);return yield i.value()})}searchRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/search",method:"GET",headers:n,query:i},t)))})}search(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.searchRaw(e,t);return yield i.value()})}sendMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling sendMessage.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling sendMessage.");if(null===e.sendMessageRequest||void 0===e.sendMessageRequest)throw new f("sendMessageRequest","Required parameter requestParameters.sendMessageRequest was null or undefined when calling sendMessage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channels/{type}/{id}/message".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.sendMessageRequest},t)))})}sendMessage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.sendMessageRaw(e,t);return yield i.value()})}sendReactionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling sendReaction.");if(null===e.sendReactionRequest||void 0===e.sendReactionRequest)throw new f("sendReactionRequest","Required parameter requestParameters.sendReactionRequest was null or undefined when calling sendReaction.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/reaction".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.sendReactionRequest},t)))})}sendReaction(e,t){return l(this,void 0,void 0,function*(){let i=yield this.sendReactionRaw(e,t);return yield i.value()})}translateMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling translateMessage.");if(null===e.translateMessageRequest||void 0===e.translateMessageRequest)throw new f("translateMessageRequest","Required parameter requestParameters.translateMessageRequest was null or undefined when calling translateMessage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}/translate".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.translateMessageRequest},t)))})}translateMessage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.translateMessageRaw(e,t);return yield i.value()})}unflagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling unflag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unflag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}unflag(e,t){return l(this,void 0,void 0,function*(){let i=yield this.unflagRaw(e,t);return yield i.value()})}updateMessageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateMessage.");if(null===e.updateMessageRequest||void 0===e.updateMessageRequest)throw new f("updateMessageRequest","Required parameter requestParameters.updateMessageRequest was null or undefined when calling updateMessage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.updateMessageRequest},t)))})}updateMessage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateMessageRaw(e,t);return yield i.value()})}updateMessagePartialRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling updateMessagePartial.");if(null===e.updateMessagePartialRequest||void 0===e.updateMessagePartialRequest)throw new f("updateMessagePartialRequest","Required parameter requestParameters.updateMessagePartialRequest was null or undefined when calling updateMessagePartial.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"PUT",headers:n,query:i,body:e.updateMessagePartialRequest},t)))})}updateMessagePartial(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateMessagePartialRaw(e,t);return yield i.value()})}uploadFileRaw(e,t){return l(this,void 0,void 0,function*(){let i;if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling uploadFile.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling uploadFile.");let n={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(n.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),g([{contentType:"multipart/form-data"}]),i=new URLSearchParams,void 0!==e.file&&i.append("file",e.file),void 0!==e.user&&i.append("user",new Blob([JSON.stringify(e.user)],{type:"application/json"})),new y((yield this.request({path:"/channels/{type}/{id}/file".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:r,query:n,body:i},t)))})}uploadFile(e,t){return l(this,void 0,void 0,function*(){let i=yield this.uploadFileRaw(e,t);return yield i.value()})}uploadImageRaw(e,t){return l(this,void 0,void 0,function*(){let i;if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling uploadImage.");if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling uploadImage.");let n={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(n.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),g([{contentType:"multipart/form-data"}]),i=new URLSearchParams,void 0!==e.file&&i.append("file",e.file),e.uploadSizes&&i.append("upload_sizes",e.uploadSizes.join(m.csv)),void 0!==e.user&&i.append("user",new Blob([JSON.stringify(e.user)],{type:"application/json"})),new y((yield this.request({path:"/channels/{type}/{id}/image".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:r,query:n,body:i},t)))})}uploadImage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.uploadImageRaw(e,t);return yield i.value()})}}class R extends d{createRoleRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createRoleRequest||void 0===e.createRoleRequest)throw new f("createRoleRequest","Required parameter requestParameters.createRoleRequest was null or undefined when calling createRole.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/roles",method:"POST",headers:n,query:i,body:e.createRoleRequest},t)))})}createRole(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createRoleRaw(e,t);return yield i.value()})}deleteRoleRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteRole.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/roles/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteRole(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteRoleRaw(e,t);return yield i.value()})}getPermissionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getPermission.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/permissions/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getPermission(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getPermissionRaw(e,t);return yield i.value()})}listPermissionsRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/permissions",method:"GET",headers:i,query:t},e)))})}listPermissions(e){return l(this,void 0,void 0,function*(){let t=yield this.listPermissionsRaw(e);return yield t.value()})}listRolesRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/roles",method:"GET",headers:i,query:t},e)))})}listRoles(e){return l(this,void 0,void 0,function*(){let t=yield this.listRolesRaw(e);return yield t.value()})}}class E extends d{createDeviceRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createDeviceRequest||void 0===e.createDeviceRequest)throw new f("createDeviceRequest","Required parameter requestParameters.createDeviceRequest was null or undefined when calling createDevice.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/devices",method:"POST",headers:n,query:i,body:e.createDeviceRequest},t)))})}createDevice(e,t){return l(this,void 0,void 0,function*(){yield this.createDeviceRaw(e,t)})}deletePushProviderRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deletePushProvider.");if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deletePushProvider.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers/{type}/{name}".replace("{type}",encodeURIComponent(String(e.type))).replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deletePushProvider(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deletePushProviderRaw(e,t);return yield i.value()})}listPushProvidersRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers",method:"GET",headers:i,query:t},e)))})}listPushProviders(e){return l(this,void 0,void 0,function*(){let t=yield this.listPushProvidersRaw(e);return yield t.value()})}}let T=class extends d{upsertPushProviderRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.upsertPushProviderRequest||void 0===e.upsertPushProviderRequest)throw new f("upsertPushProviderRequest","Required parameter requestParameters.upsertPushProviderRequest was null or undefined when calling upsertPushProvider.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers",method:"POST",headers:n,query:i,body:e.upsertPushProviderRequest},t)))})}upsertPushProvider(e,t){return l(this,void 0,void 0,function*(){let i=yield this.upsertPushProviderRaw(e,t);return yield i.value()})}},C=class extends d{checkPushRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkPushRequest||void 0===e.checkPushRequest)throw new f("checkPushRequest","Required parameter requestParameters.checkPushRequest was null or undefined when calling checkPush.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_push",method:"POST",headers:n,query:i,body:e.checkPushRequest},t)))})}checkPush(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkPushRaw(e,t);return yield i.value()})}checkSNSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSNSRequest||void 0===e.checkSNSRequest)throw new f("checkSNSRequest","Required parameter requestParameters.checkSNSRequest was null or undefined when calling checkSNS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sns",method:"POST",headers:n,query:i,body:e.checkSNSRequest},t)))})}checkSNS(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkSNSRaw(e,t);return yield i.value()})}checkSQSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSQSRequest||void 0===e.checkSQSRequest)throw new f("checkSQSRequest","Required parameter requestParameters.checkSQSRequest was null or undefined when calling checkSQS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sqs",method:"POST",headers:n,query:i,body:e.checkSQSRequest},t)))})}checkSQS(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkSQSRaw(e,t);return yield i.value()})}createBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createBlockListRequest||void 0===e.createBlockListRequest)throw new f("createBlockListRequest","Required parameter requestParameters.createBlockListRequest was null or undefined when calling createBlockList.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists",method:"POST",headers:n,query:i,body:e.createBlockListRequest},t)))})}createBlockList(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createBlockListRaw(e,t);return yield i.value()})}createChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.createChannelTypeRequest||void 0===e.createChannelTypeRequest)throw new f("createChannelTypeRequest","Required parameter requestParameters.createChannelTypeRequest was null or undefined when calling createChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"POST",headers:n,query:i,body:e.createChannelTypeRequest},t)))})}createChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createChannelTypeRaw(e,t);return yield i.value()})}deleteBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteBlockList.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteBlockList(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteBlockListRaw(e,t);return yield i.value()})}deleteChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deleteChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteChannelTypeRaw(e,t);return yield i.value()})}deletePushProviderRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new f("type","Required parameter requestParameters.type was null or undefined when calling deletePushProvider.");if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling deletePushProvider.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers/{type}/{name}".replace("{type}",encodeURIComponent(String(e.type))).replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deletePushProvider(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deletePushProviderRaw(e,t);return yield i.value()})}getAppRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/app",method:"GET",headers:i,query:t},e)))})}getApp(e){return l(this,void 0,void 0,function*(){let t=yield this.getAppRaw(e);return yield t.value()})}getBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getBlockList.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getBlockList(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getBlockListRaw(e,t);return yield i.value()})}getChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling getChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getChannelTypeRaw(e,t);return yield i.value()})}getRateLimitsRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.serverSide&&(i.server_side=e.serverSide),void 0!==e.android&&(i.android=e.android),void 0!==e.ios&&(i.ios=e.ios),void 0!==e.web&&(i.web=e.web),void 0!==e.endpoints&&(i.endpoints=e.endpoints);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/rate_limits",method:"GET",headers:n,query:i},t)))})}getRateLimits(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.getRateLimitsRaw(e,t);return yield i.value()})}listBlockListsRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists",method:"GET",headers:i,query:t},e)))})}listBlockLists(e){return l(this,void 0,void 0,function*(){let t=yield this.listBlockListsRaw(e);return yield t.value()})}listChannelTypesRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes",method:"GET",headers:i,query:t},e)))})}listChannelTypes(e){return l(this,void 0,void 0,function*(){let t=yield this.listChannelTypesRaw(e);return yield t.value()})}listPushProvidersRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/push_providers",method:"GET",headers:i,query:t},e)))})}listPushProviders(e){return l(this,void 0,void 0,function*(){let t=yield this.listPushProvidersRaw(e);return yield t.value()})}updateAppRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.updateAppRequest||void 0===e.updateAppRequest)throw new f("updateAppRequest","Required parameter requestParameters.updateAppRequest was null or undefined when calling updateApp.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/app",method:"PATCH",headers:n,query:i,body:e.updateAppRequest},t)))})}updateApp(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateAppRaw(e,t);return yield i.value()})}updateBlockListRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateBlockList.");if(null===e.updateBlockListRequest||void 0===e.updateBlockListRequest)throw new f("updateBlockListRequest","Required parameter requestParameters.updateBlockListRequest was null or undefined when calling updateBlockList.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateBlockListRequest},t)))})}updateBlockList(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateBlockListRaw(e,t);return yield i.value()})}updateChannelTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new f("name","Required parameter requestParameters.name was null or undefined when calling updateChannelType.");if(null===e.updateChannelTypeRequest||void 0===e.updateChannelTypeRequest)throw new f("updateChannelTypeRequest","Required parameter requestParameters.updateChannelTypeRequest was null or undefined when calling updateChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateChannelTypeRequest},t)))})}updateChannelType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateChannelTypeRaw(e,t);return yield i.value()})}};class P extends d{getTaskRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new f("id","Required parameter requestParameters.id was null or undefined when calling getTask.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/tasks/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getTask(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getTaskRaw(e,t);return yield i.value()})}}class A extends d{checkPushRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkPushRequest||void 0===e.checkPushRequest)throw new f("checkPushRequest","Required parameter requestParameters.checkPushRequest was null or undefined when calling checkPush.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_push",method:"POST",headers:n,query:i,body:e.checkPushRequest},t)))})}checkPush(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkPushRaw(e,t);return yield i.value()})}checkSNSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSNSRequest||void 0===e.checkSNSRequest)throw new f("checkSNSRequest","Required parameter requestParameters.checkSNSRequest was null or undefined when calling checkSNS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sns",method:"POST",headers:n,query:i,body:e.checkSNSRequest},t)))})}checkSNS(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkSNSRaw(e,t);return yield i.value()})}checkSQSRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.checkSQSRequest||void 0===e.checkSQSRequest)throw new f("checkSQSRequest","Required parameter requestParameters.checkSQSRequest was null or undefined when calling checkSQS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/check_sqs",method:"POST",headers:n,query:i,body:e.checkSQSRequest},t)))})}checkSQS(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkSQSRaw(e,t);return yield i.value()})}}class O extends d{banRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.banRequest||void 0===e.banRequest)throw new f("banRequest","Required parameter requestParameters.banRequest was null or undefined when calling ban.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/ban",method:"POST",headers:n,query:i,body:e.banRequest},t)))})}ban(e,t){return l(this,void 0,void 0,function*(){let i=yield this.banRaw(e,t);return yield i.value()})}connectRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.json&&(i.json=e.json);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/connect",method:"GET",headers:n,query:i},t)))})}connect(e={},t){return l(this,void 0,void 0,function*(){yield this.connectRaw(e,t)})}createGuestRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.guestRequest||void 0===e.guestRequest)throw new f("guestRequest","Required parameter requestParameters.guestRequest was null or undefined when calling createGuest.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/guest",method:"POST",headers:n,query:i,body:e.guestRequest},t)))})}createGuest(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createGuestRaw(e,t);return yield i.value()})}deactivateUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling deactivateUser.");if(null===e.deactivateUserRequest||void 0===e.deactivateUserRequest)throw new f("deactivateUserRequest","Required parameter requestParameters.deactivateUserRequest was null or undefined when calling deactivateUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/deactivate".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:n,query:i,body:e.deactivateUserRequest},t)))})}deactivateUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deactivateUserRaw(e,t);return yield i.value()})}deactivateUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.deactivateUsersRequest||void 0===e.deactivateUsersRequest)throw new f("deactivateUsersRequest","Required parameter requestParameters.deactivateUsersRequest was null or undefined when calling deactivateUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/deactivate",method:"POST",headers:n,query:i,body:e.deactivateUsersRequest},t)))})}deactivateUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deactivateUsersRaw(e,t);return yield i.value()})}deleteUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling deleteUser.");let i={};void 0!==e.markMessagesDeleted&&(i.mark_messages_deleted=e.markMessagesDeleted),void 0!==e.hardDelete&&(i.hard_delete=e.hardDelete),void 0!==e.deleteConversationChannels&&(i.delete_conversation_channels=e.deleteConversationChannels);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"DELETE",headers:n,query:i},t)))})}deleteUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteUserRaw(e,t);return yield i.value()})}deleteUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.deleteUsersRequest||void 0===e.deleteUsersRequest)throw new f("deleteUsersRequest","Required parameter requestParameters.deleteUsersRequest was null or undefined when calling deleteUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/delete",method:"POST",headers:n,query:i,body:e.deleteUsersRequest},t)))})}deleteUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteUsersRaw(e,t);return yield i.value()})}exportUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling exportUser.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/export".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"GET",headers:n,query:i},t)))})}exportUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.exportUserRaw(e,t);return yield i.value()})}exportUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.exportUsersRequest||void 0===e.exportUsersRequest)throw new f("exportUsersRequest","Required parameter requestParameters.exportUsersRequest was null or undefined when calling exportUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/export/users",method:"POST",headers:n,query:i,body:e.exportUsersRequest},t)))})}exportUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.exportUsersRaw(e,t);return yield i.value()})}flagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling flag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/flag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}flag(e,t){return l(this,void 0,void 0,function*(){let i=yield this.flagRaw(e,t);return yield i.value()})}longPollRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.json&&(i.json=e.json),void 0!==e.connectionId&&(i.connection_id=e.connectionId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new v((yield this.request({path:"/longpoll",method:"GET",headers:n,query:i},t)))})}longPoll(e={},t){return l(this,void 0,void 0,function*(){yield this.longPollRaw(e,t)})}muteUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.muteUserRequest||void 0===e.muteUserRequest)throw new f("muteUserRequest","Required parameter requestParameters.muteUserRequest was null or undefined when calling muteUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/mute",method:"POST",headers:n,query:i,body:e.muteUserRequest},t)))})}muteUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.muteUserRaw(e,t);return yield i.value()})}queryBannedUsersRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/query_banned_users",method:"GET",headers:n,query:i},t)))})}queryBannedUsers(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.queryBannedUsersRaw(e,t);return yield i.value()})}queryUsersRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users",method:"GET",headers:n,query:i},t)))})}queryUsers(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.queryUsersRaw(e,t);return yield i.value()})}reactivateUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new f("userId","Required parameter requestParameters.userId was null or undefined when calling reactivateUser.");if(null===e.reactivateUserRequest||void 0===e.reactivateUserRequest)throw new f("reactivateUserRequest","Required parameter requestParameters.reactivateUserRequest was null or undefined when calling reactivateUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/{user_id}/reactivate".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:n,query:i,body:e.reactivateUserRequest},t)))})}reactivateUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.reactivateUserRaw(e,t);return yield i.value()})}reactivateUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.reactivateUsersRequest||void 0===e.reactivateUsersRequest)throw new f("reactivateUsersRequest","Required parameter requestParameters.reactivateUsersRequest was null or undefined when calling reactivateUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/reactivate",method:"POST",headers:n,query:i,body:e.reactivateUsersRequest},t)))})}reactivateUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.reactivateUsersRaw(e,t);return yield i.value()})}restoreUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.restoreUsersRequest||void 0===e.restoreUsersRequest)throw new f("restoreUsersRequest","Required parameter requestParameters.restoreUsersRequest was null or undefined when calling restoreUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users/restore",method:"POST",headers:n,query:i,body:e.restoreUsersRequest},t)))})}restoreUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.restoreUsersRaw(e,t);return yield i.value()})}unbanRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.targetUserId&&(i.target_user_id=e.targetUserId),void 0!==e.type&&(i.type=e.type),void 0!==e.id&&(i.id=e.id),void 0!==e.createdBy&&(i.created_by=e.createdBy);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/ban",method:"DELETE",headers:n,query:i},t)))})}unban(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.unbanRaw(e,t);return yield i.value()})}unflagRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new f("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling unflag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unflag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}unflag(e,t){return l(this,void 0,void 0,function*(){let i=yield this.unflagRaw(e,t);return yield i.value()})}unmuteUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.unmuteUserRequest||void 0===e.unmuteUserRequest)throw new f("unmuteUserRequest","Required parameter requestParameters.unmuteUserRequest was null or undefined when calling unmuteUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/moderation/unmute",method:"POST",headers:n,query:i,body:e.unmuteUserRequest},t)))})}unmuteUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.unmuteUserRaw(e,t);return yield i.value()})}updateUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.updateUsersRequest||void 0===e.updateUsersRequest)throw new f("updateUsersRequest","Required parameter requestParameters.updateUsersRequest was null or undefined when calling updateUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users",method:"POST",headers:n,query:i,body:e.updateUsersRequest},t)))})}updateUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateUsersRaw(e,t);return yield i.value()})}updateUsersPartialRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.updateUserPartialRequest||void 0===e.updateUserPartialRequest)throw new f("updateUserPartialRequest","Required parameter requestParameters.updateUserPartialRequest was null or undefined when calling updateUsersPartial.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new y((yield this.request({path:"/users",method:"PATCH",headers:n,query:i,body:e.updateUserPartialRequest},t)))})}updateUsersPartial(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateUsersPartialRaw(e,t);return yield i.value()})}}class I{constructor(e,t,i){this.streamClient=e,this.type=t,this.id=i,this.delete=e=>this.channelsApi.deleteChannel(Object.assign(Object.assign({},this.baseRequest),null!=e?e:{})),this.update=e=>this.channelsApi.updateChannel(Object.assign(Object.assign({},this.baseRequest),{updateChannelRequest:e})),this.updatePartial=e=>this.channelsApi.updateChannelPartial(Object.assign(Object.assign({},this.baseRequest),{updateChannelPartialRequest:e})),this.getOrCreate=e=>l(this,void 0,void 0,function*(){if(this.id)return yield this.channelsApi.getOrCreateChannel(Object.assign(Object.assign({},this.baseRequest),{channelGetOrCreateRequest:null!=e?e:{}}));throw Error("This operation isn't yet implemented")}),this.markRead=e=>this.channelsApi.markRead(Object.assign(Object.assign({},this.baseRequest),{markReadRequest:e})),this.markUnread=e=>this.channelsApi.markUnread(Object.assign(Object.assign({},this.baseRequest),{markUnreadRequest:e})),this.show=e=>this.channelsApi.showChannel(Object.assign(Object.assign({},this.baseRequest),{showChannelRequest:e})),this.hide=e=>this.channelsApi.hideChannel(Object.assign(Object.assign({},this.baseRequest),{hideChannelRequest:e})),this.truncate=e=>this.channelsApi.truncateChannel(Object.assign(Object.assign({},this.baseRequest),{truncateChannelRequest:e})),this.queryMembers=e=>this.channelsApi.queryMembers({payload:Object.assign(Object.assign({},this.baseRequest),e)}),this.mute=e=>this.channelsApi.muteChannel({muteChannelRequest:Object.assign(Object.assign({},e),{channel_cids:[this.cid]})}),this.unmute=e=>this.channelsApi.unmuteChannel({unmuteChannelRequest:Object.assign(Object.assign({},e),{channel_cid:this.cid,channel_cids:[]})}),this.sendMessage=e=>this.messagesApi.sendMessage(Object.assign(Object.assign({},this.baseRequest),{sendMessageRequest:e})),this.deleteMessage=e=>this.messagesApi.deleteMessage(e),this.updateMessage=(e,t)=>this.messagesApi.updateMessage({id:e,updateMessageRequest:t}),this.updateMessagePartial=(e,t)=>this.messagesApi.updateMessagePartial({id:e,updateMessagePartialRequest:t}),this.getMessage=e=>this.messagesApi.getMessage(e),this.getManyMessages=e=>this.messagesApi.getManyMessages(Object.assign(Object.assign({},e),this.baseRequest)),this.translateMessage=(e,t)=>this.messagesApi.translateMessage({id:e,translateMessageRequest:t}),this.getMessagesAround=e=>this.messagesApi.getReplies(e),this.getOpenGraphData=e=>this.messagesApi.getOG(e),this.sendMessageReaction=(e,t)=>this.messagesApi.sendReaction({id:e,sendReactionRequest:t}),this.deleteMessageReaction=(e,t)=>this.messagesApi.deleteReaction(Object.assign(Object.assign({},t),{id:e})),this.getMessageReactions=(e,t)=>this.messagesApi.getReactions(Object.assign(Object.assign({},null!=t?t:{}),{id:e})),this.sendCustomEvent=e=>this.eventsApi.sendEvent(Object.assign(Object.assign({},this.baseRequest),{sendEventRequest:{event:e}}));let n=this.streamClient.getConfiguration();this.channelsApi=new w(n),this.messagesApi=new k(n),this.eventsApi=new S(n)}get cid(){return`${this.baseRequest.type}:${this.baseRequest.id}`}get baseRequest(){if(!this.id)throw Error("You need to initialize the channel with `getOrCreate`");return{id:this.id,type:this.type}}}class N{constructor(e){this.streamClient=e,this.channel=(e,t)=>new I(this.streamClient,e,t),this.createBlockList=e=>this.settingsApi.createBlockList({createBlockListRequest:e}),this.listBlockLists=()=>this.settingsApi.listBlockLists(),this.getBlockList=e=>this.settingsApi.getBlockList(e),this.updateBlockList=(e,t)=>this.settingsApi.updateBlockList({name:e,updateBlockListRequest:t}),this.deleteBlockList=e=>this.settingsApi.deleteBlockList(e),this.createChannelType=e=>this.channelTypesApi.createChannelType({createChannelTypeRequest:e}),this.deleteChannelType=e=>this.channelTypesApi.deleteChannelType(e),this.getChannelType=e=>this.channelTypesApi.getChannelType(e),this.listChannelTypes=()=>this.channelTypesApi.listChannelTypes(),this.updateChannelType=(e,t)=>this.channelTypesApi.updateChannelType({name:e,updateChannelTypeRequest:t}),this.queryChannels=e=>this.channelsApi.queryChannels({queryChannelsRequest:null!=e?e:null}),this.searchMessages=e=>this.channelsApi.search({payload:e}),this.exportChannels=e=>this.channelsApi.exportChannels({exportChannelsRequest:null!=e?e:null}),this.getExportStatus=e=>this.channelsApi.getExportChannelsStatus(e),this.listCommands=()=>this.commandsApi.listCommands(),this.createCommand=e=>this.commandsApi.createCommand({createCommandRequest:e}),this.getCommand=e=>this.commandsApi.getCommand(e),this.updateCommand=(e,t)=>this.commandsApi.updateCommand({name:e,updateCommandRequest:t}),this.deleteCommand=e=>this.commandsApi.deleteCommand(e);let t=this.streamClient.getConfiguration();this.settingsApi=new C(t),this.channelTypesApi=new b(t),this.channelsApi=new w(t),this.commandsApi=new x(t)}}let j="https://stream-io-api.com".replace(/\/+$/,"");class L{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:j}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,i=""){return Object.keys(t).map(n=>(function t(i,n,r=""){let a=r+(r.length?`[${i}]`:i);if(n instanceof Array){let e=n.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}return n instanceof Set?t(i,Array.from(n),r):n instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(n.toISOString())}`:n instanceof Object?e(n,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(n))}`})(n,t[n],i)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>l(this,void 0,void 0,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}let D=new L;class M{constructor(e=D){this.configuration=e,this.fetchApi=(e,t)=>l(this,void 0,void 0,function*(){let i,n={url:e,init:t};for(let e of this.middleware)e.pre&&(n=(yield e.pre(Object.assign({fetch:this.fetchApi},n)))||n);try{i=yield(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(e){for(let t of this.middleware)t.onError&&(i=(yield t.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:e,response:i?i.clone():void 0}))||i);if(void 0===i){if(e instanceof Error)throw new q(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(i=(yield e.post({fetch:this.fetchApi,url:n.url,init:n.init,response:i.clone()}))||i);return i}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(e){return!!e&&M.jsonRegex.test(e)}request(e,t){return l(this,void 0,void 0,function*(){let{url:i,init:n}=yield this.createFetchParams(e,t),r=yield this.fetchApi(i,n);if(r&&r.status>=200&&r.status<300)return r;throw new U(r,"Response returned an error code")})}createFetchParams(e,t){return l(this,void 0,void 0,function*(){var i,n;let r=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(r+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let s={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o=Object.assign(Object.assign({},s),(yield("function"==typeof t?t:()=>l(this,void 0,void 0,function*(){return t}))({init:s,context:e})));return{url:r,init:Object.assign(Object.assign({},o),{body:(i=o.body,"undefined"!=typeof FormData&&i instanceof FormData||o.body instanceof URLSearchParams||(n=o.body,"undefined"!=typeof Blob&&n instanceof Blob))?o.body:JSON.stringify(o.body)})}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}}M.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class U extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class q extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class $ extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class F{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return l(this,void 0,void 0,function*(){return this.transformer((yield this.raw.json()))})}}class K{constructor(e){this.raw=e}value(){return l(this,void 0,void 0,function*(){})}}class B extends M{blockUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling blockUser.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling blockUser.");if(null===e.videoBlockUserRequest||void 0===e.videoBlockUserRequest)throw new $("videoBlockUserRequest","Required parameter requestParameters.videoBlockUserRequest was null or undefined when calling blockUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/block".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoBlockUserRequest},t)))})}blockUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.blockUserRaw(e,t);return yield i.value()})}createDeviceRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateDeviceRequest||void 0===e.videoCreateDeviceRequest)throw new $("videoCreateDeviceRequest","Required parameter requestParameters.videoCreateDeviceRequest was null or undefined when calling createDevice.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/devices",method:"POST",headers:n,query:i,body:e.videoCreateDeviceRequest},t)))})}createDevice(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createDeviceRaw(e,t);return yield i.value()})}createGuestRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateGuestRequest||void 0===e.videoCreateGuestRequest)throw new $("videoCreateGuestRequest","Required parameter requestParameters.videoCreateGuestRequest was null or undefined when calling createGuest.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/guest",method:"POST",headers:n,query:i,body:e.videoCreateGuestRequest},t)))})}createGuest(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createGuestRaw(e,t);return yield i.value()})}deleteDeviceRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.id&&(i.id=e.id),void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/devices",method:"DELETE",headers:n,query:i},t)))})}deleteDevice(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.deleteDeviceRaw(e,t);return yield i.value()})}endCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling endCall.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling endCall.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/mark_ended".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}endCall(e,t){return l(this,void 0,void 0,function*(){let i=yield this.endCallRaw(e,t);return yield i.value()})}getCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling getCall.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling getCall.");let i={};void 0!==e.connectionId&&(i.connection_id=e.connectionId),void 0!==e.membersLimit&&(i.members_limit=e.membersLimit),void 0!==e.ring&&(i.ring=e.ring),void 0!==e.notify&&(i.notify=e.notify);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getCall(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getCallRaw(e,t);return yield i.value()})}getEdgesRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/edges",method:"GET",headers:i,query:t},e)))})}getEdges(e){return l(this,void 0,void 0,function*(){let t=yield this.getEdgesRaw(e);return yield t.value()})}getOrCreateCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling getOrCreateCall.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling getOrCreateCall.");if(null===e.videoGetOrCreateCallRequest||void 0===e.videoGetOrCreateCallRequest)throw new $("videoGetOrCreateCallRequest","Required parameter requestParameters.videoGetOrCreateCallRequest was null or undefined when calling getOrCreateCall.");let i={};void 0!==e.connectionId&&(i.connection_id=e.connectionId);let n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoGetOrCreateCallRequest},t)))})}getOrCreateCall(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getOrCreateCallRaw(e,t);return yield i.value()})}goLiveRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling goLive.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling goLive.");if(null===e.videoGoLiveRequest||void 0===e.videoGoLiveRequest)throw new $("videoGoLiveRequest","Required parameter requestParameters.videoGoLiveRequest was null or undefined when calling goLive.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/go_live".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoGoLiveRequest},t)))})}goLive(e,t){return l(this,void 0,void 0,function*(){let i=yield this.goLiveRaw(e,t);return yield i.value()})}listDevicesRaw(e,t){return l(this,void 0,void 0,function*(){let i={};void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/devices",method:"GET",headers:n,query:i},t)))})}listDevices(e={},t){return l(this,void 0,void 0,function*(){let i=yield this.listDevicesRaw(e,t);return yield i.value()})}listRecordingsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling listRecordings.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling listRecordings.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/recordings".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}listRecordings(e,t){return l(this,void 0,void 0,function*(){let i=yield this.listRecordingsRaw(e,t);return yield i.value()})}listTranscriptionsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling listTranscriptions.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling listTranscriptions.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/transcriptions".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}listTranscriptions(e,t){return l(this,void 0,void 0,function*(){let i=yield this.listTranscriptionsRaw(e,t);return yield i.value()})}muteUsersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling muteUsers.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling muteUsers.");if(null===e.videoMuteUsersRequest||void 0===e.videoMuteUsersRequest)throw new $("videoMuteUsersRequest","Required parameter requestParameters.videoMuteUsersRequest was null or undefined when calling muteUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/mute_users".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoMuteUsersRequest},t)))})}muteUsers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.muteUsersRaw(e,t);return yield i.value()})}queryCallsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoQueryCallsRequest||void 0===e.videoQueryCallsRequest)throw new $("videoQueryCallsRequest","Required parameter requestParameters.videoQueryCallsRequest was null or undefined when calling queryCalls.");let i={};void 0!==e.connectionId&&(i.connection_id=e.connectionId);let n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/calls",method:"POST",headers:n,query:i,body:e.videoQueryCallsRequest},t)))})}queryCalls(e,t){return l(this,void 0,void 0,function*(){let i=yield this.queryCallsRaw(e,t);return yield i.value()})}queryMembersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoQueryMembersRequest||void 0===e.videoQueryMembersRequest)throw new $("videoQueryMembersRequest","Required parameter requestParameters.videoQueryMembersRequest was null or undefined when calling queryMembers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/members",method:"POST",headers:n,query:i,body:e.videoQueryMembersRequest},t)))})}queryMembers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.queryMembersRaw(e,t);return yield i.value()})}sendEventRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling sendEvent.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling sendEvent.");if(null===e.videoSendEventRequest||void 0===e.videoSendEventRequest)throw new $("videoSendEventRequest","Required parameter requestParameters.videoSendEventRequest was null or undefined when calling sendEvent.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/event".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoSendEventRequest},t)))})}sendEvent(e,t){return l(this,void 0,void 0,function*(){let i=yield this.sendEventRaw(e,t);return yield i.value()})}startHLSBroadcastingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling startHLSBroadcasting.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling startHLSBroadcasting.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/start_broadcasting".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}startHLSBroadcasting(e,t){return l(this,void 0,void 0,function*(){let i=yield this.startHLSBroadcastingRaw(e,t);return yield i.value()})}startRecordingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling startRecording.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling startRecording.");if(null===e.videoStartRecordingRequest||void 0===e.videoStartRecordingRequest)throw new $("videoStartRecordingRequest","Required parameter requestParameters.videoStartRecordingRequest was null or undefined when calling startRecording.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/start_recording".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoStartRecordingRequest},t)))})}startRecording(e,t){return l(this,void 0,void 0,function*(){let i=yield this.startRecordingRaw(e,t);return yield i.value()})}startTranscriptionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling startTranscription.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling startTranscription.");if(null===e.videoStartTranscriptionRequest||void 0===e.videoStartTranscriptionRequest)throw new $("videoStartTranscriptionRequest","Required parameter requestParameters.videoStartTranscriptionRequest was null or undefined when calling startTranscription.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/start_transcription".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoStartTranscriptionRequest},t)))})}startTranscription(e,t){return l(this,void 0,void 0,function*(){let i=yield this.startTranscriptionRaw(e,t);return yield i.value()})}stopHLSBroadcastingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling stopHLSBroadcasting.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling stopHLSBroadcasting.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/stop_broadcasting".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopHLSBroadcasting(e,t){return l(this,void 0,void 0,function*(){let i=yield this.stopHLSBroadcastingRaw(e,t);return yield i.value()})}stopLiveRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling stopLive.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling stopLive.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/stop_live".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopLive(e,t){return l(this,void 0,void 0,function*(){let i=yield this.stopLiveRaw(e,t);return yield i.value()})}stopRecordingRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling stopRecording.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling stopRecording.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/stop_recording".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopRecording(e,t){return l(this,void 0,void 0,function*(){let i=yield this.stopRecordingRaw(e,t);return yield i.value()})}stopTranscriptionRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling stopTranscription.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling stopTranscription.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/stop_transcription".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopTranscription(e,t){return l(this,void 0,void 0,function*(){let i=yield this.stopTranscriptionRaw(e,t);return yield i.value()})}unblockUserRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling unblockUser.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling unblockUser.");if(null===e.videoUnblockUserRequest||void 0===e.videoUnblockUserRequest)throw new $("videoUnblockUserRequest","Required parameter requestParameters.videoUnblockUserRequest was null or undefined when calling unblockUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/unblock".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUnblockUserRequest},t)))})}unblockUser(e,t){return l(this,void 0,void 0,function*(){let i=yield this.unblockUserRaw(e,t);return yield i.value()})}updateCallRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling updateCall.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling updateCall.");if(null===e.videoUpdateCallRequest||void 0===e.videoUpdateCallRequest)throw new $("videoUpdateCallRequest","Required parameter requestParameters.videoUpdateCallRequest was null or undefined when calling updateCall.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:n,query:i,body:e.videoUpdateCallRequest},t)))})}updateCall(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateCallRaw(e,t);return yield i.value()})}updateCallMembersRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling updateCallMembers.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling updateCallMembers.");if(null===e.videoUpdateCallMembersRequest||void 0===e.videoUpdateCallMembersRequest)throw new $("videoUpdateCallMembersRequest","Required parameter requestParameters.videoUpdateCallMembersRequest was null or undefined when calling updateCallMembers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/members".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUpdateCallMembersRequest},t)))})}updateCallMembers(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateCallMembersRaw(e,t);return yield i.value()})}updateUserPermissionsRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling updateUserPermissions.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling updateUserPermissions.");if(null===e.videoUpdateUserPermissionsRequest||void 0===e.videoUpdateUserPermissionsRequest)throw new $("videoUpdateUserPermissionsRequest","Required parameter requestParameters.videoUpdateUserPermissionsRequest was null or undefined when calling updateUserPermissions.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/user_permissions".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUpdateUserPermissionsRequest},t)))})}updateUserPermissions(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateUserPermissionsRaw(e,t);return yield i.value()})}videoConnectRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoWSAuthMessageRequest||void 0===e.videoWSAuthMessageRequest)throw new $("videoWSAuthMessageRequest","Required parameter requestParameters.videoWSAuthMessageRequest was null or undefined when calling videoConnect.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new K((yield this.request({path:"/video/connect",method:"GET",headers:n,query:i,body:e.videoWSAuthMessageRequest},t)))})}videoConnect(e,t){return l(this,void 0,void 0,function*(){yield this.videoConnectRaw(e,t)})}videoPinRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling videoPin.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling videoPin.");if(null===e.videoPinRequest||void 0===e.videoPinRequest)throw new $("videoPinRequest","Required parameter requestParameters.videoPinRequest was null or undefined when calling videoPin.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/pin".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoPinRequest},t)))})}videoPin(e,t){return l(this,void 0,void 0,function*(){let i=yield this.videoPinRaw(e,t);return yield i.value()})}videoUnpinRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new $("type","Required parameter requestParameters.type was null or undefined when calling videoUnpin.");if(null===e.id||void 0===e.id)throw new $("id","Required parameter requestParameters.id was null or undefined when calling videoUnpin.");if(null===e.videoUnpinRequest||void 0===e.videoUnpinRequest)throw new $("videoUnpinRequest","Required parameter requestParameters.videoUnpinRequest was null or undefined when calling videoUnpin.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/call/{type}/{id}/unpin".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUnpinRequest},t)))})}videoUnpin(e,t){return l(this,void 0,void 0,function*(){let i=yield this.videoUnpinRaw(e,t);return yield i.value()})}}class V extends M{checkExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new $("name","Required parameter requestParameters.name was null or undefined when calling checkExternalStorage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/external_storage/{name}/check".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}checkExternalStorage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.checkExternalStorageRaw(e,t);return yield i.value()})}createCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateCallTypeRequest||void 0===e.videoCreateCallTypeRequest)throw new $("videoCreateCallTypeRequest","Required parameter requestParameters.videoCreateCallTypeRequest was null or undefined when calling createCallType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/calltypes",method:"POST",headers:n,query:i,body:e.videoCreateCallTypeRequest},t)))})}createCallType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createCallTypeRaw(e,t);return yield i.value()})}deleteCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new $("name","Required parameter requestParameters.name was null or undefined when calling deleteCallType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteCallType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteCallTypeRaw(e,t);return yield i.value()})}getCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new $("name","Required parameter requestParameters.name was null or undefined when calling getCallType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getCallType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.getCallTypeRaw(e,t);return yield i.value()})}listCallTypesRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/calltypes",method:"GET",headers:i,query:t},e)))})}listCallTypes(e){return l(this,void 0,void 0,function*(){let t=yield this.listCallTypesRaw(e);return yield t.value()})}updateCallTypeRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new $("name","Required parameter requestParameters.name was null or undefined when calling updateCallType.");if(null===e.videoUpdateCallTypeRequest||void 0===e.videoUpdateCallTypeRequest)throw new $("videoUpdateCallTypeRequest","Required parameter requestParameters.videoUpdateCallTypeRequest was null or undefined when calling updateCallType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.videoUpdateCallTypeRequest},t)))})}updateCallType(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateCallTypeRaw(e,t);return yield i.value()})}updateExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new $("name","Required parameter requestParameters.name was null or undefined when calling updateExternalStorage.");if(null===e.videoUpdateExternalStorageRequest||void 0===e.videoUpdateExternalStorageRequest)throw new $("videoUpdateExternalStorageRequest","Required parameter requestParameters.videoUpdateExternalStorageRequest was null or undefined when calling updateExternalStorage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/external_storage/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.videoUpdateExternalStorageRequest},t)))})}updateExternalStorage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.updateExternalStorageRaw(e,t);return yield i.value()})}}class z extends M{createExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.videoCreateExternalStorageRequest||void 0===e.videoCreateExternalStorageRequest)throw new $("videoCreateExternalStorageRequest","Required parameter requestParameters.videoCreateExternalStorageRequest was null or undefined when calling createExternalStorage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/external_storage",method:"POST",headers:n,query:i,body:e.videoCreateExternalStorageRequest},t)))})}createExternalStorage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.createExternalStorageRaw(e,t);return yield i.value()})}deleteExternalStorageRaw(e,t){return l(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new $("name","Required parameter requestParameters.name was null or undefined when calling deleteExternalStorage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/external_storage/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteExternalStorage(e,t){return l(this,void 0,void 0,function*(){let i=yield this.deleteExternalStorageRaw(e,t);return yield i.value()})}listExternalStorageRaw(e){return l(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new F((yield this.request({path:"/video/external_storage",method:"GET",headers:i,query:t},e)))})}listExternalStorage(e){return l(this,void 0,void 0,function*(){let t=yield this.listExternalStorageRaw(e);return yield t.value()})}}class W{constructor(e,t,i){this.streamClient=e,this.type=t,this.id=i,this.blockUser=e=>this.apiClient.blockUser(Object.assign(Object.assign({},this.baseRequest),{videoBlockUserRequest:e})),this.endCall=()=>this.apiClient.endCall(Object.assign({},this.baseRequest)),this.get=e=>this.apiClient.getCall(Object.assign(Object.assign({},null!=e?e:{}),this.baseRequest)),this.getOrCreate=e=>this.apiClient.getOrCreateCall(Object.assign(Object.assign({},this.baseRequest),{videoGetOrCreateCallRequest:null!=e?e:{}})),this.create=e=>this.getOrCreate(e),this.goLive=e=>this.apiClient.goLive(Object.assign(Object.assign({},this.baseRequest),{videoGoLiveRequest:null!=e?e:{}})),this.listRecordings=()=>this.apiClient.listRecordings(Object.assign({},this.baseRequest)),this.muteUsers=e=>this.apiClient.muteUsers(Object.assign(Object.assign({},this.baseRequest),{videoMuteUsersRequest:e})),this.queryMembers=e=>this.apiClient.queryMembers({videoQueryMembersRequest:Object.assign(Object.assign({},null!=e?e:{}),this.baseRequest)}),this.sendCustomEvent=e=>this.apiClient.sendEvent(Object.assign({videoSendEventRequest:{custom:e}},this.baseRequest)),this.startHLSBroadcasting=()=>this.apiClient.startHLSBroadcasting(Object.assign({},this.baseRequest)),this.startRecording=e=>this.apiClient.startRecording(Object.assign(Object.assign({},this.baseRequest),{videoStartRecordingRequest:null!=e?e:{}})),this.startTranscription=(e={})=>this.apiClient.startTranscription(Object.assign(Object.assign({},this.baseRequest),{videoStartTranscriptionRequest:e})),this.stopHLSBroadcasting=()=>this.apiClient.stopHLSBroadcasting(Object.assign({},this.baseRequest)),this.stopLive=()=>this.apiClient.stopLive(Object.assign({},this.baseRequest)),this.stopRecording=()=>this.apiClient.stopRecording(Object.assign({},this.baseRequest)),this.stopTranscription=()=>this.apiClient.stopTranscription(Object.assign({},this.baseRequest)),this.unblockUser=e=>this.apiClient.unblockUser(Object.assign({videoUnblockUserRequest:e},this.baseRequest)),this.update=e=>this.apiClient.updateCall(Object.assign({videoUpdateCallRequest:e},this.baseRequest)),this.updateCallMembers=e=>this.apiClient.updateCallMembers(Object.assign({videoUpdateCallMembersRequest:e},this.baseRequest)),this.updateUserPermissions=e=>this.apiClient.updateUserPermissions(Object.assign({videoUpdateUserPermissionsRequest:e},this.baseRequest)),this.pinVideo=e=>this.apiClient.videoPin(Object.assign({videoPinRequest:e},this.baseRequest)),this.unpinVideo=e=>this.apiClient.videoUnpin(Object.assign({videoUnpinRequest:e},this.baseRequest)),this.baseRequest={id:this.id,type:this.type};let n=this.streamClient.getConfiguration("video");this.apiClient=new B(n)}}class H{constructor(e){this.streamClient=e,this.call=(e,t)=>new W(this.streamClient,e,t),this.queryCalls=e=>this.apiClient.queryCalls({videoQueryCallsRequest:null!=e?e:{}}),this.createCallType=e=>this.videoServerSideApiClient.createCallType({videoCreateCallTypeRequest:e}),this.deleteCallType=e=>this.videoServerSideApiClient.deleteCallType(e),this.getCallType=e=>this.videoServerSideApiClient.getCallType(e),this.listCallTypes=()=>this.videoServerSideApiClient.listCallTypes(),this.updateCallType=(e,t)=>this.videoServerSideApiClient.updateCallType({name:e,videoUpdateCallTypeRequest:t}),this.listExternalStorages=()=>this.settingsApi.listExternalStorage(),this.createExternalStorage=e=>this.settingsApi.createExternalStorage({videoCreateExternalStorageRequest:e}),this.deleteExternalStorage=e=>this.settingsApi.deleteExternalStorage(e),this.updateExternalStorage=(e,t)=>this.videoServerSideApiClient.updateExternalStorage({name:e,videoUpdateExternalStorageRequest:t}),this.checkExternalStorage=e=>this.videoServerSideApiClient.checkExternalStorage(e);let t=this.streamClient.getConfiguration("video");this.apiClient=new B(t),this.settingsApi=new z(t),this.videoServerSideApiClient=new V(t)}}function G(e,t,i={},n={}){if("string"!=typeof t)throw TypeError("userId should be a string");let r=Object.assign({user_id:t},i);if(null==a()||null==a().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let s=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return r.iat&&(s.noTimestamp=!1),a().sign(r,e,s)}class J{constructor(e,t,i){var r;this.apiKey=e,this.secret=t,this.config=i,this.options={},this.createDevice=e=>this.devicesApi.createDevice({createDeviceRequest:e}),this.deleteDevice=e=>this.devicesApi.deleteDevice(e),this.listDevices=e=>this.devicesApi.listDevices(e),this.listPushProviders=()=>this.pushApi.listPushProviders(),this.deletePushProvider=e=>this.pushApi.deletePushProvider(e),this.upsertPushProvider=e=>this.serversideApi.upsertPushProvider({upsertPushProviderRequest:{push_provider:e}}),this.checkPush=e=>this.testingApi.checkPush({checkPushRequest:e}),this.createGuest=e=>l(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.createGuest({guestRequest:e});return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.banUser=e=>(e.user=this.mapCustomDataBeforeSend(e.user),e.banned_by=this.mapCustomDataBeforeSend(e.banned_by),this.usersApi.ban({banRequest:e})),this.deactivateUser=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.deactivateUser({deactivateUserRequest:e,userId:e.user_id});return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.deactivateUsers=e=>this.usersApi.deactivateUsers({deactivateUsersRequest:e}),this.deleteUser=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.deleteUser(e);return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.deleteUsers=e=>this.usersApi.deleteUsers({deleteUsersRequest:e}),this.exportUser=e=>this.usersApi.exportUser(e),this.exportUsers=e=>this.usersApi.exportUsers({exportUsersRequest:e}),this.flag=e=>l(this,void 0,void 0,function*(){var t,i;e.user=this.mapCustomDataBeforeSend(e.user);let n=yield this.usersApi.flag({flagRequest:e});return(null===(t=n.flag)||void 0===t?void 0:t.user)&&(n.flag.user=this.mapCustomDataAfterReceive(null===(i=n.flag)||void 0===i?void 0:i.user)),n}),this.queryBannedUsers=e=>l(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.queryBannedUsers({payload:e});return t.bans.forEach(e=>{e.banned_by=this.mapCustomDataAfterReceive(e.banned_by),e.user=this.mapCustomDataAfterReceive(e.user)}),t}),this.queryUsers=e=>l(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.queryUsers({payload:e});return t.users=t.users.map(e=>this.mapCustomDataAfterReceive(e)),t}),this.reactivateUser=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.reactivateUser({reactivateUserRequest:e,userId:e.user_id});t.user=this.mapCustomDataAfterReceive(t.user)}),this.reactivateUsers=e=>this.usersApi.reactivateUsers({reactivateUsersRequest:e}),this.restoreUsers=e=>this.usersApi.restoreUsers({restoreUsersRequest:e}),this.unbanUser=e=>this.usersApi.unban(e),this.unflag=e=>l(this,void 0,void 0,function*(){var t;let i=yield this.usersApi.unflag({flagRequest:e});return(null===(t=i.flag)||void 0===t?void 0:t.user)&&(i.flag.user=this.mapCustomDataAfterReceive(i.flag.user)),i}),this.upsertUsers=e=>l(this,void 0,void 0,function*(){Object.keys(e.users).forEach(t=>{e.users[t]=this.mapCustomDataBeforeSend(e.users[t])});let t=yield this.usersApi.updateUsers({updateUsersRequest:e});return Object.keys(t.users).forEach(e=>{t.users[e]=this.mapCustomDataAfterReceive(t.users[e])}),t}),this.updateUsersPartial=e=>l(this,void 0,void 0,function*(){let t=yield this.usersApi.updateUsersPartial({updateUserPartialRequest:e});return Object.keys(t.users).forEach(e=>{t.users[e]=this.mapCustomDataAfterReceive(t.users[e])}),t}),this.muteUser=e=>l(this,void 0,void 0,function*(){var t,i;e.user=this.mapCustomDataBeforeSend(e.user);let n=yield this.usersApi.muteUser({muteUserRequest:e});return(null===(t=n.mute)||void 0===t?void 0:t.user)&&(n.mute.user=this.mapCustomDataAfterReceive(null===(i=n.mute)||void 0===i?void 0:i.user)),n.mutes&&(n.mutes=n.mutes.map(e=>Object.assign(Object.assign({},e),{user:this.mapCustomDataAfterReceive(e.user)}))),n}),this.unmuteUser=e=>(e.user=this.mapCustomDataBeforeSend(e.user),this.usersApi.unmuteUser({unmuteUserRequest:e})),this.sendCustomEventToUser=(e,t)=>this.eventsApi.sendUserCustomEvent({userId:e,sendUserCustomEventRequest:{event:t}}),this.createRole=e=>this.permissionsApi.createRole({createRoleRequest:e}),this.deleteRole=e=>this.permissionsApi.deleteRole(e),this.getPermission=e=>this.permissionsApi.getPermission(e),this.listPermissions=()=>this.permissionsApi.listPermissions(),this.listRoles=()=>this.permissionsApi.listRoles(),this.getAppSettings=()=>this.settingsApi.getApp(),this.updateAppSettings=e=>this.settingsApi.updateApp({updateAppRequest:e}),this.getRateLimits=()=>this.settingsApi.getRateLimits(),this.getTaskStatus=e=>this.tasksApi.getTask(e),this.verifyWebhook=(e,t)=>{let i=Buffer.from(this.secret,"utf8"),n=o().createHmac("sha256",i).update(e).digest("hex");try{return o().timingSafeEqual(Buffer.from(n),Buffer.from(t))}catch(e){return!1}},this.getConfiguration=(e="chat")=>{var t;return new L({apiKey:e=>({"Stream-Auth-Type":"jwt",api_key:this.apiKey,Authorization:this.token})[e],basePath:null!==(t=this.options.basePath)&&void 0!==t?t:"chat"===e?"https://chat.stream-io-api.com":"https://video.stream-io-api.com",headers:{"X-Stream-Client":"stream-node-0.1.12"},middleware:[{pre:e=>(e.init.headers=Object.assign(Object.assign({},e.init.headers),{"x-client-request-id":(0,n.v4)(),"Accept-Encoding":"gzip"}),Promise.resolve(e))},{post:e=>l(this,void 0,void 0,function*(){if(e.response&&e.response.status<200||e.response.status>=300){let t=new F(e.response),i=yield t.value();throw Error(`Stream error code ${i.code}: ${i.message}`)}})},{pre:e=>(e.init.signal=AbortSignal.timeout(this.options.timeout),Promise.resolve(e)),onError:e=>{let t=e.error;if("AbortError"===t.name||"TimeoutError"===t.name)throw new q(t,`The request was aborted due to to the ${this.options.timeout}ms timeout, you can set the timeout in the StreamClient constructor`);return Promise.resolve(e.response)}}],queryParamsStringify:e=>{let t=[];for(let i in e)if(Array.isArray(e[i])||"object"==typeof e[i])t.push(`${i}=${encodeURIComponent(JSON.stringify(e[i]))}`);else{let n=e[i];("string"==typeof n||"number"==typeof n||"boolean"==typeof n)&&t.push(`${i}=${encodeURIComponent(n)}`)}return t.join("&")}})},this.reservedKeywords=["ban_expires","banned","id","invisible","language","push_notifications","revoke_tokens_issued_before","role","teams","created_at","deactivated_at","deleted_at","last_active","online","updated_at","shadow_banned","name","image"],this.mapCustomDataBeforeSend=e=>{if(!e)return;let t=Object.assign({},e);return delete t.custom,Object.assign(Object.assign({},t),e.custom)},this.token=function(e,t={}){let i=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return a().sign({server:!0},e,i)}(this.secret),"string"==typeof i?(this.options.basePath=i,this.options.timeout=J.DEFAULT_TIMEOUT):(i&&(this.options=i),this.options.timeout=null!==(r=null==i?void 0:i.timeout)&&void 0!==r?r:J.DEFAULT_TIMEOUT),this.video=new H(this),this.chat=new N(this);let s=this.getConfiguration();this.usersApi=new O(s),this.devicesApi=new _(s),this.pushApi=new E(s),this.serversideApi=new T(s),this.testingApi=new A(s),this.permissionsApi=new R(s),this.settingsApi=new C(s),this.eventsApi=new S(s),this.tasksApi=new P(s)}createToken(e,t=Math.round(new Date().getTime()/1e3)+3600,i=Math.round(Date.now()/1e3),n){let r={};return t&&(r.exp=t),i&&(r.iat=i),n&&(console.warn('Use createCallToken method for creating call tokens, the "call_cids" param will be removed from the createToken method with version 0.2.0'),r.call_cids=n),G(this.secret,e,r)}createCallToken(e,t,i=Math.round(new Date().getTime()/1e3)+3600,n=Math.round(Date.now()/1e3)){let r={};return i&&(r.exp=i),n&&(r.iat=n),r.call_cids=t,G(this.secret,e,r)}mapCustomDataAfterReceive(e){if(!e)return;let t={};return Object.keys(e).forEach(i=>{this.reservedKeywords.includes(i)?t[i]=e[i]:(t.custom||(t.custom={}),t.custom[i]=e[i])}),t}}J.DEFAULT_TIMEOUT=3e3},41858:(e,t,i)=>{"use strict";var n=i(14300).Buffer,r=i(14300).SlowBuffer;function a(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,r=0;r<e.length;r++)i|=e[r]^t[r];return 0===i}e.exports=a,a.install=function(){n.prototype.equal=r.prototype.equal=function(e){return a(this,e)}};var s=n.prototype.equal,o=r.prototype.equal;a.restore=function(){n.prototype.equal=s,r.prototype.equal=o}},42786:(e,t)=>{"use strict";function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},r=(t||{}).decode||i,a=0;a<e.length;){var s=e.indexOf("=",a);if(-1===s)break;var o=e.indexOf(";",a);if(-1===o)o=e.length;else if(o<s){a=e.lastIndexOf(";",s-1)+1;continue}var l=e.slice(a,s).trim();if(void 0===n[l]){var c=e.slice(s+1,o).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),n[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,r)}a=o+1}return n},Object.prototype.toString},31076:(e,t,i)=>{"use strict";i.d(t,{dotCase:()=>a});var n=i(40727),r=i(10052);function a(e,t){return void 0===t&&(t={}),(0,r.noCase)(e,(0,n.__assign)({delimiter:"."},t))}},90037:(e,t,i)=>{"use strict";var n=i(24381).Buffer,r=i(99007);function a(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,i){for(var n=0;t+n<i&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=a(e);var i=r(t),s=i+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(o-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var p=e[l++];if(o-l!==p)throw Error('"s" specified length of "'+p+'", expected "'+(o-l)+'"');if(s<p)throw Error('"s" specified length of "'+p+'", max of "'+s+'" is acceptable');var h=l;if((l+=p)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var f=i-u,m=i-p,g=n.allocUnsafe(f+u+m+p);for(l=0;l<f;++l)g[l]=0;e.copy(g,l,d+Math.max(-f,0),d+u),l=i;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,h+Math.max(-m,0),h+p),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var i=r(t),o=e.length;if(o!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+o+'"');var l=s(e,0,i),c=s(e,i,e.length),u=i-l,d=i-c,p=2+u+1+1+d,h=p<128,f=n.allocUnsafe((h?2:3)+p),m=0;return f[m++]=48,h?f[m++]=p:(f[m++]=129,f[m++]=255&p),f[m++]=2,f[m++]=u,l<0?(f[m++]=0,m+=e.copy(f,m,0,i)):m+=e.copy(f,m,l,i),f[m++]=2,f[m++]=d,c<0?(f[m++]=0,e.copy(f,m,i)):e.copy(f,m,i+c),f}}},99007:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},12697:(e,t,i)=>{var n=i(78155);e.exports=function(e,t){t=t||{};var i=n.decode(e,t);if(!i)return null;var r=i.payload;if("string"==typeof r)try{var a=JSON.parse(r);null!==a&&"object"==typeof a&&(r=a)}catch(e){}return!0===t.complete?{header:i.header,payload:r,signature:i.signature}:r}},9410:(e,t,i)=>{e.exports={decode:i(12697),verify:i(91192),sign:i(74473),JsonWebTokenError:i(6395),NotBeforeError:i(87962),TokenExpiredError:i(33726)}},6395:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},87962:(e,t,i)=>{var n=i(6395),r=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},33726:(e,t,i)=>{var n=i(6395),r=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},76485:(e,t,i)=>{let n=i(44876);e.exports=n.satisfies(process.version,">=15.7.0")},26426:(e,t,i)=>{var n=i(44876);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},81730:(e,t,i)=>{let n=i(44876);e.exports=n.satisfies(process.version,">=16.9.0")},33704:(e,t,i)=>{var n=i(84158);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var r=n(e);if(void 0===r)return;return Math.floor(i+r/1e3)}if("number"==typeof e)return i+e}},50248:(e,t,i)=>{let n=i(76485),r=i(81730),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let o=a[i];if(!o)throw Error(`Unknown key type "${i}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${o.join(", ")}.`);if(n)switch(i){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(r){let i=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:r,saltLength:a}=t.asymmetricKeyDetails;if(n!==`sha${i}`||r!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},74473:(e,t,i)=>{let n=i(33704),r=i(26426),a=i(50248),s=i(78155),o=i(20647),l=i(8376),c=i(11116),u=i(84004),d=i(26216),p=i(62265),h=i(23963),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=i(6113),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&y.splice(3,0,"PS256","PS384","PS512");let v={expiresIn:{isValid:function(e){return c(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(e,t,i,n){if(!d(i))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(r){let a=e[r];if(!a){if(!t)throw Error('"'+r+'" is not allowed in "'+n+'"');return}if(!a.isValid(i[r]))throw Error(a.message)})}let x={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,r){var o,l;"function"==typeof i?(r=i,i={}):i=i||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:i.algorithm||"HS256",typ:c?"JWT":void 0,kid:i.keyid},i.header);function d(e){if(r)return r(e);throw e}if(!t&&"none"!==i.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!i.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{o=e,w(b,!0,o,"payload")}catch(e){return d(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=_.filter(function(e){return void 0!==i[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=i,w(v,!1,l,"options")}catch(e){return d(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return d(e)}let p=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:c&&(e.iat=p),void 0!==i.notBefore){try{e.nbf=n(i.notBefore,p)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=n(i.expiresIn,p)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(x).forEach(function(t){let n=x[t];if(void 0!==i[t]){if(void 0!==e[n])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});let y=i.encoding||"utf8";if("function"==typeof r)r=r&&h(r),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",r).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return r(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));r(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:y});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},91192:(e,t,i)=>{let n=i(6395),r=i(87962),a=i(33726),s=i(12697),o=i(33704),l=i(50248),c=i(26426),u=i(78155),{KeyObject:d,createSecretKey:p,createPublicKey:h}=i(6113),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,c){let v,b,w;if("function"!=typeof i||c||(c=i,i={}),i||(i={}),i=Object.assign({},i),v=c||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return v(new n("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return v(new n("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let x=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new n("jwt must be provided"));if("string"!=typeof e)return v(new n("jwt must be a string"));let _=e.split(".");if(3!==_.length)return v(new n("jwt malformed"));try{b=s(e,{complete:!0})}catch(e){return v(e)}if(!b)return v(new n("invalid token"));let S=b.header;if("function"==typeof t){if(!c)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,i){return i(null,t)};return w(S,function(t,s){let c;if(t)return v(new n("error in secret or public key callback: "+t.message));let w=""!==_[2].trim();if(!w&&s)return v(new n("jwt signature is required"));if(w&&!s)return v(new n("secret or public key must be provided"));if(!w&&!i.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=h(s)}catch(e){try{s=p("string"==typeof s?Buffer.from(s):s)}catch(e){return v(new n("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===s.type?i.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?i.algorithms=g:"ec"===s.asymmetricKeyType?i.algorithms=m:i.algorithms=f),-1===i.algorithms.indexOf(b.header.alg))return v(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==s.type)return v(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==s.type)return v(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{l(S.alg,s)}catch(e){return v(e)}try{c=u.verify(e,b.header.alg,s)}catch(e){return v(e)}if(!c)return v(new n("invalid signature"));let k=b.payload;if(void 0!==k.nbf&&!i.ignoreNotBefore){if("number"!=typeof k.nbf)return v(new n("invalid nbf value"));if(k.nbf>x+(i.clockTolerance||0))return v(new r("jwt not active",new Date(1e3*k.nbf)))}if(void 0!==k.exp&&!i.ignoreExpiration){if("number"!=typeof k.exp)return v(new n("invalid exp value"));if(x>=k.exp+(i.clockTolerance||0))return v(new a("jwt expired",new Date(1e3*k.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(k.aud)?k.aud:[k.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return v(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&k.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(k.iss)))return v(new n("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&k.sub!==i.subject)return v(new n("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&k.jti!==i.jwtid)return v(new n("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&k.nonce!==i.nonce)return v(new n("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof k.iat)return v(new n("iat required when maxAge is specified"));let e=o(i.maxAge,k.iat);if(void 0===e)return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(x>=e+(i.clockTolerance||0))return v(new a("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?v(null,{header:S,payload:k,signature:b.signature}):v(null,k)})}},44300:(e,t,i)=>{var n=i(41858),r=i(24381).Buffer,a=i(6113),s=i(90037),o=i(73837),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function d(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function p(e){if(!r.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,r.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,i){(function(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(i),t=g(t);var n=a.createHmac("sha"+e,i);return h((n.update(t),n.digest("base64")))}}function v(e){return function(t,i,a){var s=y(e)(t,a);return n(r.from(i),r.from(s))}}function b(e){return function(t,i){p(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(i,"base64")))}}function w(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify(n,i,"base64")}}function x(e){return function(t,i){p(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify({key:n,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function S(e){var t=b(e);return function(){var i=t.apply(null,arguments);return s.derToJose(i,"ES"+e)}}function k(e){var t=w(e);return function(i,n,r){return t(i,n=s.joseToDer(n,"ES"+e).toString("base64"),r)}}function R(){return function(){return""}}function E(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:b,ps:x,es:S,none:R})[i](n),verify:({hs:v,rs:w,ps:_,es:k,none:E})[i](n)}}},78155:(e,t,i)=>{var n=i(22443),r=i(21571);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=r.verify,t.decode=r.decode,t.isValid=r.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new r(e)}},16877:(e,t,i)=>{var n=i(24381).Buffer,r=i(12781);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(73837).inherits(a,r),a.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},22443:(e,t,i)=>{var n=i(24381).Buffer,r=i(16877),a=i(44300),s=i(12781),o=i(99246),l=i(73837);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,i,n,r=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,p=a(r.alg),h=(t=(t=d)||"utf8",i=c(o(r),"binary"),n=c(o(s),t),l.format("%s.%s",i,n)),f=p.sign(h,u);return l.format("%s.%s",h,f)}function d(e){var t=new r(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new r(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},99246:(e,t,i)=>{var n=i(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},21571:(e,t,i)=>{var n=i(24381).Buffer,r=i(16877),a=i(44300),s=i(12781),o=i(99246),l=i(73837),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function p(e){return c.test(e)&&!!u(e)}function h(e,t,i){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var r=d(e=o(e)),s=e.split(".",2).join(".");return a(t).verify(s,r,i)}function f(e,t){if(t=t||{},!p(e=o(e)))return null;var i,r,a=u(e);if(!a)return null;var s=(i=i||"utf8",r=e.split(".")[1],n.from(r,"base64").toString(i));return("JWT"===a.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:a,payload:s,signature:d(e)}}function m(e){var t=new r((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new r(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=p,m.verify=h,e.exports=m},20647:e=>{var t,i,n=1/0,r=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var p=Object.prototype,h=p.hasOwnProperty,f=p.toString,m=p.propertyIsEnumerable,g=(t=Object.keys,i=Object,function(e){return t(i(e))}),y=Math.max,v=Array.isArray;function b(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=w(e)?f.call(e):"")||"[object GeneratorFunction]"==i)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,_){e=b(e)?e:(S=e)?function(e,t){for(var i=-1,n=e?e.length:0,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}(b(S)?function(e,t){var i,n=v(e)||x(e)&&b(e)&&h.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],r=n.length,a=!!r;for(var s in e)h.call(e,s)&&!(a&&("length"==s||(i=null==(i=r)?9007199254740991:i)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<i))&&n.push(s);return n}(S):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||p))return g(e);var t,i=[];for(var n in Object(e))h.call(e,n)&&"constructor"!=n&&i.push(n);return i}(S),function(e){return S[e]}):[],i=i&&!_?(E=(R=(k=i)?(k=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||x(t)&&"[object Symbol]"==f.call(t))return r;if(w(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=w(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?r:+e}(k))===n||k===-n?(k<0?-1:1)*17976931348623157e292:k==k?k:0:0===k?k:0)%1,R==R?E?R-E:R:0):0;var S,k,R,E,T,C=e.length;return i<0&&(i=y(C+i,0)),"string"==typeof(T=e)||!v(T)&&x(T)&&"[object String]"==f.call(T)?i<=C&&e.indexOf(t,i)>-1:!!C&&function(e,t,i){if(t!=t)return function(e,t,i,n){for(var r=e.length,a=i+(n?1:-1);n?a--:++a<r;)if(t(e[a],a,e))return a;return -1}(e,d,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return -1}(e,t,i)>-1}},8376:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},11116:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,p;return"number"==typeof e&&e==(p=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?p?d-p:d:0)}},84004:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},26216:e=>{var t,i,n=Object.prototype,r=Function.prototype.toString,a=n.hasOwnProperty,s=r.call(Object),o=n.toString,l=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var i=a.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&r.call(i)==s}},62265:e=>{var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!i(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},23963:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,p,h,f;if("function"!=typeof u)throw TypeError("Expected a function");return f=(h=(p=e)?(p=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(p))===t||p===-t?(p<0?-1:1)*17976931348623157e292:p==p?p:0:0===p?p:0)%1,e=h==h?f?h-f:h:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},88626:(e,t,i)=>{"use strict";function n(e){return e.toLowerCase()}i.d(t,{lowerCase:()=>n})},33382:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,i=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),r=(e,t,a,s=new WeakMap)=>{if(a={deep:!1,target:{},...a},s.has(e))return s.get(e);s.set(e,a.target);let{target:o}=a;delete a.target;let l=e=>e.map(e=>n(e)?r(e,t,a,s):e);if(Array.isArray(e))return l(e);for(let[c,u]of Object.entries(e)){let d=t(c,u,e);if(d===i)continue;let[p,h,{shouldRecurse:f=!0}={}]=d;"__proto__"!==p&&(a.deep&&f&&n(h)&&(h=Array.isArray(h)?l(h):r(h,t,a,s)),o[p]=h)}return o};e.exports=(e,i,n)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return r(e,i,n)},e.exports.mapObjectSkip=i},84158:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,r,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(r=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":r>=36e5?Math.round(e/36e5)+"h":r>=6e4?Math.round(e/6e4)+"m":r>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},77949:(e,t,i)=>{"use strict";i.r(t);var n=i(15552),r={};for(let e in n)"default"!==e&&(r[e]=()=>n[e]);i.d(t,r)},52810:(e,t,i)=>{"use strict";var n=i(82472);i.o(n,"notFound")&&i.d(t,{notFound:function(){return n.notFound}}),i.o(n,"redirect")&&i.d(t,{redirect:function(){return n.redirect}})},79351:(e,t,i)=>{"use strict";var n=i(59590);i.o(n,"NextRequest")&&i.d(t,{NextRequest:function(){return n.NextRequest}})},46893:(e,t)=>{"use strict";function i(e){for(let t=0;t<e.length;t++){let i=e[t];if("function"!=typeof i)throw Error(`A "use server" file can only export async functions, found ${typeof i}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`);if("AsyncFunction"!==i.constructor.name){let e=i.name||"";throw Error(`A "use server" file can only export async functions.${e?` Found "${e}" that is not an async function.`:""}
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}}Object.defineProperty(t,"ensureServerEntryExports",{enumerable:!0,get:function(){return i}})},60398:(e,t,i)=>{"use strict";Object.defineProperty(t,"registerServerReference",{enumerable:!0,get:function(){return a}});let n=i(29489),r=Symbol.for("react.server.reference");function a(e,t){return t&&t.$$typeof===r?t:(0,n.registerServerReference)(t,e,null)}},60418:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return a}});let n=i(86973),r=i(45869);function a(e){let t=r.staticGenerationAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new n.BailoutToCSRError(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80570:(e,t,i)=>{"use strict";function n(e){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clientHookInServerComponentError",{enumerable:!0,get:function(){return n}}),i(67280),i(15028),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44946:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return r}});let n=i(61066);class r{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,n.staticGenerationBailout)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,n.staticGenerationBailout)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},15552:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{headers:function(){return u},cookies:function(){return d},draftMode:function(){return p}});let n=i(80224),r=i(45673),a=i(47429),s=i(54580),o=i(72934),l=i(61066),c=i(44946);function u(){if((0,l.staticGenerationBailout)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return r.HeadersAdapter.seal(new Headers({}));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function d(){if((0,l.staticGenerationBailout)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return n.RequestCookiesAdapter.seal(new a.RequestCookies(new Headers({})));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=o.actionAsyncStorage.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function p(){let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new c.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96740:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return r}});let i="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=i}}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},82472:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyURLSearchParams:function(){return f},useSearchParams:function(){return m},usePathname:function(){return g},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return c.useServerInsertedHTML},useRouter:function(){return y},useParams:function(){return v},useSelectedLayoutSegments:function(){return b},useSelectedLayoutSegment:function(){return w},redirect:function(){return u.redirect},permanentRedirect:function(){return u.permanentRedirect},RedirectType:function(){return u.RedirectType},notFound:function(){return d.notFound}});let n=i(15028),r=i(93425),a=i(64319),s=i(80570),o=i(79955),l=i(37924),c=i(33051),u=i(91993),d=i(43141),p=Symbol("internal for urlsearchparams readonly");function h(){return Error("ReadonlyURLSearchParams cannot be modified")}class f{[Symbol.iterator](){return this[p][Symbol.iterator]()}append(){throw h()}delete(){throw h()}set(){throw h()}sort(){throw h()}constructor(e){this[p]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}}function m(){(0,s.clientHookInServerComponentError)("useSearchParams");let e=(0,n.useContext)(a.SearchParamsContext),t=(0,n.useMemo)(()=>e?new f(e):null,[e]);{let{bailoutToClientRendering:e}=i(60418);e("useSearchParams()")}return t}function g(){return(0,s.clientHookInServerComponentError)("usePathname"),(0,n.useContext)(a.PathnameContext)}function y(){(0,s.clientHookInServerComponentError)("useRouter");let e=(0,n.useContext)(r.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function v(){(0,s.clientHookInServerComponentError)("useParams");let e=(0,n.useContext)(r.GlobalLayoutRouterContext),t=(0,n.useContext)(a.PathParamsContext);return(0,n.useMemo)(()=>(null==e?void 0:e.tree)?function e(t,i){for(let n of(void 0===i&&(i={}),Object.values(t[1]))){let t=n[0],r=Array.isArray(t),a=r?t[1]:t;!a||a.startsWith(l.PAGE_SEGMENT_KEY)||(r&&("c"===t[2]||"oc"===t[2])?i[t[0]]=t[1].split("/"):r&&(i[t[0]]=t[1]),i=e(n,i))}return i}(e.tree):t,[null==e?void 0:e.tree,t])}function b(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:t}=(0,n.useContext)(r.LayoutRouterContext);return function e(t,i,n,r){let a;if(void 0===n&&(n=!0),void 0===r&&(r=[]),n)a=t[1][i];else{var s;let e=t[1];a=null!=(s=e.children)?s:Object.values(e)[0]}if(!a)return r;let c=a[0],u=(0,o.getSegmentValue)(c);return!u||u.startsWith(l.PAGE_SEGMENT_KEY)?r:(r.push(u),e(a,i,!1,r))}(t,e)}function w(e){void 0===e&&(e="children"),(0,s.clientHookInServerComponentError)("useSelectedLayoutSegment");let t=b(e);return 0===t.length?null:t[0]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{notFound:function(){return n},isNotFoundError:function(){return r}});let i="NEXT_NOT_FOUND";function n(){let e=Error(i);throw e.digest=i,e}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67237:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return i}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91993:(e,t,i)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},redirect:function(){return c},permanentRedirect:function(){return u},isRedirectError:function(){return d},getURLFromRedirectError:function(){return p},getRedirectTypeFromError:function(){return h},getRedirectStatusCodeFromError:function(){return f}});let r=i(54580),a=i(72934),s=i(67237),o="NEXT_REDIRECT";function l(e,t,i){void 0===i&&(i=s.RedirectStatusCode.TemporaryRedirect);let n=Error(o);n.digest=o+";"+t+";"+e+";"+i+";";let a=r.requestAsyncStorage.getStore();return a&&(n.mutableCookies=a.mutableCookies),n}function c(e,t){void 0===t&&(t="replace");let i=a.actionAsyncStorage.getStore();throw l(e,t,(null==i?void 0:i.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let i=a.actionAsyncStorage.getStore();throw l(e,t,(null==i?void 0:i.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,i,n,r]=e.digest.split(";",4),a=Number(r);return t===o&&("replace"===i||"push"===i)&&"string"==typeof n&&!isNaN(a)&&a in s.RedirectStatusCode}function p(e){return d(e)?e.digest.split(";",3)[2]:null}function h(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79955:(e,t)=>{"use strict";function i(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return i}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61066:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isStaticGenBailoutError:function(){return o},staticGenerationBailout:function(){return c}});let n=i(96740),r=i(45869),a="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=a}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===a}function l(e,t){let{dynamic:i,link:n}=t||{};return"Page"+(i?' with `dynamic = "'+i+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(n?" See more info here: "+n:"")}let c=(e,t)=>{let{dynamic:i,link:a}=void 0===t?{}:t,o=r.staticGenerationAsyncStorage.getStore();if(!o)return!1;if(o.forceStatic)return!0;if(o.dynamicShouldError)throw new s(l(e,{link:a,dynamic:null!=i?i:"error"}));let c=l(e,{dynamic:i,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==o.postpone||o.postpone.call(o,e),o.revalidate=0,o.isStaticGeneration){let t=new n.DynamicServerError(c);throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97144:e=>{"use strict";var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a={};function s(e){var t;let i=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${i.join("; ")}`}function o(e){let t=new Map;for(let i of e.split(/; */)){if(!i)continue;let e=i.indexOf("=");if(-1===e){t.set(i,"true");continue}let[n,r]=[i.slice(0,e),i.slice(e+1)];try{t.set(n,decodeURIComponent(null!=r?r:"true"))}catch{}}return t}function l(e){var t,i;if(!e)return;let[[n,r],...a]=o(e),{domain:s,expires:l,httponly:d,maxage:p,path:h,samesite:f,secure:m,partitioned:g,priority:y}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let i in e)e[i]&&(t[i]=e[i]);return t}({name:n,value:decodeURIComponent(r),domain:s,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof p&&{maxAge:Number(p)},path:h,...f&&{sameSite:c.includes(t=(t=f).toLowerCase())?t:void 0},...m&&{secure:!0},...y&&{priority:u.includes(i=(i=y).toLowerCase())?i:void 0},...g&&{partitioned:!0}})}((e,i)=>{for(var n in i)t(e,n,{get:i[n],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>p,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let s of n(a))r.call(e,s)||void 0===s||t(e,s,{get:()=>a[s],enumerable:!(o=i(a,s))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var c=["strict","lax","none"],u=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,i]of o(t))this._parsed.set(e,{name:e,value:i})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed);if(!e.length)return i.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,i]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:i}),this._headers.set("cookie",Array.from(n).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,i=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),i}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var t,i,n;this._parsed=new Map,this._headers=e;let r=null!=(n=null!=(i=null==(t=e.getSetCookie)?void 0:t.call(e))?i:e.get("set-cookie"))?n:[];for(let e of Array.isArray(r)?r:function(e){if(!e)return[];var t,i,n,r,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(i=e.charAt(o))){for(n=o,o+=1,l(),r=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=r,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(r)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed.values());if(!e.length)return i;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,i,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,r=this._parsed;return r.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:i,...n})),function(e,t){for(let[,i]of(t.delete("set-cookie"),e)){let e=s(i);t.append("set-cookie",e)}}(r,this._headers),this}delete(...e){let[t,i,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:i,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},78226:e=>{(()=>{"use strict";var t={491:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=i(223),r=i(172),a=i(930),s="context",o=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,r.registerGlobal)(s,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,i,...n){return this._getContextManager().with(e,t,i,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,r.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,r.unregisterGlobal)(s,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=i(56),r=i(912),a=i(957),s=i(172);class o{constructor(){function e(e){return function(...t){let i=(0,s.getGlobal)("diag");if(i)return i[e](...t)}}let t=this;t.setLogger=(e,i={logLevel:a.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof i&&(i={logLevel:i});let c=(0,s.getGlobal)("diag"),u=(0,r.createLogLevelDiagLogger)(null!==(o=i.logLevel)&&void 0!==o?o:a.DiagLogLevel.INFO,e);if(c&&!i.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,s.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=i(660),r=i(172),a=i(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,r.registerGlobal)(s,e,a.DiagAPI.instance())}getMeterProvider(){return(0,r.getGlobal)(s)||n.NOOP_METER_PROVIDER}getMeter(e,t,i){return this.getMeterProvider().getMeter(e,t,i)}disable(){(0,r.unregisterGlobal)(s,a.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=i(172),r=i(874),a=i(194),s=i(277),o=i(369),l=i(930),c="propagation",u=new r.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,i=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,i)}extract(e,t,i=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,i)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(c)||u}}t.PropagationAPI=d},997:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=i(172),r=i(846),a=i(139),s=i(607),o=i(930),l="trace";class c{constructor(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=i(491),r=(0,i(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(r)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(r,t)},t.deleteBaggage=function(e){return e.deleteValue(r)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class i{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new i(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new i(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new i(this._entries);for(let i of e)t._entries.delete(i);return t}clear(){return new i}}t.BaggageImpl=i},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=i(930),r=i(993),a=i(830),s=n.DiagAPI.instance();t.createBaggage=function(e={}){return new r.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=i(491);t.context=n.ContextAPI.getInstance()},223:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=i(780);class r{active(){return n.ROOT_CONTEXT}with(e,t,i,...n){return t.call(i,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=r},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class i{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let r=new i(t._currentContext);return r._currentContext.set(e,n),r},t.deleteValue=e=>{let n=new i(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new i},506:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=i(930);t.diag=n.DiagAPI.instance()},56:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=i(172);class r{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}function a(e,t,i){let r=(0,n.getGlobal)("diag");if(r)return i.unshift(t),r[e](...i)}t.DiagComponentLogger=r},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let i=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<i.length;e++)this[i[e].n]=function(e){return function(...t){if(console){let i=console[e];if("function"!=typeof i&&(i=console.log),"function"==typeof i)return i.apply(console,t)}}}(i[e].c)}}t.DiagConsoleLogger=n},912:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=i(957);t.createLogLevelDiagLogger=function(e,t){function i(i,n){let r=t[i];return"function"==typeof r&&e>=n?r.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:i("error",n.DiagLogLevel.ERROR),warn:i("warn",n.DiagLogLevel.WARN),info:i("info",n.DiagLogLevel.INFO),debug:i("debug",n.DiagLogLevel.DEBUG),verbose:i("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=i(200),r=i(521),a=i(130),s=r.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=n._globalThis;t.registerGlobal=function(e,t,i,n=!1){var a;let s=l[o]=null!==(a=l[o])&&void 0!==a?a:{version:r.VERSION};if(!n&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return i.error(t.stack||t.message),!1}if(s.version!==r.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${r.VERSION}`);return i.error(t.stack||t.message),!1}return s[e]=t,i.debug(`@opentelemetry/api: Registered a global for ${e} v${r.VERSION}.`),!0},t.getGlobal=function(e){var t,i;let n=null===(t=l[o])||void 0===t?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null===(i=l[o])||void 0===i?void 0:i[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${r.VERSION}.`);let i=l[o];i&&delete i[e]}},130:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=i(521),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),i=new Set,n=e.match(r);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function s(e){return i.add(e),!1}return function(e){if(t.has(e))return!0;if(i.has(e))return!1;let n=e.match(r);if(!n)return s(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=o.prerelease||a.major!==o.major?s(e):0===a.major?a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):s(e):a.minor<=o.minor?(t.add(e),!0):s(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=i(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class i{constructor(){}createHistogram(e,i){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,i){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,i){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,i){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,i){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,i){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=i;class n{}t.NoopMetric=n;class r extends n{add(e,t){}}t.NoopCounterMetric=r;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class s extends n{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class c extends o{}t.NoopObservableGaugeMetric=c;class u extends o{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new i,t.NOOP_COUNTER_METRIC=new r,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=i(102);class r{getMeter(e,t,i){return n.NOOP_METER}}t.NoopMeterProvider=r,t.NOOP_METER_PROVIDER=new r},200:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(651),t)},939:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=i(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class i{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=i},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,i){null!=e&&(e[t]=i)}}},845:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=i(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=i(476);class r{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=r},614:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=i(491),r=i(607),a=i(403),s=i(139),o=n.ContextAPI.getInstance();class l{startSpan(e,t,i=o.active()){if(null==t?void 0:t.root)return new a.NonRecordingSpan;let n=i&&(0,r.getSpanContext)(i);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,s.isSpanContextValid)(n)?new a.NonRecordingSpan(n):new a.NonRecordingSpan}startActiveSpan(e,t,i,n){let a,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=i):(a=t,s=i,l=n);let c=null!=s?s:o.active(),u=this.startSpan(e,a,c),d=(0,r.setSpan)(c,u);return o.with(d,l,void 0,u)}}t.NoopTracer=l},124:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=i(614);class r{getTracer(e,t,i){return new n.NoopTracer}}t.NoopTracerProvider=r},125:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(i(614)).NoopTracer;class r{constructor(e,t,i,n){this._provider=e,this.name=t,this.version=i,this.options=n}startSpan(e,t,i){return this._getTracer().startSpan(e,t,i)}startActiveSpan(e,t,i,n){let r=this._getTracer();return Reflect.apply(r.startActiveSpan,r,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=r},846:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=i(125),r=new(i(124)).NoopTracerProvider;class a{getTracer(e,t,i){var r;return null!==(r=this.getDelegateTracer(e,t,i))&&void 0!==r?r:new n.ProxyTracer(this,e,t,i)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:r}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,i){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,i)}}t.ProxyTracerProvider=a},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=i(780),r=i(403),a=i(491),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new r.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=i(564);class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,t),i}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let i=t.trim(),r=i.indexOf("=");if(-1!==r){let a=i.slice(0,r),s=i.slice(r+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=r},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let i="[_0-9a-z-*/]",n=`[a-z]${i}{0,255}`,r=`[a-z0-9]${i}{0,240}@[a-z]${i}{0,13}`,a=RegExp(`^(?:${n}|${r})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=i(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=i(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=i(476),r=i(403),a=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return s.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new r.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var a=i[e]={exports:{}},s=!0;try{t[e].call(a.exports,a,a.exports,n),s=!1}finally{s&&delete i[e]}return a.exports}n.ab=__dirname+"/";var r={};(()=>{Object.defineProperty(r,"__esModule",{value:!0}),r.trace=r.propagation=r.metrics=r.diag=r.context=r.INVALID_SPAN_CONTEXT=r.INVALID_TRACEID=r.INVALID_SPANID=r.isValidSpanId=r.isValidTraceId=r.isSpanContextValid=r.createTraceState=r.TraceFlags=r.SpanStatusCode=r.SpanKind=r.SamplingDecision=r.ProxyTracerProvider=r.ProxyTracer=r.defaultTextMapSetter=r.defaultTextMapGetter=r.ValueType=r.createNoopMeter=r.DiagLogLevel=r.DiagConsoleLogger=r.ROOT_CONTEXT=r.createContextKey=r.baggageEntryMetadataFromString=void 0;var e=n(369);Object.defineProperty(r,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=n(780);Object.defineProperty(r,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(r,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var i=n(972);Object.defineProperty(r,"DiagConsoleLogger",{enumerable:!0,get:function(){return i.DiagConsoleLogger}});var a=n(957);Object.defineProperty(r,"DiagLogLevel",{enumerable:!0,get:function(){return a.DiagLogLevel}});var s=n(102);Object.defineProperty(r,"createNoopMeter",{enumerable:!0,get:function(){return s.createNoopMeter}});var o=n(901);Object.defineProperty(r,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=n(194);Object.defineProperty(r,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(r,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var c=n(125);Object.defineProperty(r,"ProxyTracer",{enumerable:!0,get:function(){return c.ProxyTracer}});var u=n(846);Object.defineProperty(r,"ProxyTracerProvider",{enumerable:!0,get:function(){return u.ProxyTracerProvider}});var d=n(996);Object.defineProperty(r,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var p=n(357);Object.defineProperty(r,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var h=n(847);Object.defineProperty(r,"SpanStatusCode",{enumerable:!0,get:function(){return h.SpanStatusCode}});var f=n(475);Object.defineProperty(r,"TraceFlags",{enumerable:!0,get:function(){return f.TraceFlags}});var m=n(98);Object.defineProperty(r,"createTraceState",{enumerable:!0,get:function(){return m.createTraceState}});var g=n(139);Object.defineProperty(r,"isSpanContextValid",{enumerable:!0,get:function(){return g.isSpanContextValid}}),Object.defineProperty(r,"isValidTraceId",{enumerable:!0,get:function(){return g.isValidTraceId}}),Object.defineProperty(r,"isValidSpanId",{enumerable:!0,get:function(){return g.isValidSpanId}});var y=n(476);Object.defineProperty(r,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(r,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(r,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let v=n(67);Object.defineProperty(r,"context",{enumerable:!0,get:function(){return v.context}});let b=n(506);Object.defineProperty(r,"diag",{enumerable:!0,get:function(){return b.diag}});let w=n(886);Object.defineProperty(r,"metrics",{enumerable:!0,get:function(){return w.metrics}});let x=n(939);Object.defineProperty(r,"propagation",{enumerable:!0,get:function(){return x.propagation}});let _=n(845);Object.defineProperty(r,"trace",{enumerable:!0,get:function(){return _.trace}}),r.default={context:v.context,diag:b.diag,metrics:w.metrics,propagation:x.propagation,trace:_.trace}})(),e.exports=r})()},98739:(e,t,i)=>{"use strict";var n=i(62168),r=i(15028),a={stream:!0},s=new Map;function o(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function l(){}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,u=Symbol.for("react.element"),d=Symbol.for("react.provider"),p=Symbol.for("react.server_context"),h=Symbol.for("react.lazy"),f=Symbol.for("react.default_value"),m=Symbol.iterator,g=Array.isArray,y=Object.getPrototypeOf,v=Object.prototype,b=new WeakMap;function w(e,t,i,n){var r=1,a=0,s=null;e=JSON.stringify(e,function e(o,l){if(null===l)return null;if("object"==typeof l){if("function"==typeof l.then){null===s&&(s=new FormData),a++;var c,u,d=r++;return l.then(function(n){n=JSON.stringify(n,e);var r=s;r.append(t+d,n),0==--a&&i(r)},function(e){n(e)}),"$@"+d.toString(16)}if(g(l))return l;if(l instanceof FormData){null===s&&(s=new FormData);var p=s,h=t+(o=r++)+"_";return l.forEach(function(e,t){p.append(h+t,e)}),"$K"+o.toString(16)}if(l instanceof Map)return l=JSON.stringify(Array.from(l),e),null===s&&(s=new FormData),o=r++,s.append(t+o,l),"$Q"+o.toString(16);if(l instanceof Set)return l=JSON.stringify(Array.from(l),e),null===s&&(s=new FormData),o=r++,s.append(t+o,l),"$W"+o.toString(16);if(null===(u=l)||"object"!=typeof u?null:"function"==typeof(u=m&&u[m]||u["@@iterator"])?u:null)return Array.from(l);if((o=y(l))!==v&&(null===o||null!==y(o)))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return l}if("string"==typeof l)return"Z"===l[l.length-1]&&this[o]instanceof Date?"$D"+l:l="$"===l[0]?"$"+l:l;if("boolean"==typeof l)return l;if("number"==typeof l)return Number.isFinite(c=l)?0===c&&-1/0==1/c?"$-0":c:1/0===c?"$Infinity":-1/0===c?"$-Infinity":"$NaN";if(void 0===l)return"$undefined";if("function"==typeof l){if(void 0!==(l=b.get(l)))return l=JSON.stringify(l,e),null===s&&(s=new FormData),o=r++,s.set(t+o,l),"$F"+o.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof l){if(Symbol.for(o=l.description)!==l)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+l.description+") cannot be found among global symbols.");return"$S"+o}if("bigint"==typeof l)return"$n"+l.toString(10);throw Error("Type "+typeof l+" is not supported as an argument to a Server Function.")}),null===s?i(e):(s.set(t+"0",e),0===a&&i(s))}var x=new WeakMap;function _(e){var t=b.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var i=null;if(null!==t.bound){if((i=x.get(t))||(n=t,s=new Promise(function(e,t){r=e,a=t}),w(n,"",function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}s.status="fulfilled",s.value=e,r(e)},function(e){s.status="rejected",s.reason=e,a(e)}),i=s,x.set(t,i)),"rejected"===i.status)throw i.reason;if("fulfilled"!==i.status)throw i;t=i.value;var n,r,a,s,o=new FormData;t.forEach(function(t,i){o.append("$ACTION_"+e+":"+i,t)}),i=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:i}}function S(e,t){var i=b.get(this);if(!i)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(i.id!==e)return!1;var n=i.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function k(e,t){Object.defineProperties(e,{$$FORM_ACTION:{value:_},$$IS_SIGNATURE_EQUAL:{value:S},bind:{value:T}}),b.set(e,t)}var R=Function.prototype.bind,E=Array.prototype.slice;function T(){var e=R.apply(this,arguments),t=b.get(this);if(t){var i=E.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(i)}):Promise.resolve(i),k(e,{id:t.id,bound:n})}return e}var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ContextRegistry;function P(e,t,i,n){this.status=e,this.value=t,this.reason=i,this._response=n}function A(e){switch(e.status){case"resolved_model":M(e);break;case"resolved_module":U(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function O(e,t){for(var i=0;i<e.length;i++)(0,e[i])(t)}function I(e,t,i){switch(e.status){case"fulfilled":O(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=i;break;case"rejected":i&&O(i,e.reason)}}function N(e,t){if("pending"===e.status||"blocked"===e.status){var i=e.reason;e.status="rejected",e.reason=t,null!==i&&O(i,t)}}function j(e,t){if("pending"===e.status||"blocked"===e.status){var i=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==i&&(U(e),I(e,i,n))}}P.prototype=Object.create(Promise.prototype),P.prototype.then=function(e,t){switch(this.status){case"resolved_model":M(this);break;case"resolved_module":U(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var L=null,D=null;function M(e){var t=L,i=D;L=e,D=null;var n=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var r=JSON.parse(n,e._response._fromJSON);if(null!==D&&0<D.deps)D.value=r,e.status="blocked",e.value=null,e.reason=null;else{var a=e.value;e.status="fulfilled",e.value=r,null!==a&&O(a,r)}}catch(t){e.status="rejected",e.reason=t}finally{L=t,D=i}}function U(e){try{var t=e.value,i=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof i.then){if("fulfilled"===i.status)i=i.value;else throw i.reason}var n="*"===t[2]?i:""===t[2]?i.__esModule?i.default:i:i[t[2]];e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}}function q(e,t){e._chunks.forEach(function(e){"pending"===e.status&&N(e,t)})}function $(e,t){var i=e._chunks,n=i.get(t);return n||(n=new P("pending",null,null,e),i.set(t,n)),n}function F(e,t){if("resolved_model"===(e=$(e,t)).status&&M(e),"fulfilled"===e.status)return e.value;throw e.reason}function K(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function B(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function V(e){var t,i=e.ssrManifest.moduleMap;return(i={_bundlerConfig:i,_moduleLoading:e.ssrManifest.moduleLoading,_callServer:void 0!==B?B:K,_nonce:e="string"==typeof e.nonce?e.nonce:void 0,_chunks:new Map,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]})._fromJSON=(t=i,function(e,i){return"string"==typeof i?function(e,t,i,n){if("$"===n[0]){if("$"===n)return u;switch(n[1]){case"$":return n.slice(1);case"L":return{$$typeof:h,_payload:e=$(e,t=parseInt(n.slice(2),16)),_init:A};case"@":return $(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"P":return C[e=n.slice(2)]||((t={$$typeof:p,_currentValue:f,_currentValue2:f,_defaultValue:f,_threadCount:0,Provider:null,Consumer:null,_globalName:e}).Provider={$$typeof:d,_context:t},C[e]=t),C[e].Provider;case"F":return t=F(e,t=parseInt(n.slice(2),16)),function(e,t){function i(){var e=Array.prototype.slice.call(arguments),i=t.bound;return i?"fulfilled"===i.status?n(t.id,i.value.concat(e)):Promise.resolve(i).then(function(i){return n(t.id,i.concat(e))}):n(t.id,e)}var n=e._callServer;return k(i,t),i}(e,t);case"Q":return e=F(e,t=parseInt(n.slice(2),16)),new Map(e);case"W":return e=F(e,t=parseInt(n.slice(2),16)),new Set(e);case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:switch((e=$(e,n=parseInt(n.slice(1),16))).status){case"resolved_model":M(e);break;case"resolved_module":U(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":var r;return n=L,e.then(function(e,t,i,n){if(D){var r=D;n||r.deps++}else r=D={deps:n?0:1,value:null};return function(n){t[i]=n,r.deps--,0===r.deps&&"blocked"===e.status&&(n=e.value,e.status="fulfilled",e.value=r.value,null!==n&&O(n,r.value))}}(n,t,i,"cyclic"===e.status),(r=n,function(e){return N(r,e)})),null;default:throw e.reason}}}return n}(t,this,e,i):"object"==typeof i&&null!==i?e=i[0]===u?{$$typeof:u,type:i[1],key:i[2],ref:null,props:i[3],_owner:null}:i:i}),i}function z(e,t){function n(t){q(e,t)}var r=t.getReader();r.read().then(function t(u){var d=u.value;if(u.done)q(e,Error("Connection closed."));else{var p=0,h=e._rowState,f=e._rowID,m=e._rowTag,g=e._rowLength;u=e._buffer;for(var y=d.length;p<y;){var v=-1;switch(h){case 0:58===(v=d[p++])?h=1:f=f<<4|(96<v?v-87:v-48);continue;case 1:84===(h=d[p])?(m=h,h=2,p++):64<h&&91>h?(m=h,h=3,p++):(m=0,h=3);continue;case 2:44===(v=d[p++])?h=4:g=g<<4|(96<v?v-87:v-48);continue;case 3:v=d.indexOf(10,p);break;case 4:(v=p+g)>d.length&&(v=-1)}var b=d.byteOffset+p;if(-1<v){p=new Uint8Array(d.buffer,b,v-p),g=e,b=m;var w=g._stringDecoder;m="";for(var x=0;x<u.length;x++)m+=w.decode(u[x],a);switch(m+=w.decode(p),b){case 73:!function(e,t,n){var r=e._chunks,a=r.get(t);n=JSON.parse(n,e._fromJSON);var u=function(e,t){if(e){var i=e[t[0]];if(e=i[t[2]])i=e.name;else{if(!(e=i["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');i=t[2]}return 4===t.length?[e.id,e.chunks,i,1]:[e.id,e.chunks,i]}return t}(e._bundlerConfig,n);if(function(e,t,i){if(null!==e)for(var n=1;n<t.length;n+=2){var r=c.current;if(r){var a=r.preinitScript,s=e.prefix+t[n],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,a.call(r,s,{crossOrigin:o,nonce:i})}}}(e._moduleLoading,n[1],e._nonce),n=function(e){for(var t=e[1],n=[],r=0;r<t.length;){var a=t[r++];t[r++];var c=s.get(a);if(void 0===c){c=i.e(a),n.push(c);var u=s.set.bind(s,a,null);c.then(u,l),s.set(a,c)}else null!==c&&n.push(c)}return 4===e.length?0===n.length?o(e[0]):Promise.all(n).then(function(){return o(e[0])}):0<n.length?Promise.all(n):null}(u)){if(a){var d=a;d.status="blocked"}else d=new P("blocked",null,null,e),r.set(t,d);n.then(function(){return j(d,u)},function(e){return N(d,e)})}else a?j(a,u):r.set(t,new P("resolved_module",u,null,e))}(g,f,m);break;case 72:if(f=m[0],g=JSON.parse(m=m.slice(1),g._fromJSON),m=c.current)switch(f){case"D":m.prefetchDNS(g);break;case"C":"string"==typeof g?m.preconnect(g):m.preconnect(g[0],g[1]);break;case"L":f=g[0],p=g[1],3===g.length?m.preload(f,p,g[2]):m.preload(f,p);break;case"m":"string"==typeof g?m.preloadModule(g):m.preloadModule(g[0],g[1]);break;case"S":"string"==typeof g?m.preinitStyle(g):m.preinitStyle(g[0],0===g[1]?void 0:g[1],3===g.length?g[2]:void 0);break;case"X":"string"==typeof g?m.preinitScript(g):m.preinitScript(g[0],g[1]);break;case"M":"string"==typeof g?m.preinitModuleScript(g):m.preinitModuleScript(g[0],g[1])}break;case 69:p=(m=JSON.parse(m)).digest,(m=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+m.message,m.digest=p,(b=(p=g._chunks).get(f))?N(b,m):p.set(f,new P("rejected",null,m,g));break;case 84:g._chunks.set(f,new P("fulfilled",m,null,g));break;default:(b=(p=g._chunks).get(f))?(g=b,f=m,"pending"===g.status&&(m=g.value,p=g.reason,g.status="resolved_model",g.value=f,null!==m&&(M(g),I(g,m,p)))):p.set(f,new P("resolved_model",m,null,g))}p=v,3===h&&p++,g=f=m=h=0,u.length=0}else{d=new Uint8Array(d.buffer,b,d.byteLength-p),u.push(d),g-=d.byteLength;break}}return e._rowState=h,e._rowID=f,e._rowTag=m,e._rowLength=g,r.read().then(t).catch(n)}}).catch(n)}t.createFromFetch=function(e,t){var i=V(t);return e.then(function(e){z(i,e.body)},function(e){q(i,e)}),$(i,0)},t.createFromReadableStream=function(e,t){return z(t=V(t),e),$(t,0)},t.createServerReference=function(e){return function(e,t){function i(){var i=Array.prototype.slice.call(arguments);return t(e,i)}return k(i,{id:e,bound:null}),i}(e,B)},t.encodeReply=function(e){return new Promise(function(t,i){w(e,"",t,i)})}},51002:(e,t,i)=>{"use strict";e.exports=i(98739)},62511:()=>{},70168:(e,t,i)=>{var n;(()=>{var r={226:function(r,a){!function(s,o){"use strict";var l="function",c="undefined",u="object",d="string",p="major",h="model",f="name",m="type",g="vendor",y="version",v="architecture",b="console",w="mobile",x="tablet",_="smarttv",S="wearable",k="embedded",R="Amazon",E="Apple",T="ASUS",C="BlackBerry",P="Browser",A="Chrome",O="Firefox",I="Google",N="Huawei",j="Microsoft",L="Motorola",D="Opera",M="Samsung",U="Sharp",q="Sony",$="Xiaomi",F="Zebra",K="Facebook",B="Chromium OS",V="Mac OS",z=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},W=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},H=function(e,t){return typeof e===d&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},Y=function(e,t){for(var i,n,r,a,s,c,d=0;d<t.length&&!s;){var p=t[d],h=t[d+1];for(i=n=0;i<p.length&&!s&&p[i];)if(s=p[i++].exec(e))for(r=0;r<h.length;r++)c=s[++n],typeof(a=h[r])===u&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):o:this[a[0]]=c?a[1].call(this,c,a[2]):o:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},X=function(e,t){for(var i in t)if(typeof t[i]===u&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(H(t[i][n],e))return"?"===i?o:i}else if(H(t[i],e))return"?"===i?o:i;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[f,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+P],y],[/\bfocus\/([\w\.]+)/i],[y,[f,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[y,[f,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+P],y],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,K],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,A+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,y],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,G]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[g,M],[m,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[g,M],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[g,E],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[g,E],[m,x]],[/(macintosh);/i],[h,[g,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[g,U],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[g,N],[m,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[g,N],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[g,$],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[g,$],[m,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[g,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[g,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[g,L],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[g,L],[m,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[g,"LG"],[m,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[g,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[g,"Lenovo"],[m,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[g,"Nokia"],[m,w]],[/(pixel c)\b/i],[h,[g,I],[m,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[g,I],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[g,q],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[g,q],[m,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[g,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[g,R],[m,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[g,R],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[h,g,[m,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[g,C],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[g,T],[m,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[g,T],[m,w]],[/(nexus 9)/i],[h,[g,"HTC"],[m,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[h,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[g,"Acer"],[m,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[g,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,h,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,h,[m,x]],[/(surface duo)/i],[h,[g,j],[m,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[g,"Fairphone"],[m,w]],[/(u304aa)/i],[h,[g,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[h,[g,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[h,[g,"RCA"],[m,x]],[/\b(venue[\d ]{2,7}) b/i],[h,[g,"Dell"],[m,x]],[/\b(q(?:mv|ta)\w+) b/i],[h,[g,"Verizon"],[m,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[g,"Barnes & Noble"],[m,x]],[/\b(tm\d{3}\w+) b/i],[h,[g,"NuVision"],[m,x]],[/\b(k88) b/i],[h,[g,"ZTE"],[m,x]],[/\b(nx\d{3}j) b/i],[h,[g,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[h,[g,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[h,[g,"Swiss"],[m,x]],[/\b((zeki)?tb.*\b) b/i],[h,[g,"Zeki"],[m,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],h,[m,x]],[/\b(ns-?\w{0,9}) b/i],[h,[g,"Insignia"],[m,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[g,"NextBook"],[m,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],h,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],h,[m,w]],[/\b(ph-1) /i],[h,[g,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[g,"Envizen"],[m,x]],[/\b(trio[-\w\. ]+) b/i],[h,[g,"MachSpeed"],[m,x]],[/\btu_(1491) b/i],[h,[g,"Rotor"],[m,x]],[/(shield[\w ]+) b/i],[h,[g,"Nvidia"],[m,x]],[/(sprint) (\w+)/i],[g,h,[m,w]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[g,j],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[g,F],[m,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[g,F],[m,w]],[/smart-tv.+(samsung)/i],[g,[m,_]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[g,M],[m,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,_]],[/(apple) ?tv/i],[g,[h,E+" TV"],[m,_]],[/crkey/i],[[h,A+"cast"],[g,I],[m,_]],[/droid.+aft(\w)( bui|\))/i],[h,[g,R],[m,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[g,U],[m,_]],[/(bravia[\w ]+)( bui|\))/i],[h,[g,q],[m,_]],[/(mitv-\w{5}) bui/i],[h,[g,$],[m,_]],[/Hbbtv.*(technisat) (.*);/i],[g,h,[m,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,J],[h,J],[m,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,h,[m,b]],[/droid.+; (shield) bui/i],[h,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[h,[g,q],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[g,j],[m,b]],[/((pebble))app/i],[g,h,[m,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[g,E],[m,S]],[/droid.+; (glass) \d/i],[h,[g,I],[m,S]],[/droid.+; (wt63?0{2,3})\)/i],[h,[g,F],[m,S]],[/(quest( 2| pro)?)/i],[h,[g,K],[m,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,k]],[/(aeobc)\b/i],[h,[g,R],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[y,X,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[y,X,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,V],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,y],[/\(bb(10);/i],[y,[f,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,B],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},ee=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var i=typeof s!==c&&s.navigator?s.navigator:o,n=e||(i&&i.userAgent?i.userAgent:""),r=i&&i.userAgentData?i.userAgentData:o,a=t?z(Q,t):Q,b=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[f]=o,t[y]=o,Y.call(t,n,a.browser),t[p]=typeof(e=t[y])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&i&&i.brave&&typeof i.brave.isBrave==l&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[v]=o,Y.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[h]=o,e[m]=o,Y.call(e,n,a.device),b&&!e[m]&&r&&r.mobile&&(e[m]=w),b&&"Macintosh"==e[h]&&i&&typeof i.standalone!==c&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[h]="iPad",e[m]=x),e},this.getEngine=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,n,a.os),b&&!e[f]&&r&&"Unknown"!=r.platform&&(e[f]=r.platform.replace(/chrome os/i,B).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?J(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=W([f,y,p]),ee.CPU=W([v]),ee.DEVICE=W([h,g,m,b,w,_,x,S,k]),ee.ENGINE=ee.OS=W([f,y]),typeof a!==c?(r.exports&&(a=r.exports=ee),a.UAParser=ee):i.amdO?void 0!==(n=(function(){return ee}).call(t,i,t,e))&&(e.exports=n):typeof s!==c&&(s.UAParser=ee);var et=typeof s!==c&&(s.jQuery||s.Zepto);if(et&&!et.ua){var ei=new ee;et.ua=ei.getResult(),et.ua.get=function(){return ei.getUA()},et.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var i in t)et.ua[i]=t[i]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}},n=!0;try{r[e].call(i.exports,i,i.exports,s),n=!1}finally{n&&delete a[e]}return i.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},62595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return i}});class i{constructor(){let e,t;this.promise=new Promise((i,n)=>{e=i,t=n}),this.resolve=e,this.reject=t}}},22899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{scheduleOnNextTick:function(){return i},scheduleImmediate:function(){return n}});let i=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)}},9756:(e,t)=>{"use strict";let i,n;function r(e){let t=new Uint8Array(e),i=t.byteLength;if(i<65535)return String.fromCharCode.apply(null,t);let n="";for(let e=0;e<i;e++)n+=String.fromCharCode(t[e]);return n}function a(e){let t=e.length,i=new Uint8Array(t);for(let n=0;n<t;n++)i[n]=e.charCodeAt(n);return i}function s(e,t,i){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,i)}function o(e,t,i){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,i)}async function l(e){if(e&&void 0!==n)return n;let t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),a=btoa(r(await crypto.subtle.exportKey("raw",t)));return i=t,e&&(n=a),a}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{arrayBufferToString:function(){return r},stringToUint8Array:function(){return a},encrypt:function(){return s},decrypt:function(){return o},generateRandomActionKeyRaw:function(){return l},setReferenceManifestsSingleton:function(){return u},getServerModuleMap:function(){return d},getClientReferenceManifestSingleton:function(){return p},getActionEncryptionKey:function(){return h}});let c=Symbol.for("next.server.action-manifests");function u({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:i}){globalThis[c]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:i}}function d(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.serverModuleMap}function p(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.clientReferenceManifest}async function h(){if(i)return i;let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Error("Missing encryption key for Server Actions");return i=await crypto.subtle.importKey("raw",a(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},75811:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{encryptActionBoundArgs:function(){return d},decryptActionBoundArgs:function(){return p}}),i(62511);let n=i(29489),r=i(51002),a=i(22365),s=i(9756),o=new TextEncoder,l=new TextDecoder;async function c(e,t){let i=await (0,s.getActionEncryptionKey)();if(void 0===i)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=atob(t),r=n.slice(0,16),a=n.slice(16);if(void 0===a)throw Error("Invalid Server Action payload.");let o=l.decode(await (0,s.decrypt)(i,(0,s.stringToUint8Array)(r),(0,s.stringToUint8Array)(a)));if(!o.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return o.slice(e.length)}async function u(e,t){let i=await (0,s.getActionEncryptionKey)();if(void 0===i)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=new Uint8Array(16);crypto.getRandomValues(n);let r=(0,s.arrayBufferToString)(n.buffer),a=await (0,s.encrypt)(i,n,o.encode(e+t));return btoa(r+(0,s.arrayBufferToString)(a))}async function d(e,t){let i=(0,s.getClientReferenceManifestSingleton)(),r=await (0,a.streamToString)((0,n.renderToReadableStream)(t,i.clientModules));return await u(e,r)}async function p(e,t){let i=await c(e,await t),a=await (0,r.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(new TextEncoder().encode(i)),e.close()}}),{ssrManifest:{moduleLoading:{},moduleMap:{}}}),o=(0,s.getServerModuleMap)();return await (0,n.decodeReply)(await (0,r.encodeReply)(a),o)}},93425:(e,t,i)=>{"use strict";e.exports=i(50482).vendored.contexts.AppRouterContext},64319:(e,t,i)=>{"use strict";e.exports=i(50482).vendored.contexts.HooksClientContext},33051:(e,t,i)=>{"use strict";e.exports=i(50482).vendored.contexts.ServerInsertedHtml},62168:(e,t,i)=>{"use strict";e.exports=i(50482).vendored["react-rsc"].ReactDOM},29489:(e,t,i)=>{"use strict";e.exports=i(50482).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},15028:(e,t,i)=>{"use strict";e.exports=i(50482).vendored["react-rsc"].React},19102:(e,t)=>{"use strict";var i,n,r,a,s,o,l,c,u,d,p;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{NextVanillaSpanAllowlist:function(){return h},BaseServerSpan:function(){return i},LoadComponentsSpan:function(){return n},NextServerSpan:function(){return r},NextNodeServerSpan:function(){return a},StartServerSpan:function(){return s},RenderSpan:function(){return o},RouterSpan:function(){return c},AppRenderSpan:function(){return l},NodeSpan:function(){return u},AppRouteRouteHandlersSpan:function(){return d},ResolveMetadataSpan:function(){return p}}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(i||(i={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(n||(n={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(r||(r={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(a||(a={})),(s||(s={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(o||(o={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(l||(l={})),(c||(c={})).executeRoute="Router.executeRoute",(u||(u={})).runHandler="Node.runHandler",(d||(d={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(p||(p={}));let h=["BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule"]},36742:(e,t,i)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getTracer:function(){return v},SpanStatusCode:function(){return l},SpanKind:function(){return c}});let r=i(19102);try{n=i(78226)}catch(e){n=i(78226)}let{context:a,propagation:s,trace:o,SpanStatusCode:l,SpanKind:c,ROOT_CONTEXT:u}=n,d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,p=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},h=new Map,f=n.createContextKey("next.rootSpanId"),m=0,g=()=>m++;class y{getTracerInstance(){return o.getTracer("next.js","0.0.1")}getContext(){return a}getActiveScopeSpan(){return o.getSpan(null==a?void 0:a.active())}withPropagatedContext(e,t,i){let n=a.active();if(o.getSpanContext(n))return t();let r=s.extract(n,e,i);return a.with(r,t)}trace(...e){var t;let[i,n,s]=e,{fn:l,options:c}="function"==typeof n?{fn:n,options:{}}:{fn:s,options:{...n}};if(!r.NextVanillaSpanAllowlist.includes(i)&&"1"!==process.env.NEXT_OTEL_VERBOSE||c.hideSpan)return l();let m=c.spanName??i,y=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan()),v=!1;y?(null==(t=o.getSpanContext(y))?void 0:t.isRemote)&&(v=!0):(y=u,v=!0);let b=g();return c.attributes={"next.span_name":m,"next.span_type":i,...c.attributes},a.with(y.setValue(f,b),()=>this.getTracerInstance().startActiveSpan(m,c,e=>{let t=()=>{h.delete(b)};v&&h.set(b,new Map(Object.entries(c.attributes??{})));try{if(l.length>1)return l(e,t=>p(e,t));let i=l(e);if(d(i))return i.then(t=>(e.end(),t)).catch(t=>{throw p(e,t),t}).finally(t);return e.end(),t(),i}catch(i){throw p(e,i),t(),i}}))}wrap(...e){let t=this,[i,n,s]=3===e.length?e:[e[0],{},e[1]];return r.NextVanillaSpanAllowlist.includes(i)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let r=arguments.length-1,o=arguments[r];if("function"!=typeof o)return t.trace(i,e,()=>s.apply(this,arguments));{let n=t.getContext().bind(a.active(),o);return t.trace(i,e,(e,t)=>(arguments[r]=function(e){return null==t||t(e),n.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,i]=e,n=this.getSpanContext((null==i?void 0:i.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,i,n)}getSpanContext(e){return e?o.setSpan(a.active(),e):void 0}getRootSpanAttributes(){let e=a.active().getValue(f);return h.get(e)}}let v=(()=>{let e=new y;return()=>e})()},27336:(e,t)=>{"use strict";function i(e=new TextDecoder){return new TransformStream({transform:(t,i)=>i.enqueue(e.decode(t,{stream:!0})),flush:t=>t.enqueue(e.decode())})}function n(e=new TextEncoder){return new TransformStream({transform:(t,i)=>i.enqueue(e.encode(t))})}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{createDecodeTransformStream:function(){return i},createEncodeTransformStream:function(){return n}})},22365:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{cloneTransformStream:function(){return l},chainStreams:function(){return c},streamFromString:function(){return u},streamToString:function(){return d},createBufferedTransformStream:function(){return p},renderToInitialFizzStream:function(){return f},createRootLayoutValidatorStream:function(){return y},continueFizzStream:function(){return b},continuePostponedFizzStream:function(){return w}});let n=i(36742),r=i(19102),a=i(27336),s=i(62595),o=i(22899);function l(e){let t=e.readable.getReader();return new TransformStream({async start(e){for(;;){let{done:i,value:n}=await t.read();if(i)break;e.enqueue(n)}},transform(){}})}function c(...e){let{readable:t,writable:i}=new TransformStream,n=Promise.resolve();for(let t=0;t<e.length;++t)n=n.then(()=>e[t].pipeTo(i,{preventClose:t+1<e.length}));return n.catch(()=>{}),t}function u(e){let t=new TextEncoder;return new ReadableStream({start(i){i.enqueue(t.encode(e)),i.close()}})}async function d(e){let t="";return await e.pipeThrough((0,a.createDecodeTransformStream)()).pipeTo(new WritableStream({write(e){t+=e}})),t}function p(){let e,t=new Uint8Array,i=i=>{if(e)return;let n=new s.DetachedPromise;e=n,(0,o.scheduleImmediate)(()=>{try{i.enqueue(t),t=new Uint8Array}catch{}finally{e=void 0,n.resolve()}})};return new TransformStream({transform(e,n){let r=new Uint8Array(t.length+e.byteLength);r.set(t),r.set(e,t.length),t=r,i(n)},flush(){if(e)return e.promise}})}function h(e){let t=new TextEncoder;return new TransformStream({transform:async(i,n)=>{let r=await e();r&&n.enqueue(t.encode(r)),n.enqueue(i)}})}function f({ReactDOMServer:e,element:t,streamOptions:i}){return(0,n.getTracer)().trace(r.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,i))}function m(e){let t=!1,i=null,n=t=>{let n=e.getReader(),r=new s.DetachedPromise;i=r,(0,o.scheduleImmediate)(async()=>{try{for(;;){let{done:e,value:i}=await n.read();if(e)return;t.enqueue(i)}}catch(e){t.error(e)}finally{r.resolve()}})};return new TransformStream({transform(e,i){i.enqueue(e),t||(t=!0,n(i))},flush(){if(i&&t)return i.promise}})}function g(e){let t=!1,i=new TextEncoder,n=new TextDecoder;return new TransformStream({transform(r,a){if(t)return a.enqueue(r);let s=n.decode(r),o=s.indexOf(e);if(o>-1){if(t=!0,s.length===e.length)return;let n=s.slice(0,o);if(r=i.encode(n),a.enqueue(r),s.length>e.length+o){let t=s.slice(o+e.length);r=i.encode(t),a.enqueue(r)}}else a.enqueue(r)},flush(t){t.enqueue(i.encode(e))}})}function y(e="",t){let i=!1,n=!1,r=new TextEncoder,a=new TextDecoder,s="";return new TransformStream({async transform(e,t){(!i||!n)&&(s+=a.decode(e,{stream:!0}),!i&&s.includes("<html")&&(i=!0),!n&&s.includes("<body")&&(n=!0)),t.enqueue(e)},flush(o){(!i||!n)&&(s+=a.decode(),!i&&s.includes("<html")&&(i=!0),!n&&s.includes("<body")&&(n=!0));let l=[];i||l.push("html"),n||l.push("body"),l.length>0&&o.enqueue(r.encode(`<script>self.__next_root_layout_missing_tags_error=${JSON.stringify({missingTags:l,assetPrefix:e??"",tree:t()})}</script>`))}})}function v(e,t){let i=e;for(let e of t)e&&(i=i.pipeThrough(e));return i}async function b(e,{suffix:t,inlinedDataStream:i,isStaticGeneration:n,getServerInsertedHTML:r,serverInsertedHTMLToHead:a,validateRootLayout:l}){let c="</body></html>",u=t?t.split(c,1)[0]:null;return n&&"allReady"in e&&await e.allReady,v(e,[p(),r&&!a?h(r):null,null!=u&&u.length>0?function(e){let t,i=!1,n=new TextEncoder,r=i=>{let r=new s.DetachedPromise;t=r,(0,o.scheduleImmediate)(()=>{try{i.enqueue(n.encode(e))}catch{}finally{t=void 0,r.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),i||(i=!0,r(t))},flush(r){if(t)return t.promise;i||r.enqueue(n.encode(e))}})}(u):null,i?m(i):null,g(c),r&&a?function(e){let t=!1,i=!1,n=new TextEncoder,r=new TextDecoder;return new TransformStream({async transform(a,s){if(i){s.enqueue(a);return}let l=await e();if(t)s.enqueue(n.encode(l)),s.enqueue(a),i=!0;else{let e=r.decode(a),o=e.indexOf("</head>");if(-1!==o){let r=e.slice(0,o)+l+e.slice(o);s.enqueue(n.encode(r)),i=!0,t=!0}}t?(0,o.scheduleImmediate)(()=>{i=!1}):s.enqueue(a)},async flush(t){let i=await e();i&&t.enqueue(n.encode(i))}})}(r):null,l?y(l.assetPrefix,l.getTree):null])}async function w(e,{inlinedDataStream:t,isStaticGeneration:i,getServerInsertedHTML:n,serverInsertedHTMLToHead:r}){return i&&"allReady"in e&&await e.allReady,v(e,[p(),n&&!r?h(n):null,t?m(t):null,g("</body></html>")])}},64476:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{PageSignatureError:function(){return i},RemovedPageError:function(){return n},RemovedUAError:function(){return r}});class i extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class r extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},59590:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return r.NextRequest},NextResponse:function(){return a.NextResponse},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString},URLPattern:function(){return o.URLPattern}});let n=i(10381),r=i(41408),a=i(26993),s=i(80909),o=i(30602)},95790:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let n=i(25421),r=i(80652),a=i(24645),s=i(17894),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,i){let n,r;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,r=i||{}):r=i||t||{},this[c]={url:l(e,n??r.base),options:r,basePath:""},this.analyze()}analyze(){var e,t,i,r,o;let l=(0,s.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,a.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,n.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(i=this[c].domainLocale)?void 0:i.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(r=o.i18n)?void 0:r.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,r.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,i;if(!this[c].locale||!(null==(i=this[c].options.nextConfig)?void 0:null==(t=i.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},45673:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyHeadersError:function(){return r},HeadersAdapter:function(){return a}});let n=i(88666);class r extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new r}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,i,r){if("symbol"==typeof i)return n.ReflectAdapter.get(t,i,r);let a=i.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return n.ReflectAdapter.get(t,s,r)},set(t,i,r,a){if("symbol"==typeof i)return n.ReflectAdapter.set(t,i,r,a);let s=i.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return n.ReflectAdapter.set(t,o??i,r,a)},has(t,i){if("symbol"==typeof i)return n.ReflectAdapter.has(t,i);let r=i.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===r);return void 0!==a&&n.ReflectAdapter.has(t,a)},deleteProperty(t,i){if("symbol"==typeof i)return n.ReflectAdapter.deleteProperty(t,i);let r=i.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===r);return void 0===a||n.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,i){switch(t){case"append":case"delete":case"set":return r.callable;default:return n.ReflectAdapter.get(e,t,i)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let i=this.headers[e];"string"==typeof i?this.headers[e]=[i,t]:Array.isArray(i)?i.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[i,n]of this.entries())e.call(t,n,i,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),i=this.get(t);yield[t,i]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},88666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return i}});class i{static get(e,t,i){let n=Reflect.get(e,t,i);return"function"==typeof n?n.bind(e):n}static set(e,t,i,n){return Reflect.set(e,t,i,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},80224:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return s},getModifiedCookieValues:function(){return l},appendMutableCookies:function(){return c},MutableRequestCookiesAdapter:function(){return u}});let n=i(47429),r=i(88666);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new a}}class s{static seal(e){return new Proxy(e,{get(e,t,i){switch(t){case"clear":case"delete":case"set":return a.callable;default:return r.ReflectAdapter.get(e,t,i)}}})}}let o=Symbol.for("next.mutated.cookies");function l(e){let t=e[o];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let i=l(t);if(0===i.length)return!1;let r=new n.ResponseCookies(e),a=r.getAll();for(let e of i)r.set(e);for(let e of a)r.set(e);return!0}class u{static wrap(e,t){let i=new n.ResponseCookies(new Headers);for(let t of e.getAll())i.set(t);let a=[],s=new Set,l=()=>{var e;let r=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();if(r&&(r.pathWasRevalidated=!0),a=i.getAll().filter(e=>s.has(e.name)),t){let e=[];for(let t of a){let i=new n.ResponseCookies(new Headers);i.set(t),e.push(i.toString())}t(e)}};return new Proxy(i,{get(e,t,i){switch(t){case o:return a;case"delete":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{l()}};case"set":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{l()}};default:return r.ReflectAdapter.get(e,t,i)}}})}}},47429:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=i(97144)},10381:(e,t)=>{"use strict";function i(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return i}})},41408:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let n=i(95790),r=i(55614),a=i(64476),s=i(47429),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let i="string"!=typeof e&&"url"in e?e.url:String(e);(0,r.validateURL)(i),e instanceof Request?super(e,t):super(i,t);let a=new n.NextURL(i,{headers:(0,r.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},26993:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return c}});let n=i(95790),r=i(55614),a=i(47429),s=Symbol("internal response"),o=new Set([301,302,303,307,308]);function l(e,t){var i;if(null==e?void 0:null==(i=e.request)?void 0:i.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let i=[];for(let[n,r]of e.request.headers)t.set("x-middleware-request-"+n,r),i.push(n);t.set("x-middleware-override-headers",i.join(","))}}class c extends Response{constructor(e,t={}){super(e,t),this[s]={cookies:new a.ResponseCookies(this.headers),url:t.url?new n.NextURL(t.url,{headers:(0,r.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[s].cookies}static json(e,t){let i=Response.json(e,t);return new c(i.body,i)}static redirect(e,t){let i="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!o.has(i))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},a=new Headers(null==n?void 0:n.headers);return a.set("Location",(0,r.validateURL)(e)),new c(null,{...n,headers:a,status:i})}static rewrite(e,t){let i=new Headers(null==t?void 0:t.headers);return i.set("x-middleware-rewrite",(0,r.validateURL)(e)),l(t,i),new c(null,{...t,headers:i})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new c(null,{...e,headers:t})}}},30602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return i}});let i="undefined"==typeof URLPattern?void 0:URLPattern},80909:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isBot:function(){return r},userAgentFromString:function(){return a},userAgent:function(){return s}});let n=function(e){return e&&e.__esModule?e:{default:e}}(i(70168));function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&r(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},55614:(e,t)=>{"use strict";function i(e){let t=new Headers;for(let[i,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(i,e));return t}function n(e){var t,i,n,r,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(i=e.charAt(o))){for(n=o,o+=1,l(),r=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=r,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function r(e){let t={},i=[];if(e)for(let[r,a]of e.entries())"set-cookie"===r.toLowerCase()?(i.push(...n(a)),t[r]=1===i.length?i[0]:i):t[r]=a;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return r},validateURL:function(){return a}})},24645:(e,t)=>{"use strict";function i(e,t){let i;if((null==t?void 0:t.host)&&!Array.isArray(t.host))i=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;i=e.hostname}return i.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return i}})},25421:(e,t)=>{"use strict";function i(e,t,i){if(e)for(let a of(i&&(i=i.toLowerCase()),e)){var n,r;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||i===a.defaultLocale.toLowerCase()||(null==(r=a.locales)?void 0:r.some(e=>e.toLowerCase()===i)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return i}})},25863:(e,t)=>{"use strict";function i(e,t){let i;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(i=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return i}})},86973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return r}});let i="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=i}}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}},34012:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=i(88243),r=i(73284);function a(e,t,i,a){if(!t||t===i)return e;let s=e.toLowerCase();return!a&&((0,r.pathHasPrefix)(s,"/api")||(0,r.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},88243:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return r}});let n=i(52172);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:a}=(0,n.parsePath)(e);return""+t+i+r+a}},51404:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return r}});let n=i(52172);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:a}=(0,n.parsePath)(e);return""+i+t+r+a}},80652:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=i(44221),r=i(88243),a=i(51404),s=i(34012);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,r.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,r.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},17894:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=i(25863),r=i(73158),a=i(73284);function s(e,t){var i,s;let{basePath:o,i18n:l,trailingSlash:c}=null!=(i=t.nextConfig)?i:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,a.pathHasPrefix)(u.pathname,o)&&(u.pathname=(0,r.removePathPrefix)(u.pathname,o),u.basePath=o);let d=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),i=e[0];u.buildId=i,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,n.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(s=e.pathname)?s:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},52172:(e,t)=>{"use strict";function i(e){let t=e.indexOf("#"),i=e.indexOf("?"),n=i>-1&&(t<0||i<t);return n||t>-1?{pathname:e.substring(0,n?i:t),query:n?e.substring(i,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return i}})},73284:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return r}});let n=i(52172);function r(e,t){if("string"!=typeof e)return!1;let{pathname:i}=(0,n.parsePath)(e);return i===t||i.startsWith(t+"/")}},73158:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return r}});let n=i(73284);function r(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:"/"+i}},44221:(e,t)=>{"use strict";function i(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},37924:(e,t)=>{"use strict";function i(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isGroupSegment:function(){return i},PAGE_SEGMENT_KEY:function(){return n},DEFAULT_SEGMENT_KEY:function(){return r}});let n="__PAGE__",r="__DEFAULT__"},10052:(e,t,i)=>{"use strict";i.d(t,{noCase:()=>s});var n=i(88626),r=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(e,t){void 0===t&&(t={});for(var i=t.splitRegexp,s=t.stripRegexp,l=t.transform,c=void 0===l?n.lowerCase:l,u=t.delimiter,d=o(o(e,void 0===i?r:i,"$1\x00$2"),void 0===s?a:s,"\x00"),p=0,h=d.length;"\x00"===d.charAt(p);)p++;for(;"\x00"===d.charAt(h-1);)h--;return d.slice(p,h).split("\x00").map(c).join(void 0===u?" ":u)}function o(e,t,i){return t instanceof RegExp?e.replace(t,i):t.reduce(function(e,t){return e.replace(t,i)},e)}},24381:(e,t,i)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=i(14300),r=n.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(r.prototype),a(r,s),s.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},56613:(e,t,i)=>{let n=Symbol("SemVer ANY");class r{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof r){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new u(i[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=r;let a=i(67090),{safeRe:s,t:o}=i(9758),l=i(8980),c=i(95521),u=i(406),d=i(13141)},13141:(e,t,i)=>{class n{constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,i=r.get(t);if(i)return i;let n=this.options.loose,a=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,P(this.options.includePrerelease))),o("comparator trim",e=e.replace(c[u.COMPARATORTRIM],d)),o("tilde trim",e=e.replace(c[u.TILDETRIM],p)),o("caret trim",e=e.replace(c[u.CARETTRIM],h));let l=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));n&&(l=l.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),o("range list",l);let y=new Map;for(let e of l.map(e=>new s(e,this.options))){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");let v=[...y.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(i=>v(i,t)&&e.set.some(e=>v(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let r=new(i(84681))({max:1e3}),a=i(67090),s=i(56613),o=i(95521),l=i(406),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=i(9758),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=i(64204),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let i=!0,n=e.slice(),r=n.pop();for(;i&&n.length;)i=n.every(e=>r.intersects(e,t)),r=n.pop();return i},b=(e,t)=>(o("comp",e,t),o("caret",e=S(e,t)),o("tildes",e=x(e,t)),o("xrange",e=R(e,t)),o("stars",e=T(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{let i=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(i,(t,i,n,r,a)=>{let s;return o("tilde",e,t,i,n,r,a),w(i)?s="":w(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:w(r)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${i}.${n}.${r}-${a} <${i}.${+n+1}.0-0`):s=`>=${i}.${n}.${r} <${i}.${+n+1}.0-0`,o("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{o("caret",e,t);let i=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,(t,i,r,a,s)=>{let l;return o("caret",e,t,i,r,a,s),w(i)?l="":w(r)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:w(a)?l="0"===i?`>=${i}.${r}.0${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.0${n} <${+i+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===i?"0"===r?`>=${i}.${r}.${a}-${s} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}-${s} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a}-${s} <${+i+1}.0.0-0`):(o("no pr"),l="0"===i?"0"===r?`>=${i}.${r}.${a}${n} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a} <${+i+1}.0.0-0`),o("caret return",l),l})},R=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();let i=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(i,(i,n,r,a,s,l)=>{o("xRange",e,i,n,r,a,s,l);let c=w(r),u=c||w(a),d=u||w(s);return"="===n&&d&&(n=""),l=t.includePrerelease?"-0":"",c?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(a=0),s=0,">"===n?(n=">=",u?(r=+r+1,a=0):a=+a+1,s=0):"<="===n&&(n="<",u?r=+r+1:a=+a+1),"<"===n&&(l="-0"),i=`${n+r}.${a}.${s}${l}`):u?i=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(i=`>=${r}.${a}.0${l} <${r}.${+a+1}.0-0`),o("xRange return",i),i})},T=(e,t)=>(o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),C=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=e=>(t,i,n,r,a,s,o,l,c,u,d,p,h)=>(i=w(n)?"":w(r)?`>=${n}.0.0${e?"-0":""}`:w(a)?`>=${n}.${r}.0${e?"-0":""}`:s?`>=${i}`:`>=${i}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${i} ${l}`.trim()),A=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(o(e[i].semver),e[i].semver!==s.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},406:(e,t,i)=>{let n=i(95521),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=i(64204),{safeRe:s,t:o}=i(9758),l=i(67090),{compareIdentifiers:c}=i(10602);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw TypeError(`version is longer than ${r} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let i=this.build[t],r=e.build[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},926:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},8980:(e,t,i)=>{let n=i(32130),r=i(11777),a=i(22450),s=i(82608),o=i(43126),l=i(54135);e.exports=(e,t,i,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return n(e,i,c);case"!=":return r(e,i,c);case">":return a(e,i,c);case">=":return s(e,i,c);case"<":return o(e,i,c);case"<=":return l(e,i,c);default:throw TypeError(`Invalid operator: ${t}`)}}},23627:(e,t,i)=>{let n=i(406),r=i(71720),{safeRe:a,t:s}=i(9758);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let n;let r=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(n=r.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),r.lastIndex=n.index+n[1].length+n[2].length;r.lastIndex=-1}else i=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===i)return null;let o=i[2],l=i[3]||"0",c=i[4]||"0",u=t.includePrerelease&&i[5]?`-${i[5]}`:"",d=t.includePrerelease&&i[6]?`+${i[6]}`:"";return r(`${o}.${l}.${c}${u}${d}`,t)}},74156:(e,t,i)=>{let n=i(406);e.exports=(e,t,i)=>{let r=new n(e,i),a=new n(t,i);return r.compare(a)||r.compareBuild(a)}},95179:(e,t,i)=>{let n=i(16409);e.exports=(e,t)=>n(e,t,!0)},16409:(e,t,i)=>{let n=i(406);e.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},16448:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e,null,!0),r=n(t,null,!0),a=i.compare(r);if(0===a)return null;let s=a>0,o=s?i:r,l=s?r:i,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=c?"pre":"";return i.major!==r.major?u+"major":i.minor!==r.minor?u+"minor":i.patch!==r.patch?u+"patch":"prerelease"}},32130:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0===n(e,t,i)},22450:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>n(e,t,i)>0},82608:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>n(e,t,i)>=0},25235:(e,t,i)=>{let n=i(406);e.exports=(e,t,i,r,a)=>{"string"==typeof i&&(a=r,r=i,i=void 0);try{return new n(e instanceof n?e.version:e,i).inc(t,r,a).version}catch(e){return null}}},43126:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0>n(e,t,i)},54135:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0>=n(e,t,i)},98852:(e,t,i)=>{let n=i(406);e.exports=(e,t)=>new n(e,t).major},64839:(e,t,i)=>{let n=i(406);e.exports=(e,t)=>new n(e,t).minor},11777:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0!==n(e,t,i)},71720:(e,t,i)=>{let n=i(406);e.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!i)return null;throw e}}},32117:(e,t,i)=>{let n=i(406);e.exports=(e,t)=>new n(e,t).patch},3810:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e,t);return i&&i.prerelease.length?i.prerelease:null}},40324:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>n(t,e,i)},19260:(e,t,i)=>{let n=i(74156);e.exports=(e,t)=>e.sort((e,i)=>n(i,e,t))},65715:(e,t,i)=>{let n=i(13141);e.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},61386:(e,t,i)=>{let n=i(74156);e.exports=(e,t)=>e.sort((e,i)=>n(e,i,t))},87109:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e,t);return i?i.version:null}},44876:(e,t,i)=>{let n=i(9758),r=i(64204),a=i(406),s=i(10602),o=i(71720),l=i(87109),c=i(926),u=i(25235),d=i(16448),p=i(98852),h=i(64839),f=i(32117),m=i(3810),g=i(16409),y=i(40324),v=i(95179),b=i(74156),w=i(61386),x=i(19260),_=i(22450),S=i(43126),k=i(32130),R=i(11777),E=i(82608),T=i(54135),C=i(8980),P=i(23627),A=i(56613),O=i(13141),I=i(65715),N=i(20807),j=i(63837),L=i(83266),D=i(60230),M=i(93696),U=i(13648),q=i(49483),$=i(66482),F=i(958),K=i(71284),B=i(66329);e.exports={parse:o,valid:l,clean:c,inc:u,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:x,gt:_,lt:S,eq:k,neq:R,gte:E,lte:T,cmp:C,coerce:P,Comparator:A,Range:O,satisfies:I,toComparators:N,maxSatisfying:j,minSatisfying:L,minVersion:D,validRange:M,outside:U,gtr:q,ltr:$,intersects:F,simplifyRange:K,subset:B,SemVer:a,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},64204:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},95521:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},10602:e=>{let t=/^[0-9]+$/,i=(e,i)=>{let n=t.test(e),r=t.test(i);return n&&r&&(e=+e,i=+i),e===i?0:n&&!r?-1:r&&!n?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},67090:e=>{let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},9758:(e,t,i)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=i(64204),s=i(95521),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={},d=0,p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[p,r]],f=e=>{for(let[t,i]of h)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},m=(e,t,i)=>{let n=f(t),r=d++;s(e,r,t),u[e]=r,c[r]=t,o[r]=new RegExp(t,i?"g":void 0),l[r]=new RegExp(n,i?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${p}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},84681:(e,t,i)=>{"use strict";let n=i(34024),r=Symbol("max"),a=Symbol("length"),s=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[r]=e.max||1/0;let t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[r]=e||1/0,v(this)}get max(){return this[r]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[a]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[a]+=e.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let i=this[d].tail;null!==i;){let n=i.prev;x(this,e,i,t),i=n}}forEach(e,t){t=t||this;for(let i=this[d].head;null!==i;){let n=i.next;x(this,e,i,t),i=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,i){if((i=i||this[l])&&"number"!=typeof i)throw TypeError("maxAge must be a number");let n=i?Date.now():0,o=this[s](t,e);if(this[p].has(e)){if(o>this[r])return b(this,this[p].get(e)),!1;let s=this[p].get(e).value;return this[c]&&!this[u]&&this[c](e,s.value),s.now=n,s.maxAge=i,s.value=t,this[a]+=o-s.length,s.length=o,this.get(e),v(this),!0}let h=new w(e,t,o,n,i);return h.length>this[r]?(this[c]&&this[c](e,t),!1):(this[a]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),v(this),!0)}has(e){return!!this[p].has(e)&&!y(this,this[p].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[p].get(e))}load(e){this.reset();let t=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],r=n.e||0;if(0===r)this.set(n.k,n.v);else{let e=r-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,i)=>{let n=e[p].get(t);if(n){let t=n.value;if(y(e,t)){if(b(e,n),!e[o])return}else i&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:e[l]&&i>e[l]},v=e=>{if(e[a]>e[r])for(let t=e[d].tail;e[a]>e[r]&&null!==t;){let i=t.prev;b(e,t),t=i}},b=(e,t)=>{if(t){let i=t.value;e[c]&&e[c](i.key,i.value),e[a]-=i.length,e[p].delete(i.key),e[d].removeNode(t)}};class w{constructor(e,t,i,n,r){this.key=e,this.value=t,this.length=i,this.now=n,this.maxAge=r||0}}let x=(e,t,i,n)=>{let r=i.value;y(e,r)&&(b(e,i),e[o]||(r=void 0)),r&&t.call(n,r.value,r.key,e)};e.exports=m},49483:(e,t,i)=>{let n=i(13648);e.exports=(e,t,i)=>n(e,t,">",i)},958:(e,t,i)=>{let n=i(13141);e.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},66482:(e,t,i)=>{let n=i(13648);e.exports=(e,t,i)=>n(e,t,"<",i)},63837:(e,t,i)=>{let n=i(406),r=i(13141);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new n(a=e,i))}),a}},83266:(e,t,i)=>{let n=i(406),r=i(13141);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new n(a=e,i))}),a}},60230:(e,t,i)=>{let n=i(406),r=i(13141),a=i(22450);e.exports=(e,t)=>{e=new r(e,t);let i=new n("0.0.0");if(e.test(i)||(i=new n("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let r=e.set[t],s=null;r.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!i||a(i,s))&&(i=s)}return i&&e.test(i)?i:null}},13648:(e,t,i)=>{let n=i(406),r=i(56613),{ANY:a}=r,s=i(13141),o=i(65715),l=i(22450),c=i(43126),u=i(54135),d=i(82608);e.exports=(e,t,i,p)=>{let h,f,m,g,y;switch(e=new n(e,p),t=new s(t,p),i){case">":h=l,f=u,m=c,g=">",y=">=";break;case"<":h=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,p))return!1;for(let i=0;i<t.set.length;++i){let n=t.set[i],s=null,o=null;if(n.forEach(e=>{e.semver===a&&(e=new r(">=0.0.0")),s=s||e,o=o||e,h(e.semver,s.semver,p)?s=e:m(e.semver,o.semver,p)&&(o=e)}),s.operator===g||s.operator===y||(!o.operator||o.operator===g)&&f(e,o.semver)||o.operator===y&&m(e,o.semver))return!1}return!0}},71284:(e,t,i)=>{let n=i(65715),r=i(16409);e.exports=(e,t,i)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>r(e,t,i));for(let e of l)n(e,t,i)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},66329:(e,t,i)=>{let n=i(13141),r=i(56613),{ANY:a}=r,s=i(65715),o=i(16409),l=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],u=(e,t,i)=>{let n,r,u,h,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=i.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(i.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=d(n,t,i):"<"===t.operator||"<="===t.operator?r=p(r,t,i):y.add(t.semver);if(y.size>1||n&&r&&((u=o(n.semver,r.semver,i))>0||0===u&&(">="!==n.operator||"<="!==r.operator)))return null;for(let e of y){if(n&&!s(e,String(n),i)||r&&!s(e,String(r),i))return null;for(let n of t)if(!s(e,String(n),i))return!1;return!0}let v=!!r&&!i.includePrerelease&&!!r.semver.prerelease.length&&r.semver,b=!!n&&!i.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(v&&1===v.prerelease.length&&"<"===r.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((h=d(n,e,i))===e&&h!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),i))return!1}if(r){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=p(r,e,i))===e&&f!==r)return!1}else if("<="===r.operator&&!s(r.semver,String(e),i))return!1}if(!e.operator&&(r||n)&&0!==u)return!1}return(!n||!m||!!r||0===u)&&(!r||!g||!!n||0===u)&&!b&&!v},d=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},p=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new n(e,i),t=new n(t,i);let r=!1;e:for(let n of e.set){for(let e of t.set){let t=u(n,e,i);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},20807:(e,t,i)=>{let n=i(13141);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},93696:(e,t,i)=>{let n=i(13141);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},35370:(e,t,i)=>{"use strict";i.r(t),i.d(t,{snakeCase:()=>a});var n=i(40727),r=i(31076);function a(e,t){return void 0===t&&(t={}),(0,r.dotCase)(e,(0,n.__assign)({delimiter:"_"},t))}},80180:(e,t,i)=>{"use strict";let n=i(33382),{snakeCase:r}=i(35370);e.exports=function(e,t){return n(e,function(e,i){return[t.exclude.some(function(t){return"string"==typeof t?t===e:t.test(e)})?e:r(e,t.parsingOptions),i]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},3078:(e,t,i)=>{"use strict";i.d(t,{v4:()=>n.default});var n=i(7378)},34263:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var n=i(6113);let r={randomUUID:i.n(n)().randomUUID}},11601:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var n=i(6113),r=i.n(n);let a=new Uint8Array(256),s=a.length;function o(){return s>a.length-16&&(r().randomFillSync(a),s=0),a.slice(s,s+=16)}},33073:(e,t,i)=>{"use strict";i.d(t,{unsafeStringify:()=>r});let n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function r(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}},7378:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(34263),r=i(11601),a=i(33073);let s=function(e,t,i){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();let s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=s[e];return t}return(0,a.unsafeStringify)(s)}},15656:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34024:(e,t,i)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)t.push(arguments[i]);return t}function r(e,t,i,n){if(!(this instanceof r))return new r(e,t,i,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}e.exports=n,n.Node=r,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.tail=new r(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.head=new r(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,n=0;null!==i;n++)e.call(t,i.value,n,this),i=i.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,n=this.length-1;null!==i;n--)e.call(t,i.value,n,this),i=i.prev},n.prototype.get=function(e){for(var t=0,i=this.head;null!==i&&t<e;t++)i=i.next;if(t===e&&null!==i)return i.value},n.prototype.getReverse=function(e){for(var t=0,i=this.tail;null!==i&&t<e;t++)i=i.prev;if(t===e&&null!==i)return i.value},n.prototype.map=function(e,t){t=t||this;for(var i=new n,r=this.head;null!==r;)i.push(e.call(t,r.value,this)),r=r.next;return i},n.prototype.mapReverse=function(e,t){t=t||this;for(var i=new n,r=this.tail;null!==r;)i.push(e.call(t,r.value,this)),r=r.prev;return i},n.prototype.reduce=function(e,t){var i,n=this.head;if(arguments.length>1)i=t;else if(this.head)n=this.head.next,i=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=0;null!==n;r++)i=e(i,n.value,r),n=n.next;return i},n.prototype.reduceReverse=function(e,t){var i,n=this.tail;if(arguments.length>1)i=t;else if(this.tail)n=this.tail.prev,i=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;null!==n;r--)i=e(i,n.value,r),n=n.prev;return i},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,i=this.head;null!==i;t++)e[t]=i.value,i=i.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,i=this.tail;null!==i;t++)e[t]=i.value,i=i.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;for(;null!==a&&r<t;r++,a=a.next)i.push(a.value);return i},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,a=this.tail;null!==a&&r>t;r--)a=a.prev;for(;null!==a&&r>e;r--,a=a.prev)i.push(a.value);return i},n.prototype.splice=function(e,t,...i){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var s=[],n=0;a&&n<t;n++)s.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<i.length;n++)a=function(e,t,i){var n=t===e.head?new r(i,null,t,e):new r(i,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,a,i[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,i=e;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=t,this.tail=e,this};try{i(15656)(n)}catch(e){}},42486:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>d,RR:()=>l,cv:()=>h,dp:()=>g,dr:()=>m,oo:()=>a,uY:()=>f,x7:()=>o});var n=i(38668);function r(e,t,i){let r,{reference:a,floating:s}=e,o=(0,n.Qq)(t),l=(0,n.Wh)(t),c=(0,n.I4)(l),u=(0,n.k3)(t),d="y"===o,p=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,f=a[c]/2-s[c]/2;switch(u){case"top":r={x:p,y:a.y-s.height};break;case"bottom":r={x:p,y:a.y+a.height};break;case"right":r={x:a.x+a.width,y:h};break;case"left":r={x:a.x-s.width,y:h};break;default:r={x:a.x,y:a.y}}switch((0,n.hp)(t)){case"start":r[l]-=f*(i&&d?-1:1);break;case"end":r[l]+=f*(i&&d?-1:1)}return r}let a=async(e,t,i)=>{let{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=i,l=s.filter(Boolean),c=await (null==o.isRTL?void 0:o.isRTL(t)),u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:p}=r(u,n,c),h=n,f={},m=0;for(let i=0;i<l.length;i++){let{name:s,fn:g}=l[i],{x:y,y:v,data:b,reset:w}=await g({x:d,y:p,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=null!=y?y:d,p=null!=v?v:p,f={...f,[s]:{...f[s],...b}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(h=w.placement),w.rects&&(u=!0===w.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:p}=r(u,h,c)),i=-1)}return{x:d,y:p,placement:h,strategy:a,middlewareData:f}};async function s(e,t){var i;void 0===t&&(t={});let{x:r,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:f=0}=(0,n.ku)(t,e),m=(0,n.yd)(f),g=l[h?"floating"===p?"reference":"floating":p],y=(0,n.JB)(await s.getClippingRect({element:null==(i=await (null==s.isElement?void 0:s.isElement(g)))||i?g:g.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v="floating"===p?{...o.floating,x:r,y:a}:o.reference,b=await (null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),w=await (null==s.isElement?void 0:s.isElement(b))&&await (null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},x=(0,n.JB)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-x.top+m.top)/w.y,bottom:(x.bottom-y.bottom+m.bottom)/w.y,left:(y.left-x.left+m.left)/w.x,right:(x.right-y.right+m.right)/w.x}}let o=e=>({name:"arrow",options:e,async fn(t){let{x:i,y:r,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=(0,n.ku)(e,t)||{};if(null==u)return{};let p=(0,n.yd)(d),h={x:i,y:r},f=(0,n.Wh)(a),m=(0,n.I4)(f),g=await o.getDimensions(u),y="y"===f,v=y?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[f]-h[f]-s.floating[m],w=h[f]-s.reference[f],x=await (null==o.getOffsetParent?void 0:o.getOffsetParent(u)),_=x?x[v]:0;_&&await (null==o.isElement?void 0:o.isElement(x))||(_=l.floating[v]||s.floating[m]);let S=_/2-g[m]/2-1,k=(0,n.VV)(p[y?"top":"left"],S),R=(0,n.VV)(p[y?"bottom":"right"],S),E=_-g[m]-R,T=_/2-g[m]/2+(b/2-w/2),C=(0,n.uZ)(k,T,E),P=!c.arrow&&null!=(0,n.hp)(a)&&T!==C&&s.reference[m]/2-(T<k?k:R)-g[m]/2<0,A=P?T<k?T-k:T-E:0;return{[f]:h[f]+A,data:{[f]:C,centerOffset:T-C-A,...P&&{alignmentOffset:A}},reset:P}}}),l=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,r,a,o,l;let{placement:c,middlewareData:u,rects:d,initialPlacement:p,platform:h,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=(0,n.ku)(e,t);if(null!=(i=u.arrow)&&i.alignmentOffset)return{};let _=(0,n.k3)(c),S=(0,n.k3)(p)===p,k=await (null==h.isRTL?void 0:h.isRTL(f.floating)),R=y||(S||!w?[(0,n.pw)(p)]:(0,n.gy)(p));y||"none"===b||R.push(...(0,n.KX)(p,w,b,k));let E=[p,...R],T=await s(t,x),C=[],P=(null==(r=u.flip)?void 0:r.overflows)||[];if(m&&C.push(T[_]),g){let e=(0,n.i8)(c,d,k);C.push(T[e[0]],T[e[1]])}if(P=[...P,{placement:c,overflows:C}],!C.every(e=>e<=0)){let e=((null==(a=u.flip)?void 0:a.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let i=null==(o=P.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!i)switch(v){case"bestFit":{let e=null==(l=P.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(i=e);break}case"initialPlacement":i=p}if(c!==i)return{reset:{placement:i}}}return{}}}};function c(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function u(e){return n.mA.some(t=>e[t]>=0)}let d=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:i}=t,{strategy:r="referenceHidden",...a}=(0,n.ku)(e,t);switch(r){case"referenceHidden":{let e=c(await s(t,{...a,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:u(e)}}}case"escaped":{let e=c(await s(t,{...a,altBoundary:!0}),i.floating);return{data:{escapedOffsets:e,escaped:u(e)}}}default:return{}}}}};async function p(e,t){let{placement:i,platform:r,elements:a}=e,s=await (null==r.isRTL?void 0:r.isRTL(a.floating)),o=(0,n.k3)(i),l=(0,n.hp)(i),c="y"===(0,n.Qq)(i),u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,p=(0,n.ku)(t,e),{mainAxis:h,crossAxis:f,alignmentAxis:m}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&"number"==typeof m&&(f="end"===l?-1*m:m),c?{x:f*d,y:h*u}:{x:h*u,y:f*d}}let h=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,n;let{x:r,y:a,placement:s,middlewareData:o}=t,l=await p(t,e);return s===(null==(i=o.offset)?void 0:i.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:s}}}}},f=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:i,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...u}=(0,n.ku)(e,t),d={x:i,y:r},p=await s(t,u),h=(0,n.Qq)((0,n.k3)(a)),f=(0,n.Rn)(h),m=d[f],g=d[h];if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",i=m+p[e],r=m-p[t];m=(0,n.uZ)(i,m,r)}if(l){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",i=g+p[e],r=g-p[t];g=(0,n.uZ)(i,g,r)}let y=c.fn({...t,[f]:m,[h]:g});return{...y,data:{x:y.x-i,y:y.y-r}}}}},m=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:i,y:r,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=(0,n.ku)(e,t),d={x:i,y:r},p=(0,n.Qq)(a),h=(0,n.Rn)(p),f=d[h],m=d[p],g=(0,n.ku)(l,t),y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){let e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+y.mainAxis,i=s.reference[h]+s.reference[e]-y.mainAxis;f<t?f=t:f>i&&(f=i)}if(u){var v,b;let e="y"===h?"width":"height",t=["top","left"].includes((0,n.k3)(a)),i=s.reference[p]-s.floating[e]+(t&&(null==(v=o.offset)?void 0:v[p])||0)+(t?0:y.crossAxis),r=s.reference[p]+s.reference[e]+(t?0:(null==(b=o.offset)?void 0:b[p])||0)-(t?y.crossAxis:0);m<i?m=i:m>r&&(m=r)}return{[h]:f,[p]:m}}}},g=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let i,r;let{placement:a,rects:o,platform:l,elements:c}=t,{apply:u=()=>{},...d}=(0,n.ku)(e,t),p=await s(t,d),h=(0,n.k3)(a),f=(0,n.hp)(a),m="y"===(0,n.Qq)(a),{width:g,height:y}=o.floating;"top"===h||"bottom"===h?(i=h,r=f===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(r=h,i="end"===f?"top":"bottom");let v=y-p[i],b=g-p[r],w=!t.middlewareData.shift,x=v,_=b;if(m){let e=g-p.left-p.right;_=f||w?(0,n.VV)(b,e):e}else{let e=y-p.top-p.bottom;x=f||w?(0,n.VV)(v,e):e}if(w&&!f){let e=(0,n.Fp)(p.left,0),t=(0,n.Fp)(p.right,0),i=(0,n.Fp)(p.top,0),r=(0,n.Fp)(p.bottom,0);m?_=g-2*(0!==e||0!==t?e+t:(0,n.Fp)(p.left,p.right)):x=y-2*(0!==i||0!==r?i+r:(0,n.Fp)(p.top,p.bottom))}await u({...t,availableWidth:_,availableHeight:x});let S=await l.getDimensions(c.floating);return g!==S.width||y!==S.height?{reset:{rects:!0}}:{}}}}},84208:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>k,Jv:()=>b,Me:()=>w,RR:()=>_,dp:()=>S,dr:()=>E,oo:()=>T,uY:()=>x,x7:()=>R});var n=i(38668),r=i(42486),a=i(21171);function s(e){let t=(0,a.Dx)(e),i=parseFloat(t.width)||0,r=parseFloat(t.height)||0,s=(0,a.Re)(e),o=s?e.offsetWidth:i,l=s?e.offsetHeight:r,c=(0,n.NM)(i)!==o||(0,n.NM)(r)!==l;return c&&(i=o,r=l),{width:i,height:r,$:c}}function o(e){return(0,a.kK)(e)?e:e.contextElement}function l(e){let t=o(e);if(!(0,a.Re)(t))return(0,n.ze)(1);let i=t.getBoundingClientRect(),{width:r,height:l,$:c}=s(t),u=(c?(0,n.NM)(i.width):i.width)/r,d=(c?(0,n.NM)(i.height):i.height)/l;return u&&Number.isFinite(u)||(u=1),d&&Number.isFinite(d)||(d=1),{x:u,y:d}}let c=(0,n.ze)(0);function u(e){let t=(0,a.Jj)(e);return(0,a.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:c}function d(e,t,i,r){var s;void 0===t&&(t=!1),void 0===i&&(i=!1);let c=e.getBoundingClientRect(),d=o(e),p=(0,n.ze)(1);t&&(r?(0,a.kK)(r)&&(p=l(r)):p=l(e));let h=(void 0===(s=i)&&(s=!1),r&&(!s||r===(0,a.Jj)(d))&&s)?u(d):(0,n.ze)(0),f=(c.left+h.x)/p.x,m=(c.top+h.y)/p.y,g=c.width/p.x,y=c.height/p.y;if(d){let e=(0,a.Jj)(d),t=r&&(0,a.kK)(r)?(0,a.Jj)(r):r,i=e,n=i.frameElement;for(;n&&r&&t!==i;){let e=l(n),t=n.getBoundingClientRect(),r=(0,a.Dx)(n),s=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;f*=e.x,m*=e.y,g*=e.x,y*=e.y,f+=s,m+=o,n=(i=(0,a.Jj)(n)).frameElement}}return(0,n.JB)({width:g,height:y,x:f,y:m})}let p=[":popover-open",":modal"];function h(e){return p.some(t=>{try{return e.matches(t)}catch(e){return!1}})}function f(e){return d((0,a.tF)(e)).left+(0,a.Lw)(e).scrollLeft}function m(e,t,i){let r;if("viewport"===t)r=function(e,t){let i=(0,a.Jj)(e),n=(0,a.tF)(e),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;let e=(0,a.Pf)();(!e||e&&"fixed"===t)&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l,y:c}}(e,i);else if("document"===t)r=function(e){let t=(0,a.tF)(e),i=(0,a.Lw)(e),r=e.ownerDocument.body,s=(0,n.Fp)(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=(0,n.Fp)(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),l=-i.scrollLeft+f(e),c=-i.scrollTop;return"rtl"===(0,a.Dx)(r).direction&&(l+=(0,n.Fp)(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}((0,a.tF)(e));else if((0,a.kK)(t))r=function(e,t){let i=d(e,!0,"fixed"===t),r=i.top+e.clientTop,s=i.left+e.clientLeft,o=(0,a.Re)(e)?l(e):(0,n.ze)(1),c=e.clientWidth*o.x;return{width:c,height:e.clientHeight*o.y,x:s*o.x,y:r*o.y}}(t,i);else{let i=u(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return(0,n.JB)(r)}function g(e,t){return(0,a.Re)(e)&&"fixed"!==(0,a.Dx)(e).position?t?t(e):e.offsetParent:null}function y(e,t){let i=(0,a.Jj)(e);if(!(0,a.Re)(e)||h(e))return i;let n=g(e,t);for(;n&&(0,a.Ze)(n)&&"static"===(0,a.Dx)(n).position;)n=g(n,t);return n&&("html"===(0,a.wk)(n)||"body"===(0,a.wk)(n)&&"static"===(0,a.Dx)(n).position&&!(0,a.hT)(n))?i:n||(0,a.gQ)(e)||i}let v=async function(e){let t=this.getOffsetParent||y,i=this.getDimensions;return{reference:function(e,t,i){let r=(0,a.Re)(t),s=(0,a.tF)(t),o="fixed"===i,l=d(e,!0,o,t),c={scrollLeft:0,scrollTop:0},u=(0,n.ze)(0);if(r||!r&&!o){if(("body"!==(0,a.wk)(t)||(0,a.ao)(s))&&(c=(0,a.Lw)(t)),r){let e=d(t,!0,o,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else s&&(u.x=f(s))}return{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await i(e.floating)}}},b={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:r,strategy:s}=e,o="fixed"===s,c=(0,a.tF)(r),u=!!t&&h(t.floating);if(r===c||u&&o)return i;let p={scrollLeft:0,scrollTop:0},f=(0,n.ze)(1),m=(0,n.ze)(0),g=(0,a.Re)(r);if((g||!g&&!o)&&(("body"!==(0,a.wk)(r)||(0,a.ao)(c))&&(p=(0,a.Lw)(r)),(0,a.Re)(r))){let e=d(r);f=l(r),m.x=e.x+r.clientLeft,m.y=e.y+r.clientTop}return{width:i.width*f.x,height:i.height*f.y,x:i.x*f.x-p.scrollLeft*f.x+m.x,y:i.y*f.y-p.scrollTop*f.y+m.y}},getDocumentElement:a.tF,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:r,strategy:s}=e,o=[..."clippingAncestors"===i?function(e,t){let i=t.get(e);if(i)return i;let n=(0,a.Kx)(e,[],!1).filter(e=>(0,a.kK)(e)&&"body"!==(0,a.wk)(e)),r=null,s="fixed"===(0,a.Dx)(e).position,o=s?(0,a.Ow)(e):e;for(;(0,a.kK)(o)&&!(0,a.Py)(o);){let t=(0,a.Dx)(o),i=(0,a.hT)(o);i||"fixed"!==t.position||(r=null),(s?!i&&!r:!i&&"static"===t.position&&!!r&&["absolute","fixed"].includes(r.position)||(0,a.ao)(o)&&!i&&function e(t,i){let n=(0,a.Ow)(t);return!(n===i||!(0,a.kK)(n)||(0,a.Py)(n))&&("fixed"===(0,a.Dx)(n).position||e(n,i))}(e,o))?n=n.filter(e=>e!==o):r=t,o=(0,a.Ow)(o)}return t.set(e,n),n}(t,this._c):[].concat(i),r],l=o[0],c=o.reduce((e,i)=>{let r=m(t,i,s);return e.top=(0,n.Fp)(r.top,e.top),e.right=(0,n.VV)(r.right,e.right),e.bottom=(0,n.VV)(r.bottom,e.bottom),e.left=(0,n.Fp)(r.left,e.left),e},m(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:y,getElementRects:v,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:i}=s(e);return{width:t,height:i}},getScale:l,isElement:a.kK,isRTL:function(e){return"rtl"===(0,a.Dx)(e).direction}};function w(e,t,i,r){let s;void 0===r&&(r={});let{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:h=!1}=r,f=o(e),m=l||c?[...f?(0,a.Kx)(f):[],...(0,a.Kx)(t)]:[];m.forEach(e=>{l&&e.addEventListener("scroll",i,{passive:!0}),c&&e.addEventListener("resize",i)});let g=f&&p?function(e,t){let i,r=null,s=(0,a.tF)(e);function o(){var e;clearTimeout(i),null==(e=r)||e.disconnect(),r=null}return function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),o();let{left:u,top:d,width:p,height:h}=e.getBoundingClientRect();if(l||t(),!p||!h)return;let f=(0,n.GW)(d),m=(0,n.GW)(s.clientWidth-(u+p)),g={rootMargin:-f+"px "+-m+"px "+-(0,n.GW)(s.clientHeight-(d+h))+"px "+-(0,n.GW)(u)+"px",threshold:(0,n.Fp)(0,(0,n.VV)(1,c))||1},y=!0;function v(e){let t=e[0].intersectionRatio;if(t!==c){if(!y)return a();t?a(!1,t):i=setTimeout(()=>{a(!1,1e-7)},100)}y=!1}try{r=new IntersectionObserver(v,{...g,root:s.ownerDocument})}catch(e){r=new IntersectionObserver(v,g)}r.observe(e)}(!0),o}(f,i):null,y=-1,v=null;u&&(v=new ResizeObserver(e=>{let[n]=e;n&&n.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var e;null==(e=v)||e.observe(t)})),i()}),f&&!h&&v.observe(f),v.observe(t));let b=h?d(e):null;return h&&function t(){let n=d(e);b&&(n.x!==b.x||n.y!==b.y||n.width!==b.width||n.height!==b.height)&&i(),b=n,s=requestAnimationFrame(t)}(),i(),()=>{var e;m.forEach(e=>{l&&e.removeEventListener("scroll",i),c&&e.removeEventListener("resize",i)}),null==g||g(),null==(e=v)||e.disconnect(),v=null,h&&cancelAnimationFrame(s)}}let x=r.uY,_=r.RR,S=r.dp,k=r.Cp,R=r.x7,E=r.dr,T=(e,t,i)=>{let n=new Map,a={platform:b,...i},s={...a.platform,_c:n};return(0,r.oo)(e,t,{...a,platform:s})}},41714:(e,t,i)=>{"use strict";i.d(t,{YF:()=>p,x7:()=>s});var n=i(84208),r=i(3729),a=i(81202);let s=e=>({name:"arrow",options:e,fn(t){let{element:i,padding:r}="function"==typeof e?e(t):e;return i&&({}).hasOwnProperty.call(i,"current")?null!=i.current?(0,n.x7)({element:i.current,padding:r}).fn(t):{}:i?(0,n.x7)({element:i,padding:r}).fn(t):{}}});var o="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function l(e,t){let i,n,r;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((i=e.length)!==t.length)return!1;for(n=i;0!=n--;)if(!l(e[n],t[n]))return!1;return!0}if((i=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!({}).hasOwnProperty.call(t,r[n]))return!1;for(n=i;0!=n--;){let i=r[n];if(("_owner"!==i||!e.$$typeof)&&!l(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function c(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u(e,t){let i=c(e);return Math.round(t*i)/i}function d(e){let t=r.useRef(e);return o(()=>{t.current=e}),t}function p(e){void 0===e&&(e={});let{placement:t="bottom",strategy:i="absolute",middleware:s=[],platform:p,elements:{reference:h,floating:f}={},transform:m=!0,whileElementsMounted:g,open:y}=e,[v,b]=r.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[w,x]=r.useState(s);l(w,s)||x(s);let[_,S]=r.useState(null),[k,R]=r.useState(null),E=r.useCallback(e=>{e!==A.current&&(A.current=e,S(e))},[]),T=r.useCallback(e=>{e!==O.current&&(O.current=e,R(e))},[]),C=h||_,P=f||k,A=r.useRef(null),O=r.useRef(null),I=r.useRef(v),N=null!=g,j=d(g),L=d(p),D=r.useCallback(()=>{if(!A.current||!O.current)return;let e={placement:t,strategy:i,middleware:w};L.current&&(e.platform=L.current),(0,n.oo)(A.current,O.current,e).then(e=>{let t={...e,isPositioned:!0};M.current&&!l(I.current,t)&&(I.current=t,a.flushSync(()=>{b(t)}))})},[w,t,i,L]);o(()=>{!1===y&&I.current.isPositioned&&(I.current.isPositioned=!1,b(e=>({...e,isPositioned:!1})))},[y]);let M=r.useRef(!1);o(()=>(M.current=!0,()=>{M.current=!1}),[]),o(()=>{if(C&&(A.current=C),P&&(O.current=P),C&&P){if(j.current)return j.current(C,P,D);D()}},[C,P,D,j,N]);let U=r.useMemo(()=>({reference:A,floating:O,setReference:E,setFloating:T}),[E,T]),q=r.useMemo(()=>({reference:C,floating:P}),[C,P]),$=r.useMemo(()=>{let e={position:i,left:0,top:0};if(!q.floating)return e;let t=u(q.floating,v.x),n=u(q.floating,v.y);return m?{...e,transform:"translate("+t+"px, "+n+"px)",...c(q.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:t,top:n}},[i,m,q.floating,v.x,v.y]);return r.useMemo(()=>({...v,update:D,refs:U,elements:q,floatingStyles:$}),[v,D,U,q,$])}},98077:(e,t,i)=>{"use strict";let n;i.d(t,{Y$:()=>ev,wD:()=>eQ,vs:()=>ed,y0:()=>e1,ll:()=>eH,eS:()=>e3,bQ:()=>e8,YF:()=>e7,XI:()=>eT,NI:()=>ti,JA:()=>ep,c0:()=>tl,qs:()=>tu,ox:()=>td});var r=i(3729),a=i.t(r,2),s=i(21171);function o(e){let t=e.activeElement;for(;(null==(i=t)||null==(i=i.shadowRoot)?void 0:i.activeElement)!=null;){var i;t=t.shadowRoot.activeElement}return t}function l(e,t){if(!e||!t)return!1;let i=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(i&&(0,s.Zq)(i)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function c(){let e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function u(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}function d(e){return 0===e.mozInputSource&&!!e.isTrusted||(f()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function p(e){return!u().includes("jsdom/")&&(!f()&&0===e.width&&0===e.height||f()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function h(){return/apple/i.test(navigator.vendor)}function f(){let e=/android/i;return e.test(c())||e.test(u())}function m(e,t){let i=["mouse","pen"];return t||i.push("",void 0),i.includes(e)}function g(e){return(null==e?void 0:e.ownerDocument)||document}function y(e,t){return null!=t&&("composedPath"in e?e.composedPath().includes(t):null!=e.target&&t.contains(e.target))}function v(e){return"composedPath"in e?e.composedPath()[0]:e.target}function b(e){return(0,s.Re)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function w(e){e.preventDefault(),e.stopPropagation()}function x(e){return!!e&&"combobox"===e.getAttribute("role")&&b(e)}var _=i(38668),S=i(84208),k=i(41714),R='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',E="undefined"==typeof Element,T=E?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,C=!E&&Element.prototype.getRootNode?function(e){var t;return null==e?void 0:null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},P=function e(t,i){void 0===i&&(i=!0);var n,r=null==t?void 0:null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===r||"true"===r||i&&t&&e(t.parentNode)},A=function(e){var t,i=null==e?void 0:null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===i||"true"===i},O=function(e,t,i){if(P(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(R));return t&&T.call(e,R)&&n.unshift(e),n=n.filter(i)},I=function e(t,i,n){for(var r=[],a=Array.from(t);a.length;){var s=a.shift();if(!P(s,!1)){if("SLOT"===s.tagName){var o=s.assignedElements(),l=e(o.length?o:s.children,!0,n);n.flatten?r.push.apply(r,l):r.push({scopeParent:s,candidates:l})}else{T.call(s,R)&&n.filter(s)&&(i||!t.includes(s))&&r.push(s);var c=s.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(s),u=!P(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(c&&u){var d=e(!0===c?s.children:c.children,!0,n);n.flatten?r.push.apply(r,d):r.push({scopeParent:s,candidates:d})}else a.unshift.apply(a,s.children)}}}return r},N=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},j=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||A(e))&&!N(e)?0:e.tabIndex},L=function(e,t){var i=j(e);return i<0&&t&&!N(e)?0:i},D=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},M=function(e){return"INPUT"===e.tagName},U=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},q=function(e){if(!e.name)return!0;var t,i=e.form||C(e),n=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var r=U(t,e.form);return!r||r===e},$=function(e){var t,i,n,r,a,s,o,l=e&&C(e),c=null===(t=l)||void 0===t?void 0:t.host,u=!1;if(l&&l!==e)for(u=!!(null!==(i=c)&&void 0!==i&&null!==(n=i.ownerDocument)&&void 0!==n&&n.contains(c)||null!=e&&null!==(r=e.ownerDocument)&&void 0!==r&&r.contains(e));!u&&c;)u=!!(null!==(s=c=null===(a=l=C(c))||void 0===a?void 0:a.host)&&void 0!==s&&null!==(o=s.ownerDocument)&&void 0!==o&&o.contains(c));return u},F=function(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return 0===i&&0===n},K=function(e,t){var i=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var r=T.call(e,"details>summary:first-of-type")?e.parentElement:e;if(T.call(r,"details:not([open]) *"))return!0;if(i&&"full"!==i&&"legacy-full"!==i){if("non-zero-area"===i)return F(e)}else{if("function"==typeof n){for(var a=e;e;){var s=e.parentElement,o=C(e);if(s&&!s.shadowRoot&&!0===n(s))return F(e);e=e.assignedSlot?e.assignedSlot:s||o===e.ownerDocument?s:o.host}e=a}if($(e))return!e.getClientRects().length;if("legacy-full"!==i)return!0}return!1},B=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var n=t.children.item(i);if("LEGEND"===n.tagName)return!!T.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1},V=function(e,t){var i,n,r;return!(M(i=t)&&"radio"===i.type&&!q(i)||0>j(t))&&(n=e,!((r=t).disabled||P(r)||M(r)&&"hidden"===r.type||K(r,n)||"DETAILS"===r.tagName&&Array.prototype.slice.apply(r.children).some(function(e){return"SUMMARY"===e.tagName})||B(r)))},z=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},W=function e(t){var i=[],n=[];return t.forEach(function(t,r){var a=!!t.scopeParent,s=a?t.scopeParent:t,o=L(s,a),l=a?e(t.candidates):s;0===o?a?i.push.apply(i,l):i.push(s):n.push({documentOrder:r,tabIndex:o,item:t,isScope:a,content:l})}),n.sort(D).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(i)},H=function(e,t){return W((t=t||{}).getShadowRoot?I([e],t.includeContainer,{filter:V.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:z}):O(e,t.includeContainer,V.bind(null,t)))},G=i(81202);let J=a["useInsertionEffect".toString()]||(e=>e());function Y(e){let t=r.useRef(()=>{});return J(()=>{t.current=e}),r.useCallback(function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return null==t.current?void 0:t.current(...i)},[])}let X="ArrowUp",Z="ArrowDown",Q="ArrowLeft",ee="ArrowRight";function et(e,t,i){return Math.floor(e/t)!==i}function ei(e,t){return t<0||t>=e.current.length}function en(e,t){return ea(e,{disabledIndices:t})}function er(e,t){return ea(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ea(e,t){let{startingIndex:i=-1,decrement:n=!1,disabledIndices:r,amount:a=1}=void 0===t?{}:t,s=e.current,o=r?e=>r.includes(e):e=>{let t=s[e];return null==t||t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled")},l=i;do l+=n?-a:a;while(l>=0&&l<=s.length-1&&o(l));return l}let es=0;function eo(e,t){void 0===t&&(t={});let{preventScroll:i=!1,cancelPrevious:n=!0,sync:r=!1}=t;n&&cancelAnimationFrame(es);let a=()=>null==e?void 0:e.focus({preventScroll:i});r?a():es=requestAnimationFrame(a)}var el="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function ec(e,t){let i=e.compareDocumentPosition(t);return i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS?1:0}let eu=r.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function ed(e){let{children:t,elementsRef:i,labelsRef:n}=e,[a,s]=r.useState(()=>new Map),o=r.useCallback(e=>{s(t=>new Map(t).set(e,null))},[]),l=r.useCallback(e=>{s(t=>{let i=new Map(t);return i.delete(e),i})},[]);return el(()=>{let e=new Map(a);Array.from(e.keys()).sort(ec).forEach((t,i)=>{e.set(t,i)}),!function(e,t){if(e.size!==t.size)return!1;for(let[i,n]of e.entries())if(n!==t.get(i))return!1;return!0}(a,e)&&s(e)},[a]),r.createElement(eu.Provider,{value:r.useMemo(()=>({register:o,unregister:l,map:a,elementsRef:i,labelsRef:n}),[o,l,a,i,n])},t)}function ep(e){let{label:t}=void 0===e?{}:e,[i,n]=r.useState(null),a=r.useRef(null),{register:s,unregister:o,map:l,elementsRef:c,labelsRef:u}=r.useContext(eu),d=r.useCallback(e=>{if(a.current=e,null!==i&&(c.current[i]=e,u)){var n;let r=void 0!==t;u.current[i]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}},[i,c,u,t]);return el(()=>{let e=a.current;if(e)return s(e),()=>{o(e)}},[s,o]),el(()=>{let e=a.current?l.get(a.current):null;null!=e&&n(e)},[l]),r.useMemo(()=>({ref:d,index:null==i?-1:i}),[i,d])}function eh(){return(eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let ef=!1,em=0,eg=()=>"floating-ui-"+em++,ey=a["useId".toString()]||function(){let[e,t]=r.useState(()=>ef?eg():void 0);return el(()=>{null==e&&t(eg())},[]),r.useEffect(()=>{ef||(ef=!0)},[]),e},ev=r.forwardRef(function(e,t){let{context:{placement:i,elements:{floating:n},middlewareData:{arrow:a}},width:s=14,height:o=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:d,d:p,style:{transform:h,...f}={},...m}=e,g=ey();if(!n)return null;let y=(c*=2)/2,v=s/2*(-(l/8)+1),b=o/2*l/4,[w,x]=i.split("-"),_=S.Jv.isRTL(n),k=!!p,R="top"===w||"bottom"===w,E=u&&"end"===x?"bottom":"top",T=u&&"end"===x?"right":"left";u&&_&&(T="end"===x?"left":"right");let C=(null==a?void 0:a.x)!=null?u||a.x:"",P=(null==a?void 0:a.y)!=null?u||a.y:"",A=p||"M0,0 H"+s+" L"+(s-v)+","+(o-b)+(" Q"+s/2+","+o+" ")+v+","+(o-b)+" Z",O={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[w];return r.createElement("svg",eh({},m,{"aria-hidden":!0,ref:t,width:k?s:s+c,height:s,viewBox:"0 0 "+s+" "+(o>s?o:s),style:{position:"absolute",pointerEvents:"none",[T]:C,[E]:P,[w]:R||k?"100%":"calc(100% - "+c/2+"px)",transform:""+O+(null!=h?h:""),...f}}),c>0&&r.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:d,strokeWidth:c+(p?0:1),d:A}),r.createElement("path",{stroke:c&&!p?m.fill:"none",d:A}),r.createElement("clipPath",{id:g},r.createElement("rect",{x:-y,y:y*(k?-1:1),width:s+c,height:s})))}),eb=r.createContext(null),ew=r.createContext(null),ex=()=>{var e;return(null==(e=r.useContext(eb))?void 0:e.id)||null},e_=()=>r.useContext(ew);function eS(e){return"data-floating-ui-"+e}function ek(e){let t=(0,r.useRef)(e);return el(()=>{t.current=e}),t}let eR=eS("safe-polygon");function eE(e,t,i){return i&&!m(i)?0:"number"==typeof e?e:null==e?void 0:e[t]}function eT(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:a,events:o,elements:{domReference:c,floating:u},refs:d}=e,{enabled:p=!0,delay:h=0,handleClose:f=null,mouseOnly:y=!1,restMs:v=0,move:b=!0}=t,w=e_(),x=ex(),_=ek(f),S=ek(h),k=r.useRef(),R=r.useRef(),E=r.useRef(),T=r.useRef(),C=r.useRef(!0),P=r.useRef(!1),A=r.useRef(()=>{}),O=r.useCallback(()=>{var e;let t=null==(e=a.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t},[a]);r.useEffect(()=>{if(p)return o.on("openchange",e),()=>{o.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(R.current),clearTimeout(T.current),C.current=!0)}},[p,o]),r.useEffect(()=>{if(!p||!_.current||!i)return;function e(e){O()&&n(!1,e,"hover")}let t=g(u).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[u,i,n,p,_,O]);let I=r.useCallback(function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i="hover");let r=eE(S.current,"close",k.current);r&&!E.current?(clearTimeout(R.current),R.current=setTimeout(()=>n(!1,e,i),r)):t&&(clearTimeout(R.current),n(!1,e,i))},[S,n]),N=r.useCallback(()=>{A.current(),E.current=void 0},[]),j=r.useCallback(()=>{if(P.current){let e=g(d.floating.current).body;e.style.pointerEvents="",e.removeAttribute(eR),P.current=!1}},[d]);return r.useEffect(()=>{if(p&&(0,s.kK)(c))return i&&c.addEventListener("mouseleave",d),null==u||u.addEventListener("mouseleave",d),b&&c.addEventListener("mousemove",r,{once:!0}),c.addEventListener("mouseenter",r),c.addEventListener("mouseleave",o),()=>{i&&c.removeEventListener("mouseleave",d),null==u||u.removeEventListener("mouseleave",d),b&&c.removeEventListener("mousemove",r),c.removeEventListener("mouseenter",r),c.removeEventListener("mouseleave",o)};function t(){return!!a.current.openEvent&&["click","mousedown"].includes(a.current.openEvent.type)}function r(e){if(clearTimeout(R.current),C.current=!1,y&&!m(k.current)||v>0&&0===eE(S.current,"open"))return;let t=eE(S.current,"open",k.current);t?R.current=setTimeout(()=>{n(!0,e,"hover")},t):n(!0,e,"hover")}function o(n){if(t())return;A.current();let r=g(u);if(clearTimeout(T.current),_.current){i||clearTimeout(R.current),E.current=_.current({...e,tree:w,x:n.clientX,y:n.clientY,onClose(){j(),N(),I(n,!0,"safe-polygon")}});let t=E.current;r.addEventListener("mousemove",t),A.current=()=>{r.removeEventListener("mousemove",t)};return}"touch"===k.current&&l(u,n.relatedTarget)||I(n)}function d(i){t()||null==_.current||_.current({...e,tree:w,x:i.clientX,y:i.clientY,onClose(){j(),N(),I(i)}})(i)}},[c,u,p,e,y,v,b,I,N,j,n,i,w,S,_,a]),el(()=>{var e,t;if(p&&i&&null!=(e=_.current)&&e.__options.blockPointerEvents&&O()){let e=g(u).body;if(e.setAttribute(eR,""),e.style.pointerEvents="none",P.current=!0,(0,s.kK)(c)&&u){let e=null==w||null==(t=w.nodesRef.current.find(e=>e.id===x))||null==(t=t.context)?void 0:t.elements.floating;return e&&(e.style.pointerEvents=""),c.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{c.style.pointerEvents="",u.style.pointerEvents=""}}}},[p,i,x,u,c,w,_,O]),el(()=>{i||(k.current=void 0,N(),j())},[i,N,j]),r.useEffect(()=>()=>{N(),clearTimeout(R.current),clearTimeout(T.current),j()},[p,c,N,j]),r.useMemo(()=>{if(!p)return{};function e(e){k.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){i||0===v||(clearTimeout(T.current),T.current=setTimeout(()=>{C.current||n(!0,e.nativeEvent,"hover")},v))}},floating:{onMouseEnter(){clearTimeout(R.current)},onMouseLeave(e){I(e.nativeEvent,!1)}}}},[p,v,i,n,I])}function eC(e,t){let i=e.filter(e=>{var i;return e.parentId===t&&(null==(i=e.context)?void 0:i.open)}),n=i;for(;n.length;)n=e.filter(e=>{var t;return null==(t=n)?void 0:t.some(t=>{var i;return e.parentId===t.id&&(null==(i=e.context)?void 0:i.open)})}),i=i.concat(n);return i}let eP=new WeakMap,eA=new WeakSet,eO={},eI=0,eN=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,ej=e=>e&&(e.host||ej(e.parentNode)),eL=(e,t)=>t.map(t=>{if(e.contains(t))return t;let i=ej(t);return e.contains(i)?i:null}).filter(e=>null!=e);function eD(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);let n=g(e[0]).body;return function(e,t,i,n){let r="data-floating-ui-inert",a=n?"inert":i?"aria-hidden":null,s=eL(t,e),o=new Set,l=new Set(s),c=[];eO[r]||(eO[r]=new WeakMap);let u=eO[r];return s.forEach(function e(t){!(!t||o.has(t))&&(o.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||l.has(t)||Array.prototype.forEach.call(t.children,t=>{if(o.has(t))e(t);else{let e=a?t.getAttribute(a):null,i=null!==e&&"false"!==e,n=(eP.get(t)||0)+1,s=(u.get(t)||0)+1;eP.set(t,n),u.set(t,s),c.push(t),1===n&&i&&eA.add(t),1===s&&t.setAttribute(r,""),!i&&a&&t.setAttribute(a,"true")}})}(t),o.clear(),eI++,()=>{c.forEach(e=>{let t=(eP.get(e)||0)-1,i=(u.get(e)||0)-1;eP.set(e,t),u.set(e,i),t||(!eA.has(e)&&a&&e.removeAttribute(a),eA.delete(e)),i||e.removeAttribute(r)}),--eI||(eP=new WeakMap,eP=new WeakMap,eA=new WeakSet,eO={})}}(e.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,t,i)}let eM=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function eU(e,t){let i=H(e,eM());"prev"===t&&i.reverse();let n=i.indexOf(o(g(e)));return i.slice(n+1)[0]}function eq(){return eU(document.body,"next")}function e$(){return eU(document.body,"prev")}function eF(e,t){let i=t||e.currentTarget,n=e.relatedTarget;return!n||!l(i,n)}let eK={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function eB(e){"Tab"===e.key&&(e.target,clearTimeout(n))}let eV=r.forwardRef(function(e,t){let[i,n]=r.useState();el(()=>(h()&&n("button"),document.addEventListener("keydown",eB),()=>{document.removeEventListener("keydown",eB)}),[]);let a={ref:t,tabIndex:0,role:i,"aria-hidden":!i||void 0,[eS("focus-guard")]:"",style:eK};return r.createElement("span",eh({},e,a))}),ez=r.createContext(null),eW=eS("portal");function eH(e){let{children:t,id:i,root:n=null,preserveTabOrder:a=!0}=e,o=function(e){let{id:t,root:i}=void 0===e?{}:e,[n,a]=r.useState(null),o=ey(),l=eG(),c=r.useRef(null);return el(()=>()=>{null==n||n.remove(),queueMicrotask(()=>{c.current=null})},[n]),el(()=>{if(c.current)return;let e=t?document.getElementById(t):null;if(!e)return;let i=document.createElement("div");i.id=o,i.setAttribute(eW,""),e.appendChild(i),c.current=i,a(i)},[t,o]),el(()=>{if(c.current)return;let e=i||(null==l?void 0:l.portalNode);e&&!(0,s.kK)(e)&&(e=e.current),e=e||document.body;let n=null;t&&((n=document.createElement("div")).id=t,e.appendChild(n));let r=document.createElement("div");r.id=o,r.setAttribute(eW,""),(e=n||e).appendChild(r),c.current=r,a(r)},[t,i,o,l]),n}({id:i,root:n}),[l,c]=r.useState(null),u=r.useRef(null),d=r.useRef(null),p=r.useRef(null),h=r.useRef(null),f=!!l&&!l.modal&&l.open&&a&&!!(n||o);return r.useEffect(()=>{if(o&&a&&(null==l||!l.modal))return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&eF(e)&&("focusin"===e.type?function(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}:function(e){H(e,eM()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})})(o)}},[o,a,null==l?void 0:l.modal]),r.createElement(ez.Provider,{value:r.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:p,afterInsideRef:h,portalNode:o,setFocusManagerState:c}),[a,o])},f&&o&&r.createElement(eV,{"data-type":"outside",ref:u,onFocus:e=>{if(eF(e,o)){var t;null==(t=p.current)||t.focus()}else{let e=e$()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),f&&o&&r.createElement("span",{"aria-owns":o.id,style:eK}),o&&(0,G.createPortal)(t,o),f&&o&&r.createElement(eV,{"data-type":"outside",ref:d,onFocus:e=>{if(eF(e,o)){var t;null==(t=h.current)||t.focus()}else{let t=eq()||(null==l?void 0:l.refs.domReference.current);null==t||t.focus(),(null==l?void 0:l.closeOnFocusOut)&&(null==l||l.onOpenChange(!1,e.nativeEvent))}}}))}let eG=()=>r.useContext(ez),eJ=[];function eY(e){eJ=eJ.filter(e=>e.isConnected),e&&"body"!==(0,s.wk)(e)&&(eJ.push(e),eJ.length>20&&(eJ=eJ.slice(-20)))}function eX(){return eJ.slice().reverse().find(e=>e.isConnected)}let eZ=r.forwardRef(function(e,t){return r.createElement("button",eh({},e,{type:"button",ref:t,tabIndex:-1,style:eK}))});function eQ(e){let{context:t,children:i,disabled:n=!1,order:a=["content"],guards:c=!0,initialFocus:u=0,returnFocus:h=!0,modal:f=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:y=!0}=e,{open:b,refs:_,nodeId:S,onOpenChange:k,events:R,dataRef:E,elements:{domReference:T,floating:C}}=t,P="number"==typeof u&&u<0,A=x(T)&&P,O=!eN()||c,I=ek(a),N=ek(u),j=ek(h),L=e_(),D=eG(),M=r.useRef(null),U=r.useRef(null),q=r.useRef(!1),$=r.useRef(!1),F=null!=D,K=r.useCallback(function(e){return void 0===e&&(e=C),e?H(e,eM()):[]},[C]),B=r.useCallback(e=>{let t=K(e);return I.current.map(e=>T&&"reference"===e?T:C&&"floating"===e?C:t).filter(Boolean).flat()},[T,C,I,K]);function V(e){return!n&&m&&f?r.createElement(eZ,{ref:"start"===e?M:U,onClick:e=>k(!1,e.nativeEvent)},"string"==typeof m?m:"Dismiss"):null}r.useEffect(()=>{if(n||!f)return;function e(e){if("Tab"===e.key){l(C,o(g(C)))&&0===K().length&&!A&&w(e);let t=B(),i=v(e);"reference"===I.current[0]&&i===T&&(w(e),e.shiftKey?eo(t[t.length-1]):eo(t[1])),"floating"===I.current[1]&&i===C&&e.shiftKey&&(w(e),eo(t[0]))}}let t=g(C);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[n,T,C,f,I,A,K,B]),r.useEffect(()=>{if(!n&&y&&C&&(0,s.Re)(T))return T.addEventListener("focusout",t),T.addEventListener("pointerdown",e),f||C.addEventListener("focusout",t),()=>{T.removeEventListener("focusout",t),T.removeEventListener("pointerdown",e),f||C.removeEventListener("focusout",t)};function e(){$.current=!0,setTimeout(()=>{$.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let i=!(l(T,t)||l(C,t)||l(t,C)||l(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(eS("focus-guard"))||L&&(eC(L.nodesRef.current,S).find(e=>{var i,n;return l(null==(i=e.context)?void 0:i.elements.floating,t)||l(null==(n=e.context)?void 0:n.elements.domReference,t)})||(function(e,t){var i;let n=[],r=null==(i=e.find(e=>e.id===t))?void 0:i.parentId;for(;r;){let t=e.find(e=>e.id===r);r=null==t?void 0:t.parentId,t&&(n=n.concat(t))}return n})(L.nodesRef.current,S).find(e=>{var i,n;return(null==(i=e.context)?void 0:i.elements.floating)===t||(null==(n=e.context)?void 0:n.elements.domReference)===t})));t&&i&&!$.current&&t!==eX()&&(q.current=!0,k(!1,e))})}},[n,T,C,f,S,L,D,k,y]),r.useEffect(()=>{var e;if(n)return;let t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+eS("portal")+"]"))||[]);if(C){let e=[C,...t,M.current,U.current,I.current.includes("reference")||A?T:null].filter(e=>null!=e),i=f||A?eD(e,O,!O):eD(e);return()=>{i()}}},[n,T,C,f,I,D,A,O]),el(()=>{if(n||!C)return;let e=o(g(C));queueMicrotask(()=>{let t=B(C),i=N.current,n=("number"==typeof i?t[i]:i.current)||C,r=l(C,e);P||r||!b||eo(n,{preventScroll:n===C})})},[n,b,C,P,B,N]),el(()=>{if(n||!C)return;let e=!1,t=g(C),i=o(t),r=E.current;function a(t){let{reason:i,event:n,nested:r}=t;"escape-key"===i&&_.domReference.current&&eY(_.domReference.current),"hover"===i&&"mouseleave"===n.type&&(q.current=!0),"outside-press"===i&&(r?(q.current=!1,e=!0):q.current=!(d(n)||p(n)))}return eY(i),R.on("openchange",a),()=>{R.off("openchange",a);let i=o(t),n=l(C,i)||L&&eC(L.nodesRef.current,S).some(e=>{var t;return l(null==(t=e.context)?void 0:t.elements.floating,i)});(n||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&_.domReference.current&&eY(_.domReference.current);let c=eX();j.current&&!q.current&&(0,s.Re)(c)&&(c===i||i===t.body||n)&&eo(c,{cancelPrevious:!1,preventScroll:e})}},[n,C,j,E,_,R,L,S]),el(()=>{if(!n&&D)return D.setFocusManagerState({modal:f,closeOnFocusOut:y,open:b,onOpenChange:k,refs:_}),()=>{D.setFocusManagerState(null)}},[n,D,f,b,k,_,y]),el(()=>{if(n||!C||"function"!=typeof MutationObserver||P)return;let e=()=>{let e=C.getAttribute("tabindex");I.current.includes("floating")||o(g(C))!==_.domReference.current&&0===K().length?"0"!==e&&C.setAttribute("tabindex","0"):"-1"!==e&&C.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(C,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[n,C,_,I,K,P]);let z=!n&&O&&(F||f);return r.createElement(r.Fragment,null,z&&r.createElement(eV,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(f){let e=B();eo("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode){if(q.current=!1,eF(e,D.portalNode)){let e=eq()||T;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}}),!A&&V("start"),i,V("end"),z&&r.createElement(eV,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(f)eo(B()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode){if(y&&(q.current=!0),eF(e,D.portalNode)){let e=e$()||T;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}}))}let e0=new Set,e1=r.forwardRef(function(e,t){let{lockScroll:i=!1,...n}=e,a=ey();return el(()=>{if(!i)return;e0.add(a);let e=/iP(hone|ad|od)|iOS/.test(c()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,s=t.left?parseFloat(t.left):window.pageXOffset,o=t.top?parseFloat(t.top):window.pageYOffset;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var l,u;let e=(null==(l=window.visualViewport)?void 0:l.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor((null==(u=window.visualViewport)?void 0:u.offsetTop)||0))+"px",left:-(s-Math.floor(e))+"px",right:"0"})}return()=>{e0.delete(a),0===e0.size&&(Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o)))}},[a,i]),r.createElement("div",eh({ref:t},n,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...n.style}}))});function e2(e){return(0,s.Re)(e.target)&&"BUTTON"===e.target.tagName}function e3(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:a,elements:{domReference:s}}=e,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=t,p=r.useRef(),h=r.useRef(!1);return r.useMemo(()=>o?{reference:{onPointerDown(e){p.current=e.pointerType},onMouseDown(e){0!==e.button||m(p.current,!0)&&u||"click"===l||(i&&c&&(!a.current.openEvent||"mousedown"===a.current.openEvent.type)?n(!1,e.nativeEvent,"click"):(e.preventDefault(),n(!0,e.nativeEvent,"click")))},onClick(e){if("mousedown"===l&&p.current){p.current=void 0;return}m(p.current,!0)&&u||(i&&c&&(!a.current.openEvent||"click"===a.current.openEvent.type)?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,e.defaultPrevented||!d||e2(e)||(" "!==e.key||b(s)||(e.preventDefault(),h.current=!0),"Enter"===e.key&&(i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!d||e2(e)||b(s))&&" "===e.key&&h.current&&(h.current=!1,i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))}}}:{},[o,a,l,u,d,s,c,i,n])}let e4={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},e6={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},e5=e=>{var t,i;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(i=null==e?void 0:e.outsidePress)||i}};function e8(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,nodeId:a,elements:{reference:o,domReference:c,floating:u},dataRef:d}=e,{enabled:p=!0,escapeKey:h=!0,outsidePress:f=!0,outsidePressEvent:m="pointerdown",referencePress:b=!1,referencePressEvent:w="pointerdown",ancestorScroll:x=!1,bubbles:_,capture:S}=t,k=e_(),R=Y("function"==typeof f?f:()=>!1),E="function"==typeof f?R:f,T=r.useRef(!1),C=r.useRef(!1),{escapeKey:P,outsidePress:A}=e5(_),{escapeKey:O,outsidePress:I}=e5(S),N=Y(e=>{if(!i||!p||!h||"Escape"!==e.key)return;let t=k?eC(k.nodesRef.current,a):[];if(!P&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}n(!1,"nativeEvent"in e?e.nativeEvent:e,"escape-key")}),j=Y(e=>{var t;let i=()=>{var t;N(e),null==(t=v(e))||t.removeEventListener("keydown",i)};null==(t=v(e))||t.addEventListener("keydown",i)}),L=Y(e=>{let t=T.current;T.current=!1;let i=C.current;if(C.current=!1,"click"===m&&i||t||"function"==typeof E&&!E(e))return;let r=v(e),o="["+eS("inert")+"]",d=g(u).querySelectorAll(o),p=(0,s.kK)(r)?r:null;for(;p&&!(0,s.Py)(p);){let e=(0,s.Ow)(p);if((0,s.Py)(e)||!(0,s.kK)(e))break;p=e}if(d.length&&(0,s.kK)(r)&&!r.matches("html,body")&&!l(r,u)&&Array.from(d).every(e=>!l(p,e)))return;if((0,s.Re)(r)&&u){let t=r.clientWidth>0&&r.scrollWidth>r.clientWidth,i=r.clientHeight>0&&r.scrollHeight>r.clientHeight,n=i&&e.offsetX>r.clientWidth;if(i&&"rtl"===(0,s.Dx)(r).direction&&(n=e.offsetX<=r.offsetWidth-r.clientWidth),n||t&&e.offsetY>r.clientHeight)return}let h=k&&eC(k.nodesRef.current,a).some(t=>{var i;return y(e,null==(i=t.context)?void 0:i.elements.floating)});if(y(e,u)||y(e,c)||h)return;let f=k?eC(k.nodesRef.current,a):[];if(f.length>0){let e=!0;if(f.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}n(!1,e,"outside-press")}),D=Y(e=>{var t;let i=()=>{var t;L(e),null==(t=v(e))||t.removeEventListener(m,i)};null==(t=v(e))||t.addEventListener(m,i)});return r.useEffect(()=>{if(!i||!p)return;function e(e){n(!1,e,"ancestor-scroll")}d.current.__escapeKeyBubbles=P,d.current.__outsidePressBubbles=A;let t=g(u);h&&t.addEventListener("keydown",O?j:N,O),E&&t.addEventListener(m,I?D:L,I);let r=[];return x&&((0,s.kK)(c)&&(r=(0,s.Kx)(c)),(0,s.kK)(u)&&(r=r.concat((0,s.Kx)(u))),!(0,s.kK)(o)&&o&&o.contextElement&&(r=r.concat((0,s.Kx)(o.contextElement)))),(r=r.filter(e=>{var i;return e!==(null==(i=t.defaultView)?void 0:i.visualViewport)})).forEach(t=>{t.addEventListener("scroll",e,{passive:!0})}),()=>{h&&t.removeEventListener("keydown",O?j:N,O),E&&t.removeEventListener(m,I?D:L,I),r.forEach(t=>{t.removeEventListener("scroll",e)})}},[d,u,c,o,h,E,m,i,n,x,p,P,A,N,O,j,L,I,D]),r.useEffect(()=>{T.current=!1},[E,m]),r.useMemo(()=>p?{reference:{onKeyDown:N,[e4[w]]:e=>{b&&n(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:N,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[e6[m]]:()=>{T.current=!0}}}:{},[p,b,m,w,n,N])}function e7(e){var t;void 0===e&&(e={});let{open:i=!1,onOpenChange:n,nodeId:a}=e,[o,l]=r.useState(null),c=(null==(t=e.elements)?void 0:t.reference)||o,u=(0,k.YF)(e),d=e_(),p=null!=ex(),h=Y((e,t,i)=>{e&&(m.current.openEvent=t),g.emit("openchange",{open:e,event:t,reason:i,nested:p}),null==n||n(e,t,i)}),f=r.useRef(null),m=r.useRef({}),g=r.useState(()=>(function(){let e=new Map;return{emit(t,i){var n;null==(n=e.get(t))||n.forEach(e=>e(i))},on(t,i){e.set(t,[...e.get(t)||[],i])},off(t,i){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==i))||[])}}})())[0],y=ey(),v=r.useCallback(e=>{let t=(0,s.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)},[u.refs]),b=r.useCallback(e=>{((0,s.kK)(e)||null===e)&&(f.current=e,l(e)),((0,s.kK)(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!(0,s.kK)(e))&&u.refs.setReference(e)},[u.refs]),w=r.useMemo(()=>({...u.refs,setReference:b,setPositionReference:v,domReference:f}),[u.refs,b,v]),x=r.useMemo(()=>({...u.elements,domReference:c}),[u.elements,c]),_=r.useMemo(()=>({...u,refs:w,elements:x,dataRef:m,nodeId:a,floatingId:y,events:g,open:i,onOpenChange:h}),[u,a,y,g,i,h,w,x]);return el(()=>{let e=null==d?void 0:d.nodesRef.current.find(e=>e.id===a);e&&(e.context=_)}),r.useMemo(()=>({...u,context:_,refs:w,elements:x}),[u,w,x,_])}let e9="active",te="selected";function tt(e,t,i){let n=new Map,r="item"===i,a=e;if(r&&e){let{[e9]:t,[te]:i,...n}=e;a=n}return{..."floating"===i&&{tabIndex:-1},...a,...t.map(t=>{let n=t?t[i]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[i,a]=t;if(!(r&&[e9,te].includes(i))){if(0===i.indexOf("on")){if(n.has(i)||n.set(i,[]),"function"==typeof a){var s;null==(s=n.get(i))||s.push(a),e[i]=function(){for(var e,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return null==(e=n.get(i))?void 0:e.map(e=>e(...r)).find(e=>void 0!==e)}}}else e[i]=a}}),e),{})}}function ti(e){void 0===e&&(e=[]);let t=e,i=r.useCallback(t=>tt(t,e,"reference"),t),n=r.useCallback(t=>tt(t,e,"floating"),t),a=r.useCallback(t=>tt(t,e,"item"),e.map(e=>null==e?void 0:e.item));return r.useMemo(()=>({getReferenceProps:i,getFloatingProps:n,getItemProps:a}),[i,n,a])}let tn=!1;function tr(e,t,i){switch(e){case"vertical":return t;case"horizontal":return i;default:return t||i}}function ta(e,t){return tr(t,e===X||e===Z,e===Q||e===ee)}function ts(e,t,i){return tr(t,e===Z,i?e===Q:e===ee)||"Enter"===e||" "===e||""===e}function to(e,t,i){return tr(t,i?e===ee:e===Q,e===X)}function tl(e,t){let{open:i,onOpenChange:n,refs:a,elements:{domReference:u,floating:f}}=e,{listRef:m,activeIndex:y,onNavigate:v=()=>{},enabled:b=!0,selectedIndex:S=null,allowEscape:k=!1,loop:R=!1,nested:E=!1,rtl:T=!1,virtual:C=!1,focusItemOnOpen:P="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:O=!0,disabledIndices:I,orientation:N="vertical",cols:j=1,scrollItemIntoView:L=!0,virtualItemRef:D,itemSizes:M,dense:U=!1}=t,q=ex(),$=e_(),F=Y(v),K=r.useRef(P),B=r.useRef(null!=S?S:-1),V=r.useRef(null),z=r.useRef(!0),W=r.useRef(F),H=r.useRef(!!f),G=r.useRef(!1),J=r.useRef(!1),es=ek(I),ec=ek(i),eu=ek(L),[ed,ep]=r.useState(),[eh,ef]=r.useState(),em=Y(function(e,t,i){void 0===i&&(i=!1);let n=e.current[t.current];n&&(C?(ep(n.id),null==$||$.events.emit("virtualfocus",n),D&&(D.current=n)):eo(n,{preventScroll:!0,sync:!!(c().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&h())&&(tn||G.current)}),requestAnimationFrame(()=>{let e=eu.current;e&&n&&(i||!z.current)&&(null==n.scrollIntoView||n.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))}))});el(()=>{document.createElement("div").focus({get preventScroll(){return tn=!0,!1}})},[]),el(()=>{b&&(i&&f?K.current&&null!=S&&(J.current=!0,B.current=S,F(S)):H.current&&(B.current=-1,W.current(null)))},[b,i,f,S,F]),el(()=>{if(b&&i&&f){if(null==y){if(G.current=!1,null==S&&(H.current&&(B.current=-1,em(m,B)),!H.current&&K.current&&(null!=V.current||!0===K.current&&null==V.current))){let e=0,t=()=>{null==m.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(B.current=null==V.current||ts(V.current,N,T)||E?en(m,es.current):er(m,es.current),V.current=null,F(B.current))};t()}}else ei(m,y)||(B.current=y,em(m,B,J.current),J.current=!1)}},[b,i,f,y,S,E,m,N,T,F,em,es]),el(()=>{var e;if(!b||f||!$||C||!H.current)return;let t=$.nodesRef.current,i=null==(e=t.find(e=>e.id===q))||null==(e=e.context)?void 0:e.elements.floating,n=o(g(f)),r=t.some(e=>e.context&&l(e.context.elements.floating,n));i&&!r&&z.current&&i.focus({preventScroll:!0})},[b,f,$,q,C]),el(()=>{if(b&&$&&C&&!q)return $.events.on("virtualfocus",e),()=>{$.events.off("virtualfocus",e)};function e(e){ef(e.id),D&&(D.current=e)}},[b,$,C,q,D]),el(()=>{W.current=F,H.current=!!f}),el(()=>{i||(V.current=null)},[i]);let eg=null!=y,ey=r.useMemo(()=>{function e(e){if(!i)return;let t=m.current.indexOf(e);-1!==t&&F(t)}return{onFocus(t){let{currentTarget:i}=t;e(i)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...A&&{onMouseMove(t){let{currentTarget:i}=t;e(i)},onPointerLeave(e){let{pointerType:t}=e;z.current&&"touch"!==t&&(B.current=-1,em(m,B),F(null),C||eo(a.floating.current,{preventScroll:!0}))}}}},[i,a,em,A,m,F,C]);return r.useMemo(()=>{if(!b)return{};let e=es.current;function t(t){if(z.current=!1,G.current=!0,!ec.current&&t.currentTarget===a.floating.current)return;if(E&&to(t.key,N,T)){w(t),n(!1,t.nativeEvent,"list-navigation"),(0,s.Re)(u)&&!C&&u.focus();return}let r=B.current,l=en(m,e),c=er(m,e);if("Home"===t.key&&(w(t),B.current=l,F(B.current)),"End"===t.key&&(w(t),B.current=c,F(B.current)),j>1){var d;let i=M||Array.from({length:m.current.length},()=>({width:1,height:1})),n=function(e,t,i){let n=[],r=0;return e.forEach((e,a)=>{let{width:s,height:o}=e,l=!1;for(i&&(r=0);!l;){let e=[];for(let i=0;i<s;i++)for(let n=0;n<o;n++)e.push(r+i+n*t);r%t+s<=t&&e.every(e=>null==n[e])?(e.forEach(e=>{n[e]=a}),l=!0):r++}}),[...n]}(i,j,U),r=n.findIndex(t=>null!=t&&!(null!=e&&e.includes(t))),a=n.reduce((t,i,n)=>null==i||null!=e&&e.includes(i)?t:n,-1);if(B.current=n[function(e,t){let{event:i,orientation:n,loop:r,cols:a,disabledIndices:s,minIndex:o,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(i.key===X){if(u&&w(i),-1===c)d=l;else if(d=ea(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),r&&(c-a<o||d<0)){let e=c%a,t=l%a,i=l-(t-e);d=t===e?l:t>e?i:i-a}ei(e,d)&&(d=c)}if(i.key===Z&&(u&&w(i),-1===c?d=o:(d=ea(e,{startingIndex:c,amount:a,disabledIndices:s}),r&&c+a>l&&(d=ea(e,{startingIndex:c%a-a,amount:a,disabledIndices:s}))),ei(e,d)&&(d=c)),"both"===n){let t=(0,_.GW)(c/a);i.key===ee&&(u&&w(i),c%a!=a-1?(d=ea(e,{startingIndex:c,disabledIndices:s}),r&&et(d,a,t)&&(d=ea(e,{startingIndex:c-c%a-1,disabledIndices:s}))):r&&(d=ea(e,{startingIndex:c-c%a-1,disabledIndices:s})),et(d,a,t)&&(d=c)),i.key===Q&&(u&&w(i),c%a!=0?(d=ea(e,{startingIndex:c,disabledIndices:s,decrement:!0}),r&&et(d,a,t)&&(d=ea(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s}))):r&&(d=ea(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s})),et(d,a,t)&&(d=c));let n=(0,_.GW)(l/a)===t;ei(e,d)&&(d=r&&n?i.key===Q?l:ea(e,{startingIndex:c-c%a-1,disabledIndices:s}):c)}return d}({current:n.map(e=>null!=e?m.current[e]:null)},{event:t,orientation:N,loop:R,cols:j,disabledIndices:(d=[...e||[],void 0],n.flatMap((e,t)=>d.includes(e)?[t]:[])),minIndex:r,maxIndex:a,prevIndex:function(e,t,i,n,r){if(-1===e)return -1;let a=i.indexOf(e);switch(r){case"tl":return a;case"tr":return a+t[e].width-1;case"bl":return a+(t[e].height-1)*n;case"br":return i.lastIndexOf(e)}}(B.current,i,n,j,t.key===Z?"bl":t.key===ee?"tr":"tl"),stopEvent:!0})],F(B.current),"both"===N)return}if(ta(t.key,N)){if(w(t),i&&!C&&o(t.currentTarget.ownerDocument)===t.currentTarget){B.current=ts(t.key,N,T)?l:c,F(B.current);return}ts(t.key,N,T)?R?B.current=r>=c?k&&r!==m.current.length?-1:l:ea(m,{startingIndex:r,disabledIndices:e}):B.current=Math.min(c,ea(m,{startingIndex:r,disabledIndices:e})):R?B.current=r<=l?k&&-1!==r?m.current.length:c:ea(m,{startingIndex:r,decrement:!0,disabledIndices:e}):B.current=Math.max(l,ea(m,{startingIndex:r,decrement:!0,disabledIndices:e})),ei(m,B.current)?F(null):F(B.current)}}function r(e){"auto"===P&&d(e.nativeEvent)&&(K.current=!0)}let l=C&&i&&eg&&{"aria-activedescendant":eh||ed},c=m.current.find(e=>(null==e?void 0:e.id)===ed);return{reference:{...l,onKeyDown(r){var a,s,o,l,u,d;z.current=!1;let p=0===r.key.indexOf("Arrow"),h=(a=r.key,tr(N,T?a===Q:a===ee,a===Z)),f=to(r.key,N,T),g=ta(r.key,N),y=(E?h:g)||"Enter"===r.key||""===r.key.trim();if(C&&i){let e,i;let n=null==$?void 0:$.nodesRef.current.find(e=>null==e.parentId),a=$&&n?(s=$.nodesRef.current,o=n.id,i=-1,function t(n,r){r>i&&(e=n,i=r),eC(s,n).forEach(e=>{t(e.id,r+1)})}(o,0),s.find(t=>t.id===e)):null;if(p&&a&&D){let e=new KeyboardEvent("keydown",{key:r.key,bubbles:!0});if(h||f){let t=(null==(l=a.context)?void 0:l.elements.domReference)===r.currentTarget,i=f&&!t?null==(u=a.context)?void 0:u.elements.domReference:h?c:null;i&&(w(r),i.dispatchEvent(e),ef(void 0))}if(g&&a.context&&a.context.open&&a.parentId&&r.currentTarget!==a.context.elements.domReference){w(r),null==(d=a.context.elements.domReference)||d.dispatchEvent(e);return}}return t(r)}if(i||O||!p){if(y&&(V.current=E&&g?null:r.key),E){h&&(w(r),i?(B.current=en(m,e),F(B.current)):n(!0,r.nativeEvent,"list-navigation"));return}g&&(null!=S&&(B.current=S),w(r),!i&&O?n(!0,r.nativeEvent,"list-navigation"):t(r),i&&F(B.current))}},onFocus(){i&&F(null)},onPointerDown:function(e){K.current=P,"auto"===P&&p(e.nativeEvent)&&(K.current=!0)},onMouseDown:r,onClick:r},floating:{"aria-orientation":"both"===N?void 0:N,...!x(u)&&l,onKeyDown:t,onPointerMove(){z.current=!0}},item:ey}},[u,a,ed,eh,es,ec,m,b,N,T,C,i,eg,E,S,O,k,j,R,P,F,n,ey,$,D,M,U])}let tc=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function tu(e,t){var i;void 0===t&&(t={});let{open:n,floatingId:a}=e,{enabled:s=!0,role:o="dialog"}=t,l=null!=(i=tc.get(o))?i:o,c=ey(),u=null!=ex();return r.useMemo(()=>{if(!s)return{};let e={id:a,...l&&{role:l}};return"tooltip"===l||"label"===o?{reference:{["aria-"+("label"===o?"labelledby":"describedby")]:n?a:void 0},floating:e}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":n?a:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&u&&{role:"menuitem"},..."select"===o&&{"aria-autocomplete":"none"},..."combobox"===o&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===l&&{"aria-labelledby":c}},item(e){let{active:t,selected:i}=e,n={role:"option",...t&&{id:a+"-option"}};switch(o){case"select":return{...n,"aria-selected":t&&i};case"combobox":return{...n,...t&&{"aria-selected":!0}}}return{}}}},[s,o,l,n,a,c,u])}function td(e,t){var i;let{open:n,dataRef:a}=e,{listRef:s,activeIndex:o,onMatch:l,onTypingChange:c,enabled:u=!0,findMatch:d=null,resetMs:p=750,ignoreKeys:h=[],selectedIndex:f=null}=t,m=r.useRef(),g=r.useRef(""),y=r.useRef(null!=(i=null!=f?f:o)?i:-1),v=r.useRef(null),b=Y(l),x=Y(c),_=ek(d),S=ek(h);return el(()=>{n&&(clearTimeout(m.current),v.current=null,g.current="")},[n]),el(()=>{if(n&&""===g.current){var e;y.current=null!=(e=null!=f?f:o)?e:-1}},[n,f,o]),r.useMemo(()=>{if(!u)return{};function e(e){e?a.current.typing||(a.current.typing=e,x(e)):a.current.typing&&(a.current.typing=e,x(e))}function t(e,t,i){let n=_.current?_.current(t,i):t.find(e=>(null==e?void 0:e.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()))===0);return n?e.indexOf(n):-1}function i(i){let r=s.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(r,r,g.current)?e(!1):" "===i.key&&w(i)),null==r||S.current.includes(i.key)||1!==i.key.length||i.ctrlKey||i.metaKey||i.altKey)return;n&&" "!==i.key&&(w(i),e(!0)),r.every(e=>{var t,i;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(i=e[1])?void 0:i.toLocaleLowerCase())})&&g.current===i.key&&(g.current="",y.current=v.current),g.current+=i.key,clearTimeout(m.current),m.current=setTimeout(()=>{g.current="",y.current=v.current,e(!1)},p);let a=y.current,o=t(r,[...r.slice((a||0)+1),...r.slice(0,(a||0)+1)],g.current);-1!==o?(b(o),v.current=o):" "!==i.key&&(g.current="",e(!1))}return{reference:{onKeyDown:i},floating:{onKeyDown:i,onKeyUp(t){" "===t.key&&e(!1)}}}},[u,n,a,s,p,S,_,b,x])}},21171:(e,t,i)=>{"use strict";function n(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function r(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return e instanceof Node||e instanceof r(e).Node}function o(e){return e instanceof Element||e instanceof r(e).Element}function l(e){return e instanceof HTMLElement||e instanceof r(e).HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof r(e).ShadowRoot)}function u(e){let{overflow:t,overflowX:i,overflowY:n,display:r}=g(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(r)}function d(e){return["table","td","th"].includes(n(e))}function p(e){let t=f(),i=g(e);return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(e=>(i.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(i.contain||"").includes(e))}function h(e){let t=v(e);for(;l(t)&&!m(t);){if(p(t))return t;t=v(t)}return null}function f(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function m(e){return["html","body","#document"].includes(n(e))}function g(e){return r(e).getComputedStyle(e)}function y(e){return o(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function v(e){if("html"===n(e))return e;let t=e.assignedSlot||e.parentNode||c(e)&&e.host||a(e);return c(t)?t.host:t}i.d(t,{Dx:()=>g,Jj:()=>r,Kx:()=>function e(t,i,n){var a;void 0===i&&(i=[]),void 0===n&&(n=!0);let s=function e(t){let i=v(t);return m(i)?t.ownerDocument?t.ownerDocument.body:t.body:l(i)&&u(i)?i:e(i)}(t),o=s===(null==(a=t.ownerDocument)?void 0:a.body),c=r(s);return o?i.concat(c,c.visualViewport||[],u(s)?s:[],c.frameElement&&n?e(c.frameElement):[]):i.concat(s,e(s,[],n))},Lw:()=>y,Ow:()=>v,Pf:()=>f,Py:()=>m,Re:()=>l,Ze:()=>d,Zq:()=>c,ao:()=>u,gQ:()=>h,hT:()=>p,kK:()=>o,tF:()=>a,wk:()=>n})},38668:(e,t,i)=>{"use strict";i.d(t,{Fp:()=>a,GW:()=>o,I4:()=>g,JB:()=>R,KX:()=>_,NM:()=>s,Qq:()=>y,Rn:()=>m,VV:()=>r,Wh:()=>v,gy:()=>w,hp:()=>f,i8:()=>b,k3:()=>h,ku:()=>p,mA:()=>n,pw:()=>S,uZ:()=>d,yd:()=>k,ze:()=>l});let n=["top","right","bottom","left"],r=Math.min,a=Math.max,s=Math.round,o=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function d(e,t,i){return a(e,r(t,i))}function p(e,t){return"function"==typeof e?e(t):e}function h(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function y(e){return["top","bottom"].includes(h(e))?"y":"x"}function v(e){return m(y(e))}function b(e,t,i){void 0===i&&(i=!1);let n=f(e),r=v(e),a=g(r),s="x"===r?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=S(s)),[s,S(s)]}function w(e){let t=S(e);return[x(e),t,x(t)]}function x(e){return e.replace(/start|end/g,e=>u[e])}function _(e,t,i,n){let r=f(e),a=function(e,t,i){let n=["left","right"],r=["right","left"];switch(e){case"top":case"bottom":if(i)return t?r:n;return t?n:r;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(h(e),"start"===i,n);return r&&(a=a.map(e=>e+"-"+r),t&&(a=a.concat(a.map(x)))),a}function S(e){return e.replace(/left|right|bottom|top/g,e=>c[e])}function k(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function R(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}},1106:(e,t,i)=>{"use strict";i.d(t,{EW:()=>a});var n=i(3729);let r=0;function a(){(0,n.useEffect)(()=>{var e,t;let i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=i[0])&&void 0!==e?e:s()),document.body.insertAdjacentElement("beforeend",null!==(t=i[1])&&void 0!==t?t:s()),r++,()=>{1===r&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),r--}},[])}function s(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},27386:(e,t,i)=>{"use strict";i.d(t,{M:()=>d});var n=i(65651),r=i(3729),a=i(31405),s=i(62409),o=i(2256);let l="focusScope.autoFocusOnMount",c="focusScope.autoFocusOnUnmount",u={bubbles:!1,cancelable:!0},d=(0,r.forwardRef)((e,t)=>{let{loop:i=!1,trapped:d=!1,onMountAutoFocus:g,onUnmountAutoFocus:y,...v}=e,[b,w]=(0,r.useState)(null),x=(0,o.W)(g),_=(0,o.W)(y),S=(0,r.useRef)(null),k=(0,a.e)(t,e=>w(e)),R=(0,r.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,r.useEffect)(()=>{if(d){function e(e){if(R.paused||!b)return;let t=e.target;b.contains(t)?S.current=t:f(S.current,{select:!0})}function t(e){if(R.paused||!b)return;let t=e.relatedTarget;null===t||b.contains(t)||f(S.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let i=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&f(b)});return b&&i.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[d,b,R.paused]),(0,r.useEffect)(()=>{if(b){m.add(R);let e=document.activeElement;if(!b.contains(e)){let t=new CustomEvent(l,u);b.addEventListener(l,x),b.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let i=document.activeElement;for(let n of e)if(f(n,{select:t}),document.activeElement!==i)return}(p(b).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&f(b))}return()=>{b.removeEventListener(l,x),setTimeout(()=>{let t=new CustomEvent(c,u);b.addEventListener(c,_),b.dispatchEvent(t),t.defaultPrevented||f(null!=e?e:document.body,{select:!0}),b.removeEventListener(c,_),m.remove(R)},0)}}},[b,x,_,R]);let E=(0,r.useCallback)(e=>{if(!i&&!d||R.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[r,a]=function(e){let t=p(e);return[h(t,e),h(t.reverse(),e)]}(t);r&&a?e.shiftKey||n!==a?e.shiftKey&&n===r&&(e.preventDefault(),i&&f(a,{select:!0})):(e.preventDefault(),i&&f(r,{select:!0})):n===t&&e.preventDefault()}},[i,d,R.paused]);return(0,r.createElement)(s.WV.div,(0,n.Z)({tabIndex:-1},v,{ref:k,onKeyDown:E}))});function p(e){let t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function h(e,t){for(let i of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(i,{upTo:t}))return i}function f(e,{select:t=!1}={}){if(e&&e.focus){var i;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(i=e)instanceof HTMLInputElement&&"select"in i&&t&&e.select()}}let m=function(){let e=[];return{add(t){let i=e[0];t!==i&&(null==i||i.pause()),(e=g(e,t)).unshift(t)},remove(t){var i;null===(i=(e=g(e,t))[0])||void 0===i||i.resume()}}}();function g(e,t){let i=[...e],n=i.indexOf(t);return -1!==n&&i.splice(n,1),i}},99048:(e,t,i)=>{"use strict";i.d(t,{M:()=>l});var n,r=i(3729),a=i(16069);let s=(n||(n=i.t(r,2)))["useId".toString()]||(()=>void 0),o=0;function l(e){let[t,i]=r.useState(s());return(0,a.b)(()=>{e||i(e=>null!=e?e:String(o++))},[e]),e||(t?`radix-${t}`:"")}},62824:(e,t,i)=>{"use strict";i.d(t,{CR:()=>u,FC:()=>h,Jh:()=>l,KL:()=>f,XA:()=>c,ZT:()=>r,_T:()=>s,ev:()=>d,mG:()=>o,pi:()=>a,qq:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function o(e,t,i,n){return new(i||(i=Promise))(function(r,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}function l(e,t){var i,n,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(i)throw TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function d(e,t,i){if(i||2==arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function h(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){r[e]&&(n[e]=function(t){return new Promise(function(i,n){a.push([e,t,i,n])>1||o(e,t)})})}function o(e,t){try{var i;(i=r[e](t)).value instanceof p?Promise.resolve(i.value.v).then(l,c):u(a[0][2],i)}catch(e){u(a[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function f(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=c(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,r){(function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)})(n,r,(t=e[i](t)).done,t.value)})}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},51550:(e,t,i)=>{"use strict";i.d(t,{SignJWTError:()=>o,TokenVerificationError:()=>s,TokenVerificationErrorAction:()=>a,TokenVerificationErrorCode:()=>n,TokenVerificationErrorReason:()=>r});var n={InvalidSecretKey:"clerk_key_invalid"},r={TokenExpired:"token-expired",TokenInvalid:"token-invalid",TokenInvalidAlgorithm:"token-invalid-algorithm",TokenInvalidAuthorizedParties:"token-invalid-authorized-parties",TokenInvalidSignature:"token-invalid-signature",TokenNotActiveYet:"token-not-active-yet",TokenVerificationFailed:"token-verification-failed",InvalidSecretKey:"secret-key-invalid",LocalJWKMissing:"jwk-local-missing",RemoteJWKFailedToLoad:"jwk-remote-failed-to-load",RemoteJWKInvalid:"jwk-remote-invalid",RemoteJWKMissing:"jwk-remote-missing",JWKFailedToResolve:"jwk-failed-to-resolve"},a={ContactSupport:"Contact support@clerk.com",EnsureClerkJWT:"Make sure that this is a valid Clerk generate JWT.",SetClerkJWTKey:"Set the CLERK_JWT_KEY environment variable.",SetClerkSecretKey:"Set the CLERK_SECRET_KEY environment variable.",EnsureClockSync:"Make sure your system clock is in sync (e.g. turn off and on automatic time synchronization)."},s=class e extends Error{constructor({action:t,message:i,reason:n}){super(i),Object.setPrototypeOf(this,e.prototype),this.reason=n,this.message=i,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}},o=class extends Error{}},47243:(e,t,i)=>{"use strict";i.d(t,{assertHeaderAlgorithm:()=>v,assertHeaderType:()=>y,base64url:()=>l,decodeJwt:()=>E,getCryptoAlgorithm:()=>f,hasValidSignature:()=>R,importKey:()=>k,runtime_default:()=>o,verifyJwt:()=>T});var n=i(51550),r=i(99571),a=i(92305),s=fetch.bind(globalThis),o={crypto:r.webcrypto,fetch:s,AbortController:globalThis.AbortController,Blob:globalThis.Blob,FormData:globalThis.FormData,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response},l={parse:(e,t)=>(function(e,t,i={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!i.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let n=e.length;for(;"="===e[n-1];)if(--n,!i.loose&&!((e.length-n)*t.bits&7))throw SyntaxError("Invalid padding");let r=new(i.out??Uint8Array)(n*t.bits/8|0),a=0,s=0,o=0;for(let i=0;i<n;++i){let n=t.codes[e[i]];if(void 0===n)throw SyntaxError("Invalid character "+e[i]);s=s<<t.bits|n,(a+=t.bits)>=8&&(a-=8,r[o++]=255&s>>a)}if(a>=t.bits||255&s<<8-a)throw SyntaxError("Unexpected end of data");return r})(e,c,t),stringify:(e,t)=>(function(e,t,i={}){let{pad:n=!0}=i,r=(1<<t.bits)-1,a="",s=0,o=0;for(let i=0;i<e.length;++i)for(o=o<<8|255&e[i],s+=8;s>t.bits;)s-=t.bits,a+=t.chars[r&o>>s];if(s&&(a+=t.chars[r&o<<t.bits-s]),n)for(;a.length*t.bits&7;)a+="=";return a})(e,c,t)},c={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},u={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},d="RSASSA-PKCS1-v1_5",p={RS256:d,RS384:d,RS512:d},h=Object.keys(u);function f(e){let t=u[e],i=p[e];if(!t||!i)throw Error(`Unsupported algorithm ${e}, expected one of ${h.join(",")}.`);return{hash:{name:u[e]},name:p[e]}}var m=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),g=(e,t)=>{let i=[t].flat().filter(e=>!!e),r=[e].flat().filter(e=>!!e);if(i.length>0&&r.length>0){if("string"==typeof e){if(!i.includes(e))throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(i)}".`})}else if(m(e)&&!e.some(e=>i.includes(e)))throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(i)}".`})}},y=e=>{if(void 0!==e&&"JWT"!==e)throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenInvalid,message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},v=e=>{if(!h.includes(e))throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenInvalidAlgorithm,message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${h}.`})},b=e=>{if("string"!=typeof e)throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},w=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenInvalidAuthorizedParties,message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},x=(e,t)=>{if("number"!=typeof e)throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),r=new Date(0);if(r.setUTCSeconds(e),r.getTime()<=i.getTime()-t)throw new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenExpired,message:`JWT is expired. Expiry date: ${r.toUTCString()}, Current date: ${i.toUTCString()}.`})},_=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),r=new Date(0);if(r.setUTCSeconds(e),r.getTime()>i.getTime()+t)throw new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenNotActiveYet,message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${r.toUTCString()}; Current date: ${i.toUTCString()};`})},S=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),r=new Date(0);if(r.setUTCSeconds(e),r.getTime()>i.getTime()+t)throw new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenNotActiveYet,message:`JWT issued at date claim (iat) is in the future. Issued at date: ${r.toUTCString()}; Current date: ${i.toUTCString()};`})};function k(e,t,i){if("object"==typeof e)return o.crypto.subtle.importKey("jwk",e,t,!1,[i]);let n=function(e){let t=e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,""),i=(0,a.isomorphicAtob)(t),n=new ArrayBuffer(i.length),r=new Uint8Array(n);for(let e=0,t=i.length;e<t;e++)r[e]=i.charCodeAt(e);return r}(e),r="sign"===i?"pkcs8":"spki";return o.crypto.subtle.importKey(r,n,t,!1,[i])}async function R(e,t){let{header:i,signature:r,raw:a}=e,s=new TextEncoder().encode([a.header,a.payload].join(".")),l=f(i.alg);try{let e=await k(t,l,"verify");return{data:await o.crypto.subtle.verify(l.name,e,r,s)}}catch(e){return{errors:[new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenInvalidSignature,message:e?.message})]}}}function E(e){let t=(e||"").toString().split(".");if(3!==t.length)return{errors:[new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenInvalid,message:"Invalid JWT form. A JWT consists of three parts separated by dots."})]};let[i,r,a]=t,s=new TextDecoder,o=JSON.parse(s.decode(l.parse(i,{loose:!0})));return{data:{header:o,payload:JSON.parse(s.decode(l.parse(r,{loose:!0}))),signature:l.parse(a,{loose:!0}),raw:{header:i,payload:r,signature:a,text:e}}}}async function T(e,t){let{audience:i,authorizedParties:r,clockSkewInMs:a,key:s}=t,o=a||5e3,{data:l,errors:c}=E(e);if(c)return{errors:c};let{header:u,payload:d}=l;try{let{typ:e,alg:t}=u;y(e),v(t);let{azp:n,sub:a,aud:s,iat:l,exp:c,nbf:p}=d;b(a),g([s],[i]),w(n,r),x(c,o),_(p,o),S(l,o)}catch(e){return{errors:[e]}}let{data:p,errors:h}=await R(l,s);return h?{errors:[new n.TokenVerificationError({action:n.TokenVerificationErrorAction.EnsureClerkJWT,reason:n.TokenVerificationErrorReason.TokenVerificationFailed,message:`Error verifying JWT signature. ${h[0]}`})]}:p?{data:d}:{errors:[new n.TokenVerificationError({reason:n.TokenVerificationErrorReason.TokenInvalidSignature,message:"JWT signature is invalid."})]}}},45015:(e,t,i)=>{"use strict";i.d(t,{AuthStatus:()=>eb,constants:()=>h,createAuthenticateRequest:()=>eH,createBackendApiClient:()=>eh,createClerkRequest:()=>eT,errorThrower:()=>eC,parsePublishableKey:()=>c.parsePublishableKey,signedInAuthObject:()=>em,signedOutAuthObject:()=>eg,verifyToken:()=>eU});var n=i(47243),r=i(51550),a=i(96540),s=i(80180),o=i(42786);i(36977);var l=i(35813),c=i(83228);i(655);var u="https://api.clerk.com",d={Session:"__session",ClientUat:"__client_uat",Handshake:"__clerk_handshake",DevBrowser:"__clerk_db_jwt"},p={ClerkSynced:"__clerk_synced",ClerkRedirectUrl:"__clerk_redirect_url",DevBrowser:d.DevBrowser,Handshake:d.Handshake,HandshakeHelp:"__clerk_help",LegacyDevBrowser:"__dev_session"},h={Attributes:{AuthToken:"__clerkAuthToken",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage",ClerkUrl:"__clerkUrl"},Cookies:d,Headers:{AuthToken:"x-clerk-auth-token",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",ClerkUrl:"x-clerk-clerk-url",EnableDebug:"x-clerk-debug",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Accept:"accept",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type",SecFetchDest:"sec-fetch-dest",Location:"location"},ContentTypes:{Json:"application/json"},QueryParameters:p},f=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},m=RegExp("(?<!:)/{1,}","g");function g(...e){return e.filter(e=>e).join("/").replace(m,"/")}var y="/allowlist_identifiers",v=class extends f{async getAllowlistIdentifierList(){return this.request({method:"GET",path:y})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:y,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:g(y,e)})}},b="/clients",w=class extends f{async getClientList(e={}){return this.request({method:"GET",path:b,queryParams:e})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:g(b,e)})}verifyClient(e){return this.request({method:"POST",path:g(b,"verify"),bodyParams:{token:e}})}},x=class extends f{async deleteDomain(e){return this.request({method:"DELETE",path:g("/domains",e)})}},_="/email_addresses",S=class extends f{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:g(_,e)})}async createEmailAddress(e){return this.request({method:"POST",path:_,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:g(_,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:g(_,e)})}},k="/invitations",R=class extends f{async getInvitationList(e={}){return this.request({method:"GET",path:k,queryParams:e})}async createInvitation(e){return this.request({method:"POST",path:k,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:g(k,e,"revoke")})}},E="/organizations",T=class extends f{async getOrganizationList(e){return this.request({method:"GET",path:E,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:E,bodyParams:e})}async getOrganization(e){let t="organizationId"in e?e.organizationId:e.slug;return this.requireId(t),this.request({method:"GET",path:g(E,t)})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:g(E,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let i=new n.runtime_default.FormData;return i.append("file",t?.file),i.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:g(E,e,"logo"),formData:i})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:g(E,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:g(E,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:g(E,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:g(E,t,"memberships"),queryParams:{limit:i,offset:n}})}async createOrganizationMembership(e){let{organizationId:t,userId:i,role:n}=e;return this.requireId(t),this.request({method:"POST",path:g(E,t,"memberships"),bodyParams:{userId:i,role:n}})}async updateOrganizationMembership(e){let{organizationId:t,userId:i,role:n}=e;return this.requireId(t),this.request({method:"PATCH",path:g(E,t,"memberships",i),bodyParams:{role:n}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:i,publicMetadata:n,privateMetadata:r}=e;return this.request({method:"PATCH",path:g(E,t,"memberships",i,"metadata"),bodyParams:{publicMetadata:n,privateMetadata:r}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:i}=e;return this.requireId(t),this.request({method:"DELETE",path:g(E,t,"memberships",i)})}async getOrganizationInvitationList(e){let{organizationId:t,status:i,limit:n,offset:r}=e;return this.requireId(t),this.request({method:"GET",path:g(E,t,"invitations"),queryParams:{status:i,limit:n,offset:r}})}async createOrganizationInvitation(e){let{organizationId:t,...i}=e;return this.requireId(t),this.request({method:"POST",path:g(E,t,"invitations"),bodyParams:{...i}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:i}=e;return this.requireId(t),this.requireId(i),this.request({method:"GET",path:g(E,t,"invitations",i)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:i,requestingUserId:n}=e;return this.requireId(t),this.request({method:"POST",path:g(E,t,"invitations",i,"revoke"),bodyParams:{requestingUserId:n}})}},C="/phone_numbers",P=class extends f{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:g(C,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:C,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:g(C,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:g(C,e)})}},A="/redirect_urls",O=class extends f{async getRedirectUrlList(){return this.request({method:"GET",path:A})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:g(A,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:A,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:g(A,e)})}},I="/sessions",N=class extends f{async getSessionList(e={}){return this.request({method:"GET",path:I,queryParams:e})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:g(I,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:g(I,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:g(I,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),this.request({method:"POST",path:g(I,e,"tokens",t||"")})}},j="/sign_in_tokens",L=class extends f{async createSignInToken(e){return this.request({method:"POST",path:j,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:g(j,e,"revoke")})}},D="/users",M=class extends f{async getUserList(e={}){let{limit:t,offset:i,orderBy:n,...r}=e,[a,s]=await Promise.all([this.request({method:"GET",path:D,queryParams:e}),this.getCount(r)]);return{data:a,totalCount:s}}async getUser(e){return this.requireId(e),this.request({method:"GET",path:g(D,e)})}async createUser(e){return this.request({method:"POST",path:D,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:g(D,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let i=new n.runtime_default.FormData;return i.append("file",t?.file),this.request({method:"POST",path:g(D,e,"profile_image"),formData:i})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:g(D,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:g(D,e)})}async getCount(e={}){return this.request({method:"GET",path:g(D,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:g(D,e,"oauth_access_tokens",t)})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:g(D,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:g(D,t,"organization_memberships"),queryParams:{limit:i,offset:n}})}async verifyPassword(e){let{userId:t,password:i}=e;return this.requireId(t),this.request({method:"POST",path:g(D,t,"verify_password"),bodyParams:{password:i}})}async verifyTOTP(e){let{userId:t,code:i}=e;return this.requireId(t),this.request({method:"POST",path:g(D,t,"verify_totp"),bodyParams:{code:i}})}async banUser(e){return this.requireId(e),this.request({method:"POST",path:g(D,e,"ban")})}async unbanUser(e){return this.requireId(e),this.request({method:"POST",path:g(D,e,"unban")})}async lockUser(e){return this.requireId(e),this.request({method:"POST",path:g(D,e,"lock")})}async unlockUser(e){return this.requireId(e),this.request({method:"POST",path:g(D,e,"unlock")})}},U="/saml_connections",q=class extends f{async getSamlConnectionList(e={}){return this.request({method:"GET",path:U,queryParams:e})}async createSamlConnection(e){return this.request({method:"POST",path:U,bodyParams:e})}async getSamlConnection(e){return this.requireId(e),this.request({method:"GET",path:g(U,e)})}async updateSamlConnection(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:g(U,e),bodyParams:t})}async deleteSamlConnection(e){return this.requireId(e),this.request({method:"DELETE",path:g(U,e)})}};function $(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var F=class e{constructor(e,t,i,n,r){this.id=e,this.identifier=t,this.createdAt=i,this.updatedAt=n,this.invitationId=r}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},K=class e{constructor(e,t,i,n,r,a,s,o,l){this.id=e,this.clientId=t,this.userId=i,this.status=n,this.lastActiveAt=r,this.expireAt=a,this.abandonAt=s,this.createdAt=o,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},B=class e{constructor(e,t,i,n,r,a,s,o){this.id=e,this.sessionIds=t,this.sessions=i,this.signInId=n,this.signUpId=r,this.lastActiveSessionId=a,this.createdAt=s,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>K.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},V=class e{constructor(e,t,i,n){this.object=e,this.id=t,this.slug=i,this.deleted=n}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},z=class e{constructor(e,t,i,n,r,a,s,o,l,c,u){this.id=e,this.fromEmailName=t,this.emailAddressId=i,this.toEmailAddress=n,this.subject=r,this.body=a,this.bodyPlain=s,this.status=o,this.slug=l,this.data=c,this.deliveredByClerk=u}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},W=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},H=class e{constructor(e,t,i=null,n=null,r=null,a=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=i,this.attempts=n,this.expireAt=r,this.nonce=a}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},G=class e{constructor(e,t,i,n){this.id=e,this.emailAddress=t,this.verification=i,this.linkedTo=n}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&H.fromJSON(t.verification),t.linked_to.map(e=>W.fromJSON(e)))}},J=class e{constructor(e,t,i,n,r,a,s,o,l,c,u={},d,p){this.id=e,this.provider=t,this.identificationId=i,this.externalId=n,this.approvedScopes=r,this.emailAddress=a,this.firstName=s,this.lastName=o,this.imageUrl=l,this.username=c,this.publicMetadata=u,this.label=d,this.verification=p}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.image_url||"",t.username,t.public_metadata,t.label,t.verification&&H.fromJSON(t.verification))}},Y=class e{constructor(e,t,i,n,r,a,s){this.id=e,this.emailAddress=t,this.publicMetadata=i,this.createdAt=n,this.updatedAt=r,this.status=a,this.revoked=s}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.revoked)}},X={AllowlistIdentifier:"allowlist_identifier",Client:"client",Email:"email",EmailAddress:"email_address",Invitation:"invitation",OauthAccessToken:"oauth_access_token",Organization:"organization",OrganizationInvitation:"organization_invitation",OrganizationMembership:"organization_membership",PhoneNumber:"phone_number",RedirectUrl:"redirect_url",Session:"session",SignInToken:"sign_in_token",SmsMessage:"sms_message",User:"user",Token:"token",TotalCount:"total_count"},Z=class e{constructor(e,t,i,n={},r,a,s){this.externalAccountId=e,this.provider=t,this.token=i,this.publicMetadata=n,this.label=r,this.scopes=a,this.tokenSecret=s}static fromJSON(t){return new e(t.external_account_id,t.provider,t.token,t.public_metadata,t.label||"",t.scopes,t.token_secret)}},Q=class e{constructor(e,t,i,n,r,a,s,o,l={},c={},u,d,p){this.id=e,this.name=t,this.slug=i,this.imageUrl=n,this.hasImage=r,this.createdBy=a,this.createdAt=s,this.updatedAt=o,this.publicMetadata=l,this.privateMetadata=c,this.maxAllowedMemberships=u,this.adminDeleteEnabled=d,this.members_count=p}static fromJSON(t){return new e(t.id,t.name,t.slug,t.image_url||"",t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count)}},ee=class e{constructor(e,t,i,n,r,a,s,o={},l={}){this.id=e,this.emailAddress=t,this.role=i,this.organizationId=n,this.createdAt=r,this.updatedAt=a,this.status=s,this.publicMetadata=o,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},et=class e{constructor(e,t,i={},n={},r,a,s,o){this.id=e,this.role=t,this.publicMetadata=i,this.privateMetadata=n,this.createdAt=r,this.updatedAt=a,this.organization=s,this.publicUserData=o}static fromJSON(t){return new e(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,Q.fromJSON(t.organization),ei.fromJSON(t.public_user_data))}},ei=class e{constructor(e,t,i,n,r,a){this.identifier=e,this.firstName=t,this.lastName=i,this.imageUrl=n,this.hasImage=r,this.userId=a}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.image_url,t.has_image,t.user_id)}},en=class e{constructor(e,t,i,n,r,a){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=i,this.defaultSecondFactor=n,this.verification=r,this.linkedTo=a}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&H.fromJSON(t.verification),t.linked_to.map(e=>W.fromJSON(e)))}},er=class e{constructor(e,t,i,n){this.id=e,this.url=t,this.createdAt=i,this.updatedAt=n}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},ea=class e{constructor(e,t,i,n,r,a,s){this.id=e,this.userId=t,this.token=i,this.status=n,this.url=r,this.createdAt=a,this.updatedAt=s}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},es=class e{constructor(e,t,i,n,r,a,s){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=i,this.message=n,this.status=r,this.phoneNumberId=a,this.data=s}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},eo=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},el=class e{constructor(e,t,i){this.id=e,this.web3Wallet=t,this.verification=i}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&H.fromJSON(t.verification))}},ec=class e{constructor(e,t,i,n,r,a,s,o,l,c,u,d,p,h,f,m,g,y,v={},b={},w={},x=[],_=[],S=[],k=[],R,E){this.id=e,this.passwordEnabled=t,this.totpEnabled=i,this.backupCodeEnabled=n,this.twoFactorEnabled=r,this.banned=a,this.createdAt=s,this.updatedAt=o,this.imageUrl=l,this.hasImage=c,this.primaryEmailAddressId=u,this.primaryPhoneNumberId=d,this.primaryWeb3WalletId=p,this.lastSignInAt=h,this.externalId=f,this.username=m,this.firstName=g,this.lastName=y,this.publicMetadata=v,this.privateMetadata=b,this.unsafeMetadata=w,this.emailAddresses=x,this.phoneNumbers=_,this.web3Wallets=S,this.externalAccounts=k,this.lastActiveAt=R,this.createOrganizationEnabled=E}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.created_at,t.updated_at,t.image_url,t.has_image,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>G.fromJSON(e)),(t.phone_numbers||[]).map(e=>en.fromJSON(e)),(t.web3_wallets||[]).map(e=>el.fromJSON(e)),(t.external_accounts||[]).map(e=>J.fromJSON(e)),t.last_active_at,t.create_organization_enabled)}get primaryEmailAddress(){return this.emailAddresses.find(({id:e})=>e===this.primaryEmailAddressId)??null}get primaryPhoneNumber(){return this.phoneNumbers.find(({id:e})=>e===this.primaryPhoneNumberId)??null}get primaryWeb3Wallet(){return this.web3Wallets.find(({id:e})=>e===this.primaryWeb3WalletId)??null}get fullName(){return[this.firstName,this.lastName].join(" ").trim()||null}};function eu(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return V.fromJSON(e);switch(e.object){case X.AllowlistIdentifier:return F.fromJSON(e);case X.Client:return B.fromJSON(e);case X.EmailAddress:return G.fromJSON(e);case X.Email:return z.fromJSON(e);case X.Invitation:return Y.fromJSON(e);case X.OauthAccessToken:return Z.fromJSON(e);case X.Organization:return Q.fromJSON(e);case X.OrganizationInvitation:return ee.fromJSON(e);case X.OrganizationMembership:return et.fromJSON(e);case X.PhoneNumber:return en.fromJSON(e);case X.RedirectUrl:return er.fromJSON(e);case X.SignInToken:return ea.fromJSON(e);case X.Session:return K.fromJSON(e);case X.SmsMessage:return es.fromJSON(e);case X.Token:return eo.fromJSON(e);case X.TotalCount:return e.total_count;case X.User:return ec.fromJSON(e);default:return e}}function ed(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function ep(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(a.parseError):[]}return[]}function eh(e){var t;let i=(t=async t=>{let i;let{secretKey:r,apiUrl:a=u,apiVersion:o="v1",userAgent:l="@clerk/backend@1.0.0-beta.29"}=e,{path:c,method:d,queryParams:p,headerParams:f,bodyParams:m,formData:y}=t;$(r);let v=g(a,o,c),b=new URL(v);if(p)for(let[e,t]of Object.entries(s({...p})))t&&[t].flat().forEach(t=>b.searchParams.append(e,t));let w={Authorization:`Bearer ${r}`,"User-Agent":l,...f};try{if(y)i=await n.runtime_default.fetch(b.href,{method:d,headers:w,body:y});else{w["Content-Type"]="application/json";let e="GET"!==d&&m&&Object.keys(m).length>0?{body:JSON.stringify(s(m,{deep:!1}))}:null;i=await n.runtime_default.fetch(b.href,{method:d,headers:w,...e})}let e=i?.headers&&i.headers?.get(h.Headers.ContentType)===h.ContentTypes.Json,t=await (e?i.json():i.text());if(!i.ok)return{data:null,errors:ep(t),status:i?.status,statusText:i?.statusText,clerkTraceId:ed(t,i?.headers)};return{...Array.isArray(t)?{data:t.map(e=>eu(e))}:t&&"object"==typeof t&&"data"in t&&Array.isArray(t.data)&&void 0!==t.data?{data:t.data.map(e=>eu(e)),totalCount:t.total_count}:{data:eu(t)},errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:ed(e,i?.headers)};return{data:null,errors:ep(e),status:i?.status,statusText:i?.statusText,clerkTraceId:ed(e,i?.headers)}}},async(...e)=>{let{data:i,errors:n,totalCount:r,status:s,statusText:o,clerkTraceId:l}=await t(...e);if(n){let e=new a.ClerkAPIResponseError(o||"",{data:[],status:s,clerkTraceId:l});throw e.errors=n,e}return void 0!==r?{data:i,totalCount:r}:i});return{allowlistIdentifiers:new v(i),clients:new w(i),emailAddresses:new S(i),invitations:new R(i),organizations:new T(i),phoneNumbers:new P(i),redirectUrls:new O(i),sessions:new N(i),signInTokens:new L(i),users:new M(i),domains:new x(i),samlConnections:new q(i)}}var ef=e=>()=>{let t={...e};return t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function em(e,t){let{act:i,sid:n,org_id:r,org_role:a,org_slug:s,org_permissions:o,sub:l}=t,c=eh(e),u=ey({sessionId:n,sessionToken:e.sessionToken||"",fetcher:async(...e)=>(await c.sessions.getToken(...e)).jwt});return{actor:i,sessionClaims:t,sessionId:n,userId:l,orgId:r,orgRole:a,orgSlug:s,orgPermissions:o,getToken:u,has:ev({orgId:r,orgRole:a,orgPermissions:o,userId:l}),debug:ef({...e})}}function eg(e){return{sessionClaims:null,sessionId:null,userId:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:ef(e)}}var ey=e=>{let{fetcher:t,sessionToken:i,sessionId:n}=e||{};return async(e={})=>n?e.template?t(n,e.template):i:null},ev=e=>{let{orgId:t,orgRole:i,userId:n,orgPermissions:r}=e;return e=>{if(!e?.permission&&!e?.role)throw Error('Missing parameters. `has` from `auth` or `getAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!t&&!!n&&!!i&&!!r&&(e.permission?r.includes(e.permission):!!e.role&&i===e.role)}},eb={SignedIn:"signed-in",SignedOut:"signed-out",Handshake:"handshake"},ew={ClientUATWithoutSessionToken:"client-uat-but-no-session-token",DevBrowserSync:"dev-browser-sync",PrimaryRespondsToSyncing:"primary-responds-to-syncing",SatelliteCookieNeedsSyncing:"satellite-needs-syncing",SessionTokenAndUATMissing:"session-token-and-uat-missing",SessionTokenMissing:"session-token-missing",SessionTokenOutdated:"session-token-outdated",SessionTokenWithoutClientUAT:"session-token-but-no-client-uat",UnexpectedError:"unexpected-error"};function ex(e,t,i=new Headers,n){let r=em(e,t);return{status:eb.SignedIn,reason:null,message:null,proxyUrl:e.proxyUrl||"",publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!0,toAuth:()=>r,headers:i,token:n}}function e_(e,t,i="",n=new Headers){return eS({status:eb.SignedOut,reason:t,message:i,proxyUrl:e.proxyUrl||"",publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,headers:n,toAuth:()=>eg({...e,status:eb.SignedOut,reason:t,message:i}),token:null})}var eS=e=>{let t=new Headers(e.headers||{});return e.message&&t.set(h.Headers.AuthMessage,e.message),e.reason&&t.set(h.Headers.AuthReason,e.reason),e.status&&t.set(h.Headers.AuthStatus,e.status),e.headers=t,e},ek=class extends URL{isCrossOrigin(e){return this.origin!==new URL(e.toString()).origin}},eR=(...e)=>new ek(...e),eE=class extends Request{constructor(e){super(e,e),this.decorateWithClerkUrl=e=>Object.assign(e,{clerkUrl:this.clerkUrl}),this.clerkUrl=this.deriveUrlFromHeaders(e),this.cookies=this.parseCookies(e)}deriveUrlFromHeaders(e){let t=new URL(e.url),i=e.headers.get(h.Headers.ForwardedProto),n=e.headers.get(h.Headers.ForwardedHost),r=e.headers.get(h.Headers.Host),a=t.protocol,s=this.getFirstValueFromHeader(n)??r,o=this.getFirstValueFromHeader(i)??a?.replace(/[:/]/,""),l=s&&o?`${o}://${s}`:t.origin;return eR(t.pathname+t.search,l)}getFirstValueFromHeader(e){return e?.split(",")[0]}parseCookies(e){let t=(0,o.parse)(this.decodeCookieValue(e.headers.get("cookie")||""));return new Map(Object.entries(t))}decodeCookieValue(e){return e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e}},eT=(...e)=>e[0]instanceof eE?e[0]:new eE(...e),eC=(0,a.buildErrorThrower)({packageName:"@clerk/backend"}),{isDevOrStagingUrl:eP}=(0,c.createDevOrStagingUrlCache)(),eA={},eO=0;function eI(e,t){eA[e.kid]=e,eO=Date.now(),t>=0&&setTimeout(()=>{e?delete eA[e.kid]:eA={}},t)}var eN="local";function ej(e){if(!eA[eN]){if(!e)throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.SetClerkJWTKey,message:"Missing local JWK.",reason:r.TokenVerificationErrorReason.LocalJWKMissing});eI({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},-1)}return eA[eN]}async function eL({secretKey:e,apiUrl:t=u,apiVersion:i="v1",kid:n,jwksCacheTtlInMs:a=36e5,skipJwksCache:s}){let o=!eA[n]||Date.now()-eO>=3e5;if(s||o){if(!e)throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.ContactSupport,message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:r.TokenVerificationErrorReason.RemoteJWKFailedToLoad});let{keys:n}=await (0,l.callWithRetry)(()=>eD(t,e,i));if(!n||!n.length)throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.ContactSupport,message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:r.TokenVerificationErrorReason.RemoteJWKFailedToLoad});n.forEach(e=>eI(e,a))}let c=eA[n];if(!c){let e=Object.values(eA).map(e=>e.kid).sort().join(", ");throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.ContactSupport,message:`Unable to find a signing key in JWKS that matches the kid='${n}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT.${e?` The following kid are available: ${e}`:""}`,reason:r.TokenVerificationErrorReason.RemoteJWKMissing})}return c}async function eD(e,t,i){if(!t)throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.SetClerkSecretKey,message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:r.TokenVerificationErrorReason.RemoteJWKFailedToLoad});let a=new URL(e);a.pathname=g(a.pathname,i,"/jwks");let s=await n.runtime_default.fetch(a.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.json(),t=eM(e?.errors,r.TokenVerificationErrorCode.InvalidSecretKey);if(t){let e=r.TokenVerificationErrorReason.InvalidSecretKey;throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.ContactSupport,message:t.message,reason:e})}throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.ContactSupport,message:`Error loading Clerk JWKS from ${a.href} with code=${s.status}`,reason:r.TokenVerificationErrorReason.RemoteJWKFailedToLoad})}return s.json()}var eM=(e,t)=>e?e.find(e=>e.code===t):null;async function eU(e,t){let{data:i,errors:a}=(0,n.decodeJwt)(e);if(a)return{errors:a};let{header:s}=i,{kid:o}=s;try{let i;if(t.jwtKey)i=ej(t.jwtKey);else{if(!t.secretKey)return{errors:[new r.TokenVerificationError({action:r.TokenVerificationErrorAction.SetClerkJWTKey,message:"Failed to resolve JWK during verification.",reason:r.TokenVerificationErrorReason.JWKFailedToResolve})]};i=await eL({...t,kid:o})}return await (0,n.verifyJwt)(e,{...t,key:i})}catch(e){return{errors:[e]}}}var eq=class{constructor(e,t){this.clerkRequest=e,this.initHeaderValues(),this.initCookieValues(),this.initHandshakeValues(),Object.assign(this,t),this.clerkUrl=this.clerkRequest.clerkUrl}get sessionToken(){return this.sessionTokenInCookie||this.sessionTokenInHeader}initHandshakeValues(){this.devBrowserToken=this.clerkRequest.clerkUrl.searchParams.get(h.Cookies.DevBrowser)||this.clerkRequest.cookies.get(h.Cookies.DevBrowser),this.handshakeToken=this.clerkRequest.clerkUrl.searchParams.get(h.Cookies.Handshake)||this.clerkRequest.cookies.get(h.Cookies.Handshake)}initHeaderValues(){let e=e=>this.clerkRequest.headers.get(e)||void 0;this.sessionTokenInHeader=this.stripAuthorizationHeader(e(h.Headers.Authorization)),this.origin=e(h.Headers.Origin),this.host=e(h.Headers.Host),this.forwardedHost=e(h.Headers.ForwardedHost),this.forwardedProto=e(h.Headers.CloudFrontForwardedProto)||e(h.Headers.ForwardedProto),this.referrer=e(h.Headers.Referrer),this.userAgent=e(h.Headers.UserAgent),this.secFetchDest=e(h.Headers.SecFetchDest),this.accept=e(h.Headers.Accept)}initCookieValues(){let e=e=>this.clerkRequest.cookies.get(e)||void 0;this.sessionTokenInCookie=e(h.Cookies.Session),this.clientUat=Number.parseInt(e(h.Cookies.ClientUat)||"")||0}stripAuthorizationHeader(e){return e?.replace("Bearer ","")}},e$=(...e)=>new eq(...e);async function eF(e,{key:t}){let{data:i,errors:a}=(0,n.decodeJwt)(e);if(a)throw a[0];let{header:s,payload:o}=i,{typ:l,alg:c}=s;(0,n.assertHeaderType)(l),(0,n.assertHeaderAlgorithm)(c);let{data:u,errors:d}=await (0,n.hasValidSignature)(i,t);if(d)throw new r.TokenVerificationError({reason:r.TokenVerificationErrorReason.TokenVerificationFailed,message:`Error verifying handshake token. ${d[0]}`});if(!u)throw new r.TokenVerificationError({reason:r.TokenVerificationErrorReason.TokenInvalidSignature,message:"Handshake signature is invalid."});return o}async function eK(e,t){let i;let{secretKey:a,apiUrl:s,apiVersion:o,jwksCacheTtlInMs:l,jwtKey:c,skipJwksCache:u}=t,{data:d,errors:p}=(0,n.decodeJwt)(e);if(p)throw p[0];let{kid:h}=d.header;if(c)i=ej(c);else if(a)i=await eL({secretKey:a,apiUrl:s,apiVersion:o,kid:h,jwksCacheTtlInMs:l,skipJwksCache:u});else throw new r.TokenVerificationError({action:r.TokenVerificationErrorAction.SetClerkJWTKey,message:"Failed to resolve JWK during handshake verification.",reason:r.TokenVerificationErrorReason.JWKFailedToResolve});return await eF(e,{key:i})}async function eB(e,t){let i=e$(eT(e),t);async function a(){let e=new Headers({"Access-Control-Allow-Origin":"null","Access-Control-Allow-Credentials":"true"}),t=(await eK(i.handshakeToken,i)).handshake,n="";if(t.forEach(t=>{e.append("Set-Cookie",t),t.startsWith(`${h.Cookies.Session}=`)&&(n=t.split(";")[0].substring(10))}),"development"===l){let t=new URL(i.clerkUrl);t.searchParams.delete(h.QueryParameters.Handshake),t.searchParams.delete(h.QueryParameters.HandshakeHelp),e.append("Location",t.toString())}if(""===n)return e_(i,ew.SessionTokenMissing,"",e);let{data:a,errors:[s]=[]}=await eU(n,i);if(a)return ex(i,a,e,n);if("development"===l&&(s?.reason===r.TokenVerificationErrorReason.TokenExpired||s?.reason===r.TokenVerificationErrorReason.TokenNotActiveYet)){s.tokenCarrier="cookie",console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${s.getFullMessage()}`);let{data:t,errors:[r]=[]}=await eU(n,{...i,clockSkewInMs:864e5});if(t)return ex(i,t,e,n);throw r}throw s}function s(e,t,n,r){return!function(e){let{accept:t,secFetchDest:i}=e;return!!("document"===i||!i&&t?.startsWith("text/html"))}(e)?e_(e,t,n,new Headers):function(e,t,i="",n){return eS({status:eb.Handshake,reason:t,message:i,publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",proxyUrl:e.proxyUrl||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,headers:n,toAuth:()=>null,token:null})}(e,t,n,r??function(){let e=function(e){let t=new URL(e);return t.searchParams.delete(h.QueryParameters.DevBrowser),t.searchParams.delete(h.QueryParameters.LegacyDevBrowser),t}(i.clerkUrl),t=o.frontendApi.replace(/http(s)?:\/\//,""),n=new URL(`https://${t}/v1/client/handshake`);return n.searchParams.append("redirect_url",e?.href||""),o?.instanceType==="development"&&i.devBrowserToken&&n.searchParams.append(h.QueryParameters.DevBrowser,i.devBrowserToken),new Headers({location:n.href})}())}$(i.secretKey),i.isSatellite&&(function(e,t){if(!e&&(0,c.isDevelopmentFromSecretKey)(t))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(i.signInUrl,i.secretKey),i.signInUrl&&i.origin&&function(e,t){let i;try{i=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(i.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(i.signInUrl,i.origin),function(e){if(!e)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(i.proxyUrl||i.domain));let o=(0,c.parsePublishableKey)(t.publishableKey,{fatal:!0,proxyUrl:t.proxyUrl,domain:t.domain}),l=o.instanceType;async function u(){let{sessionTokenInHeader:e}=i;try{let{data:t,errors:n}=await eU(e,i);if(n)throw n[0];return await ex(i,t,void 0,e)}catch(e){return p(e,"header")}}async function d(){let e=i.clientUat,t=!!i.sessionTokenInCookie,o=i.isSatellite&&"document"===i.secFetchDest&&!i.clerkUrl.searchParams.has(h.QueryParameters.ClerkSynced);if(i.handshakeToken)try{return await a()}catch(e){if(e instanceof r.TokenVerificationError){if("development"===l){if(e.reason===r.TokenVerificationErrorReason.TokenInvalidSignature)throw Error("Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.");throw Error(`Clerk: Handshake token verification failed: ${e.getFullMessage()}.`)}if(e.reason===r.TokenVerificationErrorReason.TokenInvalidSignature)return e_(i,ew.UnexpectedError,`Clerk: Handshake token verification failed with "${e.reason}"`)}}if("development"===l&&i.clerkUrl.searchParams.has(h.Cookies.DevBrowser))return s(i,ew.DevBrowserSync,"");if("production"===l&&o)return s(i,ew.SatelliteCookieNeedsSyncing,"");if("development"===l&&o){let e=new URL(i.signInUrl);e.searchParams.append(h.QueryParameters.ClerkRedirectUrl,i.clerkUrl.toString());let t=new Headers({location:e.toString()});return s(i,ew.SatelliteCookieNeedsSyncing,"",t)}let c=new URL(i.clerkUrl).searchParams.get(h.QueryParameters.ClerkRedirectUrl);if("development"===l&&!i.isSatellite&&c){let e=new URL(c);i.devBrowserToken&&e.searchParams.append(h.Cookies.DevBrowser,i.devBrowserToken),e.searchParams.append(h.QueryParameters.ClerkSynced,"true");let t=new Headers({location:e.toString()});return s(i,ew.PrimaryRespondsToSyncing,"",t)}if(!e&&!t)return e_(i,ew.SessionTokenAndUATMissing,"");if(!e&&t)return s(i,ew.SessionTokenWithoutClientUAT,"");if(e&&!t)return s(i,ew.ClientUATWithoutSessionToken,"");let{data:u,errors:d}=(0,n.decodeJwt)(i.sessionTokenInCookie);if(d)return p(d[0],"cookie");if(u.payload.iat<i.clientUat)return s(i,ew.SessionTokenOutdated,"");try{let{data:e,errors:t}=await eU(i.sessionTokenInCookie,i);if(t)throw t[0];return await ex(i,e,void 0,i.sessionTokenInCookie)}catch(e){return p(e,"cookie")}return e_(i,ew.UnexpectedError)}function p(e,t){return e instanceof r.TokenVerificationError?(e.tokenCarrier=t,[r.TokenVerificationErrorReason.TokenExpired,r.TokenVerificationErrorReason.TokenNotActiveYet].includes(e.reason))?s(i,ew.SessionTokenOutdated,e.getFullMessage()):e_(i,e.reason,e.getFullMessage()):e_(i,ew.UnexpectedError)}return i.sessionTokenInHeader?u():d()}var eV=e=>{let{isSignedIn:t,proxyUrl:i,reason:n,message:r,publishableKey:a,isSatellite:s,domain:o}=e;return{isSignedIn:t,proxyUrl:i,reason:n,message:r,publishableKey:a,isSatellite:s,domain:o}};function ez(e,t){return Object.keys(e).reduce((e,i)=>({...e,[i]:t[i]||e[i]}),{...e})}var eW={secretKey:"",jwtKey:"",apiUrl:void 0,apiVersion:void 0,proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",audience:""};function eH(e){let t=ez(eW,e.options);return{authenticateRequest:(e,i={})=>{let{apiUrl:n,apiVersion:r}=t,a=ez(t,i);return eB(e,{...i,...a,apiUrl:n,apiVersion:r})},debugRequestState:eV}}},13334:(e,t,i)=>{"use strict";function n(e){return async(...t)=>{let{data:i,errors:n}=await e(...t);if(n)throw n[0];return i}}function r(e){return(...t)=>{let{data:i,errors:n}=e(...t);if(n)throw n[0];return i}}i.d(t,{withLegacyReturn:()=>n,withLegacySyncReturn:()=>r})},74176:(e,t,i)=>{"use strict";i.d(t,{createClerkClient:()=>s});var n=i(45015),r=i(13334);i(47243),i(51550);var a=i(38425);function s(e){let t={...e},i=(0,n.createBackendApiClient)(t),r=(0,n.createAuthenticateRequest)({options:t,apiClient:i}),s=new a.TelemetryCollector({...e.telemetry,publishableKey:t.publishableKey,secretKey:t.secretKey,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{}});return{...i,...r,telemetry:s}}(0,r.withLegacyReturn)(n.verifyToken)},39647:(e,t,i)=>{"use strict";i.d(t,{AuthStatus:()=>n.AuthStatus,constants:()=>n.constants,createClerkRequest:()=>n.createClerkRequest,createRedirect:()=>o,signedInAuthObject:()=>n.signedInAuthObject,signedOutAuthObject:()=>n.signedOutAuthObject});var n=i(45015);i(47243),i(51550);var r=(e,t,i)=>{if(""===e)return a(t.toString(),i?.toString());let n=new URL(e),r=i?new URL(i,n):void 0,s=new URL(t,n);return r&&s.searchParams.set("redirect_url",r.toString()),s.toString()},a=(e,t)=>{let i;if(e.startsWith("http"))i=new URL(e);else{if(!t||!t.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let n=new URL(t);i=new URL(e,n.origin)}return t&&i.searchParams.set("redirect_url",t),i.toString()},s=e=>{if(!e)return"";let t=e.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${t}`},o=e=>{let{publishableKey:t,redirectAdapter:i,signInUrl:a,signUpUrl:o,baseUrl:l}=e,c=s(n.parsePublishableKey(t)?.frontendApi);return{redirectToSignUp:({returnBackUrl:e}={})=>{o||c||n.errorThrower.throwMissingPublishableKeyError();let t=`${c}/sign-up`;return i(r(l,o||t,e))},redirectToSignIn:({returnBackUrl:e}={})=>{a||c||n.errorThrower.throwMissingPublishableKeyError();let t=`${c}/sign-in`;return i(r(l,a||t,e))}}}},83306:(e,t,i)=>{"use strict";i.d(t,{decodeJwt:()=>l});var n=i(13334),r=i(47243),a=i(51550);function s(e){let t=JSON.stringify(e),i=new TextEncoder().encode(t);return r.base64url.stringify(i,{pad:!1})}async function o(e,t,i){if(!i.algorithm)throw Error("No algorithm specified");let n=new TextEncoder,o=(0,r.getCryptoAlgorithm)(i.algorithm);if(!o)return{errors:[new a.SignJWTError(`Unsupported algorithm ${i.algorithm}`)]};let l=await (0,r.importKey)(t,o,"sign"),c=i.header||{typ:"JWT"};c.alg=i.algorithm,e.iat=Math.floor(Date.now()/1e3);let u=s(c),d=s(e),p=`${u}.${d}`;try{let e=await r.runtime_default.crypto.subtle.sign(o,l,n.encode(p));return{data:`${p}.${r.base64url.stringify(new Uint8Array(e),{pad:!1})}`}}catch(e){return{errors:[new a.SignJWTError(e?.message)]}}}(0,n.withLegacyReturn)(r.verifyJwt);var l=(0,n.withLegacySyncReturn)(r.decodeJwt);(0,n.withLegacyReturn)(o),(0,n.withLegacyReturn)(r.hasValidSignature)},99571:(e,t,i)=>{"use strict";i.d(t,{webcrypto:()=>n.webcrypto});var n=i(6005)},3236:(e,t,i)=>{"use strict";i.d(t,{apiUrlFromPublishableKey:()=>n.apiUrlFromPublishableKey});var n=i(37164);i(87549)},35813:(e,t,i)=>{"use strict";i.d(t,{callWithRetry:()=>n.callWithRetry});var n=i(35831);i(87549)},35831:(e,t,i)=>{"use strict";async function n(e,t=1,i=5){try{return await e()}catch(a){var r;if(t>=i)throw a;return await (r=2**t*100,new Promise(e=>setTimeout(e,r))),n(e,t+1,i)}}i.d(t,{callWithRetry:()=>n})},37164:(e,t,i)=>{"use strict";i.d(t,{apiUrlFromPublishableKey:()=>a});var n=i(7324),r=i(10654),a=e=>{let t=n.parsePublishableKey(e)?.frontendApi;return r.LOCAL_ENV_SUFFIXES.some(e=>t?.endsWith(e))?r.LOCAL_API_URL:r.STAGING_ENV_SUFFIXES.some(e=>t?.endsWith(e))?r.STAGING_API_URL:r.PROD_API_URL}},29722:(e,t,i)=>{"use strict";i.d(t,{isTruthy:()=>r});var n=e=>{let t=i=>{if(!i)return i;if(Array.isArray(i))return i.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let n={...i};for(let i of Object.keys(n)){let r=e(i.toString());r!==i&&(n[r]=n[i],delete n[i]),"object"==typeof n[r]&&(n[r]=t(n[r]))}return n};return t};function r(e){if("boolean"==typeof e)return e;if(null==e)return!1;if("string"==typeof e){if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1}let t=parseInt(e,10);return!isNaN(t)&&t>0}n(function(e){return e?e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`):""}),n(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""})},89427:(e,t,i)=>{"use strict";function n(e){return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e?.meta?.param_name,sessionId:e?.meta?.session_id,emailAddresses:e?.meta?.email_addresses,identifiers:e?.meta?.identifiers,zxcvbn:e?.meta?.zxcvbn}}}i.d(t,{ClerkAPIResponseError:()=>r,buildErrorThrower:()=>s,parseError:()=>n});var r=class e extends Error{constructor(t,{data:i,status:r,clerkTraceId:a}){super(t),this.toString=()=>{let e=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(e=>JSON.stringify(e))}`;return this.clerkTraceId&&(e+=`
Clerk Trace ID: ${this.clerkTraceId}`),e},Object.setPrototypeOf(this,e.prototype),this.status=r,this.message=t,this.clerkTraceId=a,this.clerkError=!0,this.errors=function(e=[]){return e.length>0?e.map(n):[]}(i)}},a=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function s({packageName:e,customMessages:t}){let i=e,n={...a,...t};function r(e,t){if(!t)return`${i}: ${e}`;let n=e;for(let i of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[i[1]]||"").toString();n=n.replace(`{{${i[1]}}}`,e)}return`${i}: ${n}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(i=e),this},setMessages({customMessages:e}){return Object.assign(n,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(r(n.InvalidPublishableKeyErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(r(n.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(r(n.MissingPublishableKeyErrorMessage))},throwMissingClerkProviderError(e){throw Error(r(n.MissingClerkProvider,e))},throw(e){throw Error(r(e))}}}},15989:(e,t,i)=>{"use strict";i.d(t,{isomorphicAtob:()=>n});var n=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e},10654:(e,t,i)=>{"use strict";i.d(t,{DEV_OR_STAGING_SUFFIXES:()=>n,LOCAL_API_URL:()=>s,LOCAL_ENV_SUFFIXES:()=>r,PROD_API_URL:()=>l,STAGING_API_URL:()=>o,STAGING_ENV_SUFFIXES:()=>a});var n=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],r=[".lcl.dev","lclstage.dev",".lclclerk.com",".accounts.lclclerk.com"],a=[".accountsstage.dev"],s="https://api.lclclerk.com",o="https://api.clerkstage.dev",l="https://api.clerk.com"},87549:(e,t,i)=>{"use strict";i.d(t,{__privateAdd:()=>a,__privateGet:()=>r,__privateMethod:()=>o,__privateSet:()=>s}),Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.prototype.hasOwnProperty;var n=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},r=(e,t,i)=>(n(e,t,"read from private field"),i?i.call(e):t.get(e)),a=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},s=(e,t,i,r)=>(n(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),o=(e,t,i)=>(n(e,t,"access private method"),i)},7324:(e,t,i)=>{"use strict";i.d(t,{createDevOrStagingUrlCache:()=>o,isDevelopmentFromSecretKey:()=>l,parsePublishableKey:()=>s});var n=i(15989),r=i(10654),a="pk_live_";function s(e,t={}){if(!(e=e||"")||!function(e){let t=(e=e||"").startsWith(a)||e.startsWith("pk_test_"),i=(0,n.isomorphicAtob)(e.split("_")[2]||"").endsWith("$");return t&&i}(e)){if(t.fatal)throw Error("Publishable key not valid.");return null}let i=e.startsWith(a)?"production":"development",r=(0,n.isomorphicAtob)(e.split("_")[2]);return r=r.slice(0,-1),t.proxyUrl?r=t.proxyUrl:"development"!==i&&t.domain&&(r=`clerk.${t.domain}`),{instanceType:i,frontendApi:r}}function o(){let e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;let i="string"==typeof t?t:t.hostname,n=e.get(i);return void 0===n&&(n=r.DEV_OR_STAGING_SUFFIXES.some(e=>i.endsWith(e)),e.set(i,n)),n}}}function l(e){return e.startsWith("test_")||e.startsWith("sk_test_")}},655:(e,t,i)=>{"use strict";i(87549)},96540:(e,t,i)=>{"use strict";i.d(t,{ClerkAPIResponseError:()=>n.ClerkAPIResponseError,buildErrorThrower:()=>n.buildErrorThrower,parseError:()=>n.parseError});var n=i(89427);i(87549)},2933:(e,t,i)=>{"use strict";i(87549)},92305:(e,t,i)=>{"use strict";i.d(t,{isomorphicAtob:()=>n.isomorphicAtob});var n=i(15989);i(87549)},83228:(e,t,i)=>{"use strict";i.d(t,{createDevOrStagingUrlCache:()=>n.createDevOrStagingUrlCache,isDevelopmentFromSecretKey:()=>n.isDevelopmentFromSecretKey,parsePublishableKey:()=>n.parsePublishableKey});var n=i(7324);i(87549)},62761:(e,t,i)=>{"use strict";i(87549)},38425:(e,t,i)=>{"use strict";i.d(t,{TelemetryCollector:()=>S});var n,r,a,s,o,l,c,u,d,p,h,f,m,g,y,v,b=i(29722),w=i(7324),x=i(87549),_={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},S=class{constructor(e){(0,x.__privateAdd)(this,o),(0,x.__privateAdd)(this,c),(0,x.__privateAdd)(this,d),(0,x.__privateAdd)(this,h),(0,x.__privateAdd)(this,m),(0,x.__privateAdd)(this,y),(0,x.__privateAdd)(this,n,void 0),(0,x.__privateAdd)(this,r,{}),(0,x.__privateAdd)(this,a,[]),(0,x.__privateAdd)(this,s,void 0),(0,x.__privateSet)(this,n,{maxBufferSize:e.maxBufferSize??_.maxBufferSize,samplingRate:e.samplingRate??_.samplingRate,disabled:e.disabled??!1,debug:e.debug??!1,endpoint:_.endpoint}),e.clerkVersion||"undefined"!=typeof window?(0,x.__privateGet)(this,r).clerkVersion=e.clerkVersion??"":(0,x.__privateGet)(this,r).clerkVersion="",(0,x.__privateGet)(this,r).sdk=e.sdk,(0,x.__privateGet)(this,r).sdkVersion=e.sdkVersion,(0,x.__privateGet)(this,r).publishableKey=e.publishableKey??"";let t=(0,w.parsePublishableKey)(e.publishableKey);t&&((0,x.__privateGet)(this,r).instanceType=t.instanceType),e.secretKey&&((0,x.__privateGet)(this,r).secretKey=e.secretKey.substring(0,16))}get isEnabled(){return!("development"!==(0,x.__privateGet)(this,r).instanceType||(0,x.__privateGet)(this,n).disabled||"undefined"!=typeof process&&(0,b.isTruthy)(process.env.CLERK_TELEMETRY_DISABLED)||"undefined"!=typeof window&&window?.navigator?.webdriver)}get isDebug(){return(0,x.__privateGet)(this,n).debug||"undefined"!=typeof process&&(0,b.isTruthy)(process.env.CLERK_TELEMETRY_DEBUG)}record(e){let t=(0,x.__privateMethod)(this,y,v).call(this,e.event,e.payload);(0,x.__privateMethod)(this,h,f).call(this,t.event,t),(0,x.__privateMethod)(this,o,l).call(this,e.eventSamplingRate)&&((0,x.__privateGet)(this,a).push(t),(0,x.__privateMethod)(this,c,u).call(this))}};n=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakSet,l=function(e){let t=Math.random(),i=t<=(0,x.__privateGet)(this,n).samplingRate&&(void 0===e||t<=e);return this.isEnabled&&!this.isDebug&&i},c=new WeakSet,u=function(){if("undefined"==typeof window){(0,x.__privateMethod)(this,d,p).call(this);return}if((0,x.__privateGet)(this,a).length>=(0,x.__privateGet)(this,n).maxBufferSize){(0,x.__privateGet)(this,s)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,x.__privateGet)(this,s)),(0,x.__privateMethod)(this,d,p).call(this);return}(0,x.__privateGet)(this,s)||("requestIdleCallback"in window?(0,x.__privateSet)(this,s,requestIdleCallback(()=>{(0,x.__privateMethod)(this,d,p).call(this)})):(0,x.__privateSet)(this,s,setTimeout(()=>{(0,x.__privateMethod)(this,d,p).call(this)},0)))},d=new WeakSet,p=function(){fetch(new URL("/v1/event",(0,x.__privateGet)(this,n).endpoint),{method:"POST",body:JSON.stringify({events:(0,x.__privateGet)(this,a)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{(0,x.__privateSet)(this,a,[])}).catch(()=>void 0)},h=new WeakSet,f=function(e,t){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))},m=new WeakSet,g=function(){let e={name:(0,x.__privateGet)(this,r).sdk,version:(0,x.__privateGet)(this,r).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(e={...e,...window.Clerk.constructor.sdkMetadata}),e},y=new WeakSet,v=function(e,t){let i=(0,x.__privateMethod)(this,m,g).call(this);return{event:e,cv:(0,x.__privateGet)(this,r).clerkVersion??"",it:(0,x.__privateGet)(this,r).instanceType??"",sdk:i.name,sdkv:i.version,...(0,x.__privateGet)(this,r).publishableKey?{pk:(0,x.__privateGet)(this,r).publishableKey}:{},...(0,x.__privateGet)(this,r).secretKey?{sk:(0,x.__privateGet)(this,r).secretKey}:{},payload:t}}},87666:(e,t,i)=>{"use strict";i.d(t,{isTruthy:()=>n.isTruthy});var n=i(29722);i(87549)},36977:(e,t,i)=>{"use strict";i(87549)},67280:(e,t,i)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}i.r(t),i.d(t,{_:()=>n,_interop_require_default:()=>n})},40727:(e,t,i)=>{"use strict";i.d(t,{__assign:()=>n});var n=function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},40572:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},5594:e=>{"use strict";e.exports={version:"14.1.3"}}};